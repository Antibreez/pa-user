if("undefined"==typeof Cities)var Cities=[];$(document).ready(function(){function showSpinner(){var t=$(".js-spinner");t.css({visibility:"visible",opacity:"1"})}function hideSpinner(){var t=$(".js-spinner");t.css({opacity:"0"}),window.setTimeout(function(){t.css({visibility:"hidden"})},1e3)}function formatState(t){if(!t.id)return t.text;var e=$('<span class="prod-desc__color" style="background-color: '+t.element.value.toLowerCase()+"; "+("white"===t.element.value.toLowerCase()?"border: 1px solid #000;":"")+'"></span><span class="prod-desc__label">'+t.text+"</span>");return e}function onOutsideClickHide(t,e,o){$(document).bind("mouseup touchend",function(n){t.is(n.target)||0!=$(n.target).closest(t).length||(e.stop(!0,!0).fadeOut(global.time),o&&o())})}function ftrAccordionInit(){$ftrAccordion.accordion({header:".js-accordion-head",animate:global.time,collapsible:!0,heightStyle:"content",beforeActivate:function(t,e){if($(t.currentTarget).hasClass("is-disabled"))return!1}})}function CatalogAndPriceAccordionInit(){var t=$(".catalog-and-price-carousel"),e=$(".js-accordions-catalog-and-price");e.accordion({header:".js-accordion-top",animate:global.time,collapsible:!0,heightStyle:"content",activate:function(e,o){t.slick("setPosition")}})}function toggleFtrAccordion(){$ftrAccordion.length>0&&($(window).width()<=global.tabletLgSize?ftrAccordionInit():$(".ui-accordion.js-accordions-footer").length>0&&$ftrAccordion.accordion("destroy"))}function customizeScrollbar(){!global.isTouch()&&$('[data-scrollbar="custom"]').length>0&&$('[data-scrollbar="custom"]').mCustomScrollbar({theme:"custom"}),$('[data-scrollbar="custom-h"]').length>0&&$('[data-scrollbar="custom-h"]').mCustomScrollbar({theme:"custom",autoHideScrollbar:!0,axis:"x"})}function initialiseTooltip(){$(".tooltip").tooltip({position:{my:"center top+15",at:"center bottom",collision:"flipfit + 50",using:function(t,e){$(this).css(t).addClass(e.vertical)},show:{effect:"fade",duration:global.time}}})}function closeScrollBlock(){$(".heat-pump__item").find(".js-block-hide-link").hide(),$(".dx-pro-model").find(".js-block-hide-link").hide(),$(".dx-pro-monitoring").find(".js-block-hide-link").hide(),$(".popup-item").find(".js-block-hide-link").hide(),$(".scroll-block_opened").length>0&&($(".scroll-block_opened").find(".js-block-show-link").show(),$(".scroll-block").removeClass("scroll-block_opened"),$(".scroll-block__wrapper").removeClass("scroll-block__wrapper_opened"),$(".scroll-block__wrapper").mCustomScrollbar("destroy"))}function checkHeight(t){var e=$("body").find(".scroll-block__wrapper");e.each(function(t){$(this).mCustomScrollbar("destroy")});for(var o=0;o<e.length;o++){var n=e[o],i=$(n).closest(".scroll-block");i.find(".js-block-hide-link").hide(),$(n).innerHeight()>t&&($(n).addClass("scroll-block__wrapper_lg"),i.hasClass("scroll-block_white")&&$(n).addClass("scroll-block__wrapper_white"),i.hasClass("scroll-block_nobackground")&&$(n).addClass("scroll-block__wrapper_nobackground"));var r=i.closest(".dx-pro-model"),s=i.closest(".popup-item");if(r.length>0){var a=r.innerHeight();r.css({"min-height":a+"px"})}if(s.length>0){var a=s.innerHeight();s.css({"min-height":a+"px"})}}}function changeStyleWCBlock(){var t=$(".js-water-cooling-block").find(".scroll-block__wrapper");$(window).width()>1599&&t.css({"max-height":"350px"}),$(window).width()>1023&&$(window).width()<1600&&(t.css({"padding-right":"0"}),t.removeClass("scroll-block__wrapper_lg"),$(".js-water-cooling-block").find(".js-block-show-link").hide())}function doParallax(){function t(t,e){$(window).scroll(function(){var n=t.offset().top-$(window).height()+t.outerHeight()/2,r=t.offset().top+t.outerHeight(),s=100-100*($(document).scrollTop()-r)/(n-r);s>0&&s<100&&(e?t.css({"background-position-y":s*o+"%"}):t.css({"background-position-x":100-s*i+"%"}))})}var e=$("[data-parallax]"),o=$("[data-parallax]").data("parallax")||.7,n=$("[data-parallax-horizontal]"),i=$("[data-parallax-horizontal]").data("parallax-horizontal")||.7;e.length&&e.each(function(){t($(this),!0)}),n.length&&n.each(function(){t($(this),!1)})}function initialiseTooltip(){$(".tooltip").tooltip({position:{my:"center top+15",at:"center bottom",collision:"flipfit + 50",using:function(t,e){$(this).css(t).addClass(e.vertical)},show:{effect:"fade",duration:global.time}}})}function createMobileCarousel(){$(".showroom-about-list").length>0&&($(window).width()<640?$(".showroom-about-list").hasClass("slick-initialized")||$(".showroom-about-list").slick({arrows:!1,dots:!0,speed:500,infinite:!1,slide:".showroom-about-list-item",slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:480,settings:{slidesToShow:1}}]}):$(".showroom-about-list").hasClass("slick-initialized")&&$(".showroom-about-list").slick("unslick")),$(".promo-page_draabe .promo-features__list.promo-features__list_no-border").length>0&&($(window).width()<640?$(".promo-page_draabe .promo-features__list.promo-features__list_no-border").hasClass("slick-initialized")||$(".promo-page_draabe .promo-features__list.promo-features__list_no-border").slick({arrows:!0,dots:!0,speed:500,infinite:!1,slide:".promo-features__list.promo-features__list_no-border .promo-features__item",slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:480,settings:{slidesToShow:1}}]}):$(".promo-page_draabe .promo-features__list.promo-features__list_no-border").hasClass("slick-initialized")&&$(".promo-page_draabe .promo-features__list.promo-features__list_no-border").slick("unslick"))}function createGalleryCarousel(){$(".section-gallery_carousel").length>0&&($(window).width()<1200?$(".section-gallery_carousel").hasClass("slick-initialized")||$(".section-gallery_carousel").slick({arrows:!1,dots:!0,speed:500,infinite:!1,slide:".section-gallery__item",slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:640,settings:{slidesToShow:1}},{breakpoint:479,settings:{adaptiveHeight:!0,slidesToShow:1}}]}):$(".section-gallery_carousel").hasClass("slick-initialized")&&$(".section-gallery_carousel").slick("unslick"))}function CatalogAndPriceCarousel(){var t=$(".catalog-and-price-carousel");t.slick({slide:".catalog-and-price-carousel__slide",dots:!1,slidesToShow:1,adaptiveHeight:!0,arrows:!0,prevArrow:'<span class="slick-prev"></span>',nextArrow:'<span class="slick-next"></span>',appendArrows:".catalog-and-price-carousel .slider-nav"})}function setBlockSize(t){var e=0;t.css("height",""),t.each(function(){var t=parseInt($(this).height());t>e&&(e=t)}),t.height(e)}function percentProgress(){function t(){o>=n?clearInterval(i):(o++,$(e).css("width",o+"%"),o>=33&&!$(".energy_eco .energy__bar").hasClass("is-full")&&$(".energy_eco .energy__bar").addClass("is-full"))}var e=$(".energy-block .energy__bar")[0],o=0,n=$(e).data("width"),i=setInterval(t,2)}function runHistorySlider(){$(".history__slider").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!1,variableWidth:!0,responsive:[{breakpoint:1600,settings:{slidesToShow:2}}]}).on("DOMMouseScroll mousewheel wheel",function(t){var e=t.originalEvent.deltaY||-t.originalEvent.detail||t.originalEvent.wheelDelta;if(t.preventDefault(),e>0){var o=$(".history__slider").slick("slickCurrentSlide");o<$(".history__slider").find(".slick-slide").length-$(".history__slider").slick("slickGetOption","slidesToShow")&&$(".history__slider").slick("slickNext")}else{var o=$(".history__slider").slick("slickCurrentSlide");o>0&&$(".history__slider").slick("slickPrev")}})}function resetHistorySlider(){window.matchMedia("(max-width: 1023px)").matches||$(document).width()<1023?$(".history__slider").hasClass("slick-initialized")&&$(".history__slider").slick("unslick").off("DOMMouseScroll mousewheel wheel"):runHistorySlider()}function sortingItems(t,e,o,n){var i=t,r=e,s=t.parent(".sorting__by-item"),a=t.children(".sorting__icon"),l=r.find(".sorting__icon"),c=r.children(".sorting__by-item"),u=o;s.hasClass("is-active")?a.hasClass("icon-az")?(a.removeClass("icon-az").addClass("icon-za"),i.data("order-value","desc")):(a.removeClass("icon-za").addClass("icon-az"),i.data("order-value","asc")):(c.removeClass("is-active"),l.removeClass("icon-za icon-az"),l.parent(".js-cat-sort").data("order-value","asc"),s.addClass("is-active"),a.addClass("icon-az")),n?n():(u.addClass("is-hidden"),setTimeout(function(){u.removeClass("is-hidden")},600))}function initialiseEraser(){var t=$(".filters__unit");t.each(function(){if($(this).find(".slider").length>0){var t=$(this).find(".slider"),e=t.find(".slider__range"),o=e.data("min"),n=e.data("max"),i=t.find(".ui-slider-handle:nth-child(2)").find("span"),r=t.find(".ui-slider-handle:nth-child(3)").find("span"),s=$(this).find(".js-reset-filter");i.text()==o&&r.text()==n&&s.hide()}else{var a=$(this).find(".js-reset-filter"),l=$(this).find("[type=checkbox]"),c=0;l.each(function(){$(this).prop("checked")&&c++}),0===c&&a.hide()}})}function resetSlider(){$range.slider({values:[$rangeMin,$rangeMax]}),$slider.find(".ui-slider-handle:nth-child(2)").find("span").text($rangeMin),$slider.find(".ui-slider-handle:nth-child(3)").find("span").text($rangeMax),$resetSliderBtn.hide()}function checkNumOfDisabled(){var t=$(".filters__unit");t.each(function(){var t=this,e=$(t).find("input[type=checkbox]"),o=0;e.each(function(){$(this).prop("disabled")&&o++});var n=$(t).find(".js-eye-btn-filter"),i=n.find(".tooltip");o>NUM_TO_SHOW_EYE?(n.show(),$(t).css({"padding-bottom":"20px"}),$(t).find("input[type=checkbox]").each(function(){if($(this).prop("disabled")){var e=$(this).attr("id");$(t).find('label[for="'+e+'"]').hide().addClass("is-hidden")}})):(n.hide(),n.addClass("is-show"),i.attr("title","Скрыть неактивные пункты"))})}function findNumOfCheckboxes(t){var e=t.find('input[type="checkbox"]').length,o=t.find(".is-hidden").length;return e-o}function initialiseOneCSBlock(t){var e=t.find(".filters__unit-body");findNumOfCheckboxes(t)>NUM_TO_SHOW_SCROLL?(e.addClass("is-scroll"),e.mCustomScrollbar({theme:"minimal-dark"})):(e.mCustomScrollbar("destroy"),e.removeClass("is-scroll"))}function initialiseALLFilterCSBlock(){var t=$(".filters__unit");t.each(function(){var t=$(this),e=t.find(".filters__unit-body");findNumOfCheckboxes(t)>NUM_TO_SHOW_SCROLL&&(e.addClass("is-scroll"),e.mCustomScrollbar({theme:"minimal-dark"}))})}function initialiseResetAllBtn(){var t=$(".js-filters-unit-reset");isInputChecked()?t.addClass("is-visible"):t.removeClass("is-visible")}function isInputChecked(){var t=0;return $("input").each(function(){$(this).prop("checked")&&t++}),t>0}function loadHtml5LightBox(t){!function(e){e.fn.html5lightbox=function(o){var n=this;n.options=e.extend({freelink:"http://html5box.com/",defaultvideovolume:1,autoclose:!1,autoclosedelay:0,insideiframe:!1,autoresizecontent:!0,defaultwidth:960,defaultheight:540,autoplay:!0,loopvideo:!1,html5player:!0,responsive:!0,nativehtml5controls:!1,videohidecontrols:!1,nativecontrolsonfirefox:!0,nativecontrolsonie:!0,imagekeepratio:!0,maxheight:!1,useflashonie9:!0,useflashonie10:!0,useflashonie11:!1,useflashformp4onfirefox:!1,enablepdfjs:!0,pdfjsengine:"",openpdfinnewtaboniphone:!1,openpdfinnewtabonipad:!1,googleanalyticsaccount:"",arrowloop:!0,showall:!1,userelforgroup:!0,shownavigation:!1,thumbwidth:96,thumbheight:72,thumbgap:4,thumbtopmargin:12,thumbbottommargin:12,thumbborder:1,thumbbordercolor:"transparent",thumbhighlightbordercolor:"#fff",thumbopacity:1,navbuttonwidth:32,navbgcolor:"rgba(0,0,0,0.2)",shownavcontrol:!0,navcontrolimage:"",hidenavdefault:!1,overlaybgcolor:"#000",overlayopacity:.9,bgcolor:"transparent",bordersize:8,borderradius:0,bordermargin:16,bordertopmargin:60,bordertopmarginsmall:60,barautoheight:!0,barheight:64,responsivebarheight:!1,smallscreenheight:415,barheightonsmallheight:64,notkeepratioonsmallheight:!1,loadingwidth:64,loadingheight:64,resizespeed:400,fadespeed:400,jsfolder:t,skinsfoldername:"",loadingimage:"",nextimage:"",previmage:"",closeimage:"",playvideoimage:"",titlebgimage:"",navarrowsprevimage:"",navarrowsnextimage:"",navarrowsalwaysshowontouch:!0,navarrowsbottomscreenwidth:479,closeonoverlay:!0,alwaysshownavarrows:!1,showplaybutton:!1,playimage:"",pauseimage:"",fullscreenmode:!1,fullscreencloseimage:"",fullscreennextimage:"",fullscreenprevimage:"",fullscreennomargin:!1,fullscreenmodeonsmallscreen:!1,fullscreennomarginonsmallscreen:!1,fullscreensmallscreenwidth:736,fullscreenbgcolor:"rgba(0, 0, 0, 0.9)",fullscreennomargintextinside:!1,videobgcolor:"#000",html5videoposter:"",showtitle:!0,titlestyle:"bottom",titleinsidecss:"color:#fff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 8px;",titlebottomcss:"",showdescription:!0,descriptioninsidecss:"color:#fff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 0px 0px; padding: 0px;",descriptionbottomcss:"color:#333; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 0px 0px; padding: 0px;",fullscreentitlebottomcss:"color:#fff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 8px 8px;",fullscreendescriptionbottomcss:"color:#fff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 0px 0px; padding: 0px;",showtitleprefix:!0,titleprefix:"%NUM / %TOTAL",autoslide:!1,slideinterval:5e3,showtimer:!1,timerposition:"bottom",timerheight:2,timercolor:"#dc572e",timeropacity:1,initvimeo:!1,inityoutube:!0,swipepreventdefaultonandroid:!1,initsocial:!0,showsocial:!1,socialposition:"position:absolute;top:100%;right:0;",socialpositionsmallscreen:"position:absolute;top:100%;right:0;left:0;",socialdirection:"horizontal",socialbuttonsize:32,socialbuttonfontsize:18,socialrotateeffect:!0,showfacebook:!0,showtwitter:!0,showpinterest:!0,showemail:!1,imagepercentage:75,sidetobottomscreenwidth:479,errorwidth:280,errorheight:48,errorcss:"text-align:center; color:#ff0000; font-size:14px; font-family:Arial, sans-serif;",enabletouchswipe:!0,mobileresizeevent:!1,swipedistance:0,bodynoscroll:!1,useabsolutepos:!1,useabsoluteposonmobile:!1,supportesckey:!0,supportarrowkeys:!0,version:"3.3",stamp:!1,freemark:"72,84,77,76,53,32,76,105,103,104,116,98,111,120,32,70,114,101,101,32,86,101,114,115,105,111,110",watermark:"",watermarklink:""},o),"undefined"!=typeof html5lightbox_options&&html5lightbox_options&&e.extend(n.options,html5lightbox_options),e("div.html5lightbox_options").length&&e.each(e("div.html5lightbox_options").data(),function(t,e){n.options[t.toLowerCase()]=e}),e("div#html5lightbox_options").length&&e.each(e("div#html5lightbox_options").data(),function(t,e){n.options[t.toLowerCase()]=e}),e("div#html5lightbox_general_options").length&&e.each(e("div#html5lightbox_general_options").data(),function(t,e){n.options[t.toLowerCase()]=e});var i=n.options.defaultwidth,r=n.options.defaultheight,s=0,a=1,l=2,c=3,u=4,d=5,h=6,p=7,f=8,m=9,g=11,v=12;n.options.types=["IMAGE","FLASH","VIDEO","YOUTUBE","PDF","MP3","WEB","FLV","DAILYMOTION","DIV","WISTIA","IFRAMEVIDEO"],n.options.htmlfolder=window.location.href.substr(0,window.location.href.lastIndexOf("/")+1),n.options.skinsfolder=n.options.skinsfoldername,n.options.skinsfolder.length>0&&"/"!=n.options.skinsfolder[n.options.skinsfolder.length-1]&&(n.options.skinsfolder+="/"),"/"!=n.options.skinsfolder.charAt(0)&&"http:"!=n.options.skinsfolder.substring(0,5)&&"https:"!=n.options.skinsfolder.substring(0,6)&&(n.options.skinsfolder=n.options.jsfolder+n.options.skinsfolder);for(var b=[],w=0;w<b.length;w++)n.options[b[w]]&&"http://"!=n.options[b[w]].substring(0,7).toLowerCase()&&"https://"!=n.options[b[w]].substring(0,8).toLowerCase()&&(n.options[b[w]]=n.options.skinsfolder+n.options[b[w]]);var w,_,$="",y=n.options.freemark.split(",");for(w=0;w<y.length;w++)$+=String.fromCharCode(y[w]);n.options.freemark=$;var x="hmtamgli5cboxh.iclolms";for(w=1;w<=5;w++)x=x.slice(0,w)+x.slice(w+1);for(_=x.length,w=0;w<5;w++)x=x.slice(0,_-9+w)+x.slice(_-8+w);n.options.htmlfolder.indexOf(x)!=-1&&(n.options.stamp=!1),n.options.flashInstalled=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(n.options.flashInstalled=!0)}catch(k){navigator.mimeTypes["application/x-shockwave-flash"]&&(n.options.flashInstalled=!0)}if(n.options.html5VideoSupported=!!document.createElement("video").canPlayType,n.options.isChrome=null!=navigator.userAgent.match(/Chrome/i),n.options.isFirefox=null!=navigator.userAgent.match(/Firefox/i),n.options.isOpera=null!=navigator.userAgent.match(/Opera/i)||null!=navigator.userAgent.match(/OPR\//i),n.options.isSafari=null!=navigator.userAgent.match(/Safari/i),n.options.isIE11=null!=navigator.userAgent.match(/Trident\/7/)&&null!=navigator.userAgent.match(/rv:11/),n.options.isIE=null!=navigator.userAgent.match(/MSIE/i)&&!n.options.isOpera,n.options.isIE10=null!=navigator.userAgent.match(/MSIE 10/i)&&!this.options.isOpera,n.options.isIE9=null!=navigator.userAgent.match(/MSIE 9/i)&&!n.options.isOpera,n.options.isIE8=null!=navigator.userAgent.match(/MSIE 8/i)&&!n.options.isOpera,n.options.isIE7=null!=navigator.userAgent.match(/MSIE 7/i)&&!n.options.isOpera,n.options.isIE6=null!=navigator.userAgent.match(/MSIE 6/i)&&!n.options.isOpera,n.options.isIE678=n.options.isIE6||n.options.isIE7||n.options.isIE8,n.options.isIE6789=n.options.isIE6||n.options.isIE7||n.options.isIE8||n.options.isIE9,n.options.isAndroid=null!=navigator.userAgent.match(/Android/i),n.options.isIPad=null!=navigator.userAgent.match(/iPad/i),n.options.isIPhone=null!=navigator.userAgent.match(/iPod/i)||null!=navigator.userAgent.match(/iPhone/i),n.options.isIOS=n.options.isIPad||n.options.isIPhone,n.options.isMobile=n.options.isAndroid||n.options.isIPad||n.options.isIPhone,n.options.isIOSLess5=n.options.isIPad&&n.options.isIPhone&&(null!=navigator.userAgent.match(/OS 4/i)||null!=navigator.userAgent.match(/OS 3/i)),n.options.supportCSSPositionFixed=!n.options.isIE6&&!n.options.isIOSLess5,n.options.iequirksmode=n.options.isIE6789&&"CSS1Compat"!=document.compatMode,n.options.isTouch="ontouchstart"in window,n.options.isAndroid){var C=navigator.userAgent.match(/Android\s([0-9\.]*)/i);n.options.androidVersion=C&&C.length>=2?parseInt(C[1],10):-1}var j=document.createElement("video");if(n.options.canplaymp4=j&&j.canPlayType&&j.canPlayType("video/mp4").replace(/no/,""),n.options.isMobile&&(n.options.autoplay=!1),n.options.isFirefox&&n.options.nativecontrolsonfirefox&&(n.options.nativehtml5controls=!0),(n.options.isIE6789||n.options.isIE10||n.options.isIE11)&&n.options.nativecontrolsonie&&(n.options.nativehtml5controls=!0),n.options.navheight=0,n.options.thumbgap+=2*n.options.thumbborder,n.options.resizeTimeout=-1,n.slideTimeout=null,n.autosliding=!1,n.elemArray=new Array,n.options.curElem=-1,n.defaultoptions=e.extend({},n.options),n.options.googleanalyticsaccount&&!window._gaq&&(window._gaq=window._gaq||[],window._gaq.push(["_setAccount",n.options.googleanalyticsaccount]),window._gaq.push(["_trackPageview"]),e.getScript("https://ssl.google-analytics.com/ga.js")),n.options.initvimeo){var S=document.createElement("script");S.src=n.options.jsfolder+"froogaloop2.min.js";var T=document.getElementsByTagName("script")[0];T.parentNode.insertBefore(S,T)}if(n.options.inityoutube){var S=document.createElement("script");S.src="https://www.youtube.com/iframe_api";var T=document.getElementsByTagName("script")[0];T.parentNode.insertBefore(S,T)}n.showing=!1,n.navvisible=!1,n.disableEscKey=function(t){t?n.disableesckeyinfullscreen=!0:setTimeout(function(){n.disableesckeyinfullscreen=!1},1e3)},n.supportKeyboard=function(){n.disableesckeyinfullscreen=!1,e(document).keyup(function(t){n.showing&&(!n.disableesckeyinfullscreen&&n.options.supportesckey&&27==t.keyCode?n.finish():n.options.supportarrowkeys&&(39==t.keyCode?n.gotoSlide(-1):37==t.keyCode&&n.gotoSlide(-2)))}),n.options.supportesckey&&(document.addEventListener("MSFullscreenChange",function(){n.disableEscKey(null!=document.msFullscreenElement)},!1),document.addEventListener("webkitfullscreenchange",function(){n.disableEscKey(document.webkitIsFullScreen)},!1))},n.supportKeyboard(),n.init=function(){n.showing=!1,n.readData(),n.createMarkup(),n.initSlide()},n.readData=function(){n.each(function(){if("a"==this.nodeName.toLowerCase()||"area"==this.nodeName.toLowerCase()){var t=e(this),o="mediatype"in t.data()?t.data("mediatype"):n.checkType(t.attr("href"));if(!(o<0)){for(var i=t.data("title")?t.data("title"):t.attr("title"),r=t.data("group")?t.data("group"):n.options.userelforgroup?t.attr("rel"):null,s=0;s<n.elemArray.length;s++)if(t.attr("href")==n.elemArray[s][a])return n.elemArray[s][l]=i,void(n.elemArray[s][c]=r);n.elemArray.push(new Array(o,t.attr("href"),i,r,t.data("width"),t.data("height"),t.data("webm"),t.data("ogg"),t.data("thumbnail"),t.data("description")))}}})},n.createMarkup=function(){if(e(window).width()<=n.options.fullscreensmallscreenwidth&&(n.options.fullscreenmodeonsmallscreen&&(n.options.fullscreenmode=!0,n.options.fullscreennomarginonsmallscreen&&(n.options.fullscreennomargin=!0)),n.options.fullscreenmode&&n.options.fullscreennomarginonsmallscreen&&(n.options.fullscreennomargin=!0)),n.options.fullscreenmode&&n.options.fullscreennomargin&&(n.options.bgcolor=n.options.fullscreenbgcolor,n.options.bordersize=0,n.options.bordermargin=0,n.options.bordertopmargin=0,n.options.bordertopmarginsmall=0,n.options.fullscreennomargintextinside?n.options.titlestyle="inside":(n.options.titlebottomcss=n.options.fullscreentitlebottomcss,n.options.descriptionbottomcss=n.options.fullscreendescriptionbottomcss)),n.options.barheightoriginal=n.options.barheight,n.options.responsivebarheight){var t=e(window).height();t<=n.options.smallscreenheight&&(n.options.barheight=n.options.barheightonsmallheight)}n.options.titlecss||(n.options.titlecss="inside"==n.options.titlestyle?n.options.titleinsidecss:n.options.titlebottomcss),n.options.descriptioncss||(n.options.descriptioncss="inside"==n.options.titlestyle?n.options.descriptioninsidecss:n.options.descriptionbottomcss),n.options.titlecss=e.trim(n.options.titlecss),n.options.titlecss.length>1&&("{"==n.options.titlecss.charAt(0)&&(n.options.titlecss=n.options.titlecss.substring(1)),"}"==n.options.titlecss.charAt(n.options.titlecss.length-1)&&(n.options.titlecss=n.options.titlecss.substring(0,n.options.titlecss.length-1))),n.options.descriptioncss=e.trim(n.options.descriptioncss),n.options.descriptioncss.length>1&&("{"==n.options.descriptioncss.charAt(0)&&(n.options.descriptioncss=n.options.descriptioncss.substring(1)),"}"==n.options.descriptioncss.charAt(n.options.descriptioncss.length-1)&&(n.options.descriptioncss=n.options.descriptioncss.substring(0,n.options.descriptioncss.length-1))),n.options.errorcss=e.trim(n.options.errorcss),n.options.errorcss.length>1&&("{"==n.options.errorcss.charAt(0)&&(n.options.errorcss=n.options.errorcss.substring(1)),"}"==n.options.errorcss.charAt(n.options.errorcss.length-1)&&(n.options.errorcss=n.options.errorcss.substring(0,n.options.errorcss.length-1)));var o=".bodynoscroll {height:100%;overflow:hidden;}";o+=".html5-hide {display:none !important;} #html5box-html5-lightbox #html5-text {"+n.options.titlecss+"}",o+="#html5box-html5-lightbox .html5-description {"+n.options.descriptioncss+"}",o+="#html5box-html5-lightbox .html5-error {"+n.options.errorcss+"}",(n.options.navarrowsalwaysshowontouch||n.options.alwaysshownavarrows)&&(o+="#html5box-html5-lightbox .html5-prev-touch {left:0px;top:50%;margin-top:-16px;margin-left:-32px;} #html5box-html5-lightbox .html5-next-touch {right:0px;top:50%;margin-top:-16px;margin-right:-32px;}",o+="@media (max-width: "+n.options.navarrowsbottomscreenwidth+"px) { #html5box-html5-lightbox .html5-prev-touch {top:100%;left:0;margin:0;} #html5box-html5-lightbox .html5-next-touch {top:100%;right:0;margin:0;} }"),o+="#html5box-html5-lightbox .html5-prev-fullscreen {display:block;} #html5box-html5-lightbox .html5-next-fullscreen {display:block;} #html5box-html5-lightbox .html5-prev-bottom-fullscreen {display:none;} #html5box-html5-lightbox .html5-next-bottom-fullscreen {display:none;}",o+="@media (max-width: "+n.options.navarrowsbottomscreenwidth+"px) {#html5box-html5-lightbox .html5-prev-fullscreen {display:none;} #html5box-html5-lightbox .html5-next-fullscreen {display:none;} #html5box-html5-lightbox .html5-prev-bottom-fullscreen {display:block;} #html5box-html5-lightbox .html5-next-bottom-fullscreen {display:block;} }","right"==n.options.titlestyle?(o+="#html5box-html5-lightbox #html5-elem-wrap {width:"+n.options.imagepercentage+"%;height:100%;} #html5box-html5-lightbox #html5-elem-data-box {min-height:100%;}",o+="@media (max-width: "+n.options.sidetobottomscreenwidth+"px) {#html5box-html5-lightbox #html5-elem-wrap {width:100%;height:auto;} #html5box-html5-lightbox #html5-elem-data-box {width:100%;height:auto;min-height:0;}}"):"left"==n.options.titlestyle&&(o+="#html5box-html5-lightbox #html5-elem-wrap {height:100%;} #html5box-html5-lightbox #html5-elem-data-box {width:"+String(100-n.options.imagepercentage)+"%;min-height:100%;}",o+="@media (max-width: "+n.options.sidetobottomscreenwidth+"px) {#html5box-html5-lightbox #html5-elem-wrap {width:100%;height:auto;} #html5box-html5-lightbox #html5-elem-data-box {width:100%;height:auto;min-height:0;}}"),o+=".html5-rotate { border-radius:50%; -webkit-transition:-webkit-transform .4s ease-in; transition: transform .4s ease-in; } .html5-rotate:hover { -webkit-transform: rotate(360deg); transform: rotate(360deg); }",o+="@media (max-width: "+n.options.navarrowsbottomscreenwidth+"px) {#html5-social {"+n.options.socialpositionsmallscreen+"}}",e("head").append("<style type='text/css' data-creator='html5box-html5-lightbox'>"+o+"</style>"),n.$lightbox=e("<div id='html5box-html5-lightbox' style='display:none;top:0px;left:0px;width:100%;height:100%;z-index:9999998;text-align:center;'><div id='html5-lightbox-overlay' style='display:block;position:absolute;top:0px;left:0px;width:100%;min-height:100%;background-color:"+n.options.overlaybgcolor+";opacity:"+n.options.overlayopacity+";filter:alpha(opacity="+Math.round(100*n.options.overlayopacity)+");'></div><div id='html5-lightbox-box' style='display:block;position:relative;margin:0px auto;'><div id='html5-elem-box' style='display:block;position:relative;width:100%;height:auto;margin:0px auto;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;'><div id='html5-elem-wrap' style='display:block;position:relative;margin:0px auto;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background-color:"+n.options.bgcolor+";'><div id='html5-loading' class='html5-loading' style='display:none;position:absolute;top:0px;left:0px;text-align:center;width:100%;height:100%;'></div><div id='html5-error' class='html5-error' style='display:none;position:absolute;padding:"+n.options.bordersize+"px;text-align:center;width:"+n.options.errorwidth+"px;height:"+n.options.errorheight+"px;'>The requested content cannot be loaded.<br />Please try again later.</div><div id='html5-image' style='display:none;position:relative;top:0px;left:0px;width:100%;height:100%;"+(n.options.iequirksmode?"margin":"padding")+":"+n.options.bordersize+"px;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;'></div></div></div><div id='html5-watermark' style='display:none;position:absolute;left:"+String(n.options.bordersize+2)+"px;top:"+String(n.options.bordersize+2)+"px;'></div></div></div>"),n.options.positionFixed=n.options.supportCSSPositionFixed&&n.options.responsive&&!n.options.iequirksmode,(n.options.useabsolutepos||n.options.useabsoluteposonmobile&&n.options.isMobile)&&(n.options.positionFixed=!1),n.options.positionFixed||(n.options.bodynoscroll=!0),n.$lightbox.css({position:n.options.positionFixed?"fixed":"absolute"}),n.$lightbox.appendTo("body"),n.$lightboxBox=e("#html5-lightbox-box",n.$lightbox),n.$elem=e("#html5-elem-box",n.$lightbox),n.$elemWrap=e("#html5-elem-wrap",n.$lightbox),n.$loading=e("#html5-loading",n.$lightbox),n.$error=e("#html5-error",n.$lightbox),n.$image=e("#html5-image",n.$lightbox),n.options.fullscreenmode&&n.options.fullscreennomargin&&n.$elem.css({overflow:"hidden"});var i="<div id='html5-elem-data-box' style='display:none;box-sizing:border-box;'><div id='html5-text' class='html5-text' style='display:block;overflow:hidden;'></div></div>";if("left"==n.options.titlestyle?n.$elem.prepend(i):n.$elem.append(i),n.$elemData=e("#html5-elem-data-box",n.$lightbox),n.$text=e("#html5-text",n.$lightbox),n.options.borderradius>0&&(n.$elem.css({"border-radius":n.options.borderradius+"px","-moz-border-radius":n.options.borderradius+"px","-webkit-border-radius":n.options.borderradius+"px"}),"inside"==n.options.titlestyle?n.$elemWrap.css({"border-radius":n.options.borderradius+"px","-moz-border-radius":n.options.borderradius+"px","-webkit-border-radius":n.options.borderradius+"px"}):"bottom"==n.options.titlestyle&&(n.$elemWrap.css({"border-top-left-radius":n.options.borderradius+"px","-moz-top-left-border-radius":n.options.borderradius+"px","-webkit-top-left-border-radius":n.options.borderradius+"px","border-top-right-radius":n.options.borderradius+"px","-moz-top-right-border-radius":n.options.borderradius+"px","-webkit-top-right-border-radius":n.options.borderradius+"px"}),n.$elemData.css({"border-bottom-left-radius":n.options.borderradius+"px","-moz-top-bottom-border-radius":n.options.borderradius+"px","-webkit-bottom-left-border-radius":n.options.borderradius+"px","border-bottom-right-radius":n.options.borderradius+"px","-moz-bottom-right-border-radius":n.options.borderradius+"px","-webkit-bottom-right-border-radius":n.options.borderradius+"px"}))),"right"==n.options.titlestyle||"left"==n.options.titlestyle?(n.$lightboxBox.css({"background-color":n.options.bgcolor}),"right"==n.options.titlestyle?(n.$elemWrap.css({position:"relative","float":"left"}),n.$elemData.css({position:"relative",overflow:"hidden",padding:n.options.bordersize+"px"})):(n.$elemWrap.css({position:"relative",overflow:"hidden"}),n.$elemData.css({position:"relative","float":"left",padding:n.options.bordersize+"px"}))):"inside"==n.options.titlestyle?(n.$elemData.css({position:"absolute",margin:n.options.bordersize+"px",bottom:0,left:0,"background-color":"#333","background-color":"rgba(51, 51, 51, 0.6)"}),n.$text.css({padding:n.options.bordersize+"px "+2*n.options.bordersize+"px"})):(n.$elemData.css({position:"relative",width:"100%",height:n.options.barautoheight?"auto":n.options.barheight+"px",padding:"0 0 "+n.options.bordersize+"px 0","background-color":n.options.bgcolor,"text-align":"left"}),n.options.fullscreenmode&&n.options.fullscreennomargin||n.$text.css({margin:"0 "+n.options.bordersize+"px"})),n.options.showsocial){var r='<div id="html5-social" style="display:none;'+n.options.socialposition+'">',c=("horizontal"==n.options.socialdirection?"display:inline-block;":"display:block;")+"margin:4px;",u="display:table-cell;width:"+n.options.socialbuttonsize+"px;height:"+n.options.socialbuttonsize+"px;font-size:"+n.options.socialbuttonfontsize+"px;border-radius:50%;color:#fff;vertical-align:middle;text-align:center;cursor:pointer;padding:0;";n.options.showemail&&(r+='<div class="html5-social-btn'+(n.options.socialrotateeffect?" html5-rotate":"")+' html5-social-email" style="'+c+'"><div class="mh-icon-mail" style="'+u+'background-color:#4d83ff;"></div></div>'),n.options.showfacebook&&(r+='<div class="html5-social-btn'+(n.options.socialrotateeffect?" html5-rotate":"")+' html5-social-facebook" style="'+c+'"><div class="mh-icon-facebook" style="'+u+'background-color:#3b5998;"></div></div>'),n.options.showtwitter&&(r+='<div class="html5-social-btn'+(n.options.socialrotateeffect?" html5-rotate":"")+' html5-social-twitter" style="'+c+'"><div class="mh-icon-twitter" style="'+u+'background-color:#03b3ee;"></div></div>'),n.options.showpinterest&&(r+='<div class="html5-social-btn'+(n.options.socialrotateeffect?" html5-rotate":"")+' html5-social-pinterest" style="'+c+'"><div class="mh-icon-pinterest" style="'+u+'background-color:#c92228;"></div></div>'),
r+='<div style="clear:both;"></div></div>',n.$lightboxBox.append(r),e(".html5-social-btn",n.$lightbox).click(function(){var t=window.location.href+(window.location.href.indexOf("?")<0?"?":"&")+"html5lightboxshare="+encodeURIComponent(n.currentElem[a]),o=n.currentElem[l],i=n.currentElem[a];if(0==n.currentElem[s])i=n.absoluteUrl(n.currentElem[a]);else if(3==n.currentElem[s])i="https://img.youtube.com/vi/"+n.getYoutubeId(n.currentElem[a])+"/0.jpg";else{var r=e('.html5lightbox[href="'+n.currentElem[a]+'"]');if(r.length>0)if(r.data("shareimage")&&r.data("shareimage").length>0)i=n.absoluteUrl(r.data("shareimage"));else if(r.data("thumbnail")&&r.data("thumbnail").length>0)i=n.absoluteUrl(r.data("thumbnail"));else{var c=e("img",r);c.length>0&&(i=n.absoluteUrl(c.attr("src")))}}var u=2==n.currentElem[s]||3==n.currentElem[s]||4==n.currentElem[s]||8==n.currentElem[s]||9==n.currentElem[s]||11==n.currentElem[s]||12==n.currentElem[s];return o=o?n.html2Text(o):"",e(this).hasClass("html5-social-facebook")?window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t)+"&t="+encodeURIComponent(o),"_blank"):e(this).hasClass("html5-social-twitter")?window.open("https://twitter.com/share?url="+encodeURIComponent(t)+"&text="+encodeURIComponent(o),"_blank"):e(this).hasClass("html5-social-pinterest")?window.open("https://pinterest.com/pin/create/bookmarklet/?media="+encodeURIComponent(i)+"&url="+encodeURIComponent(t)+"&description="+encodeURIComponent(o)+"&is_video="+(u?"true":"false"),"_blank"):e(this).hasClass("html5-social-email")&&window.open("mailto:?subject="+encodeURIComponent(o)+"&body=Check out this: "+encodeURIComponent(t)),!1})}if(e("#html5-image").on("click",function(){n.nextArrowClicked()}),n.options.fullscreenmode?(n.$lightbox.append("<div class='html5-next-fullscreen' style='cursor:pointer;position:absolute;right:"+n.options.bordersize+"px;top:50%;margin-top:-16px;'><img src='"+n.options.fullscreennextimage+"'></div><div class='html5-prev-fullscreen' style='cursor:pointer;position:absolute;left:"+n.options.bordersize+"px;top:50%;margin-top:-16px;'><img src='"+n.options.fullscreenprevimage+"'></div>"),n.$next=e(".html5-next-fullscreen",n.$lightbox),n.$prev=e(".html5-prev-fullscreen",n.$lightbox),n.$lightboxBox.append("<div class='html5-next-bottom-fullscreen' style='cursor:pointer;position:absolute;top:100%;right:0;margin-top:8px;'><img src='"+n.options.fullscreennextimage+"'></div><div class='html5-prev-bottom-fullscreen' style='cursor:pointer;position:absolute;top:100%;left:0;margin-top:8px;'><img src='"+n.options.fullscreenprevimage+"'></div>"),n.$nextbottom=e(".html5-next-bottom-fullscreen",n.$lightbox),n.$prevbottom=e(".html5-prev-bottom-fullscreen",n.$lightbox),n.$nextbottom.click(function(){n.nextArrowClicked()}),n.$prevbottom.click(function(){n.prevArrowClicked()}),n.$lightbox.append("<div id='html5-close-fullscreen' style='display:block;cursor:pointer;position:absolute;top:0;right:0;margin-top:0;margin-right:0;'><img src='"+n.options.fullscreencloseimage+"'></div>"),n.$close=e("#html5-close-fullscreen",n.$lightbox)):(n.$elemWrap.append("<div id='html5-next' class='html5-controls html5-next'></div><div id='html5-prev' class='html5-controls html5-prev'></div>"),n.$next=e("#html5-next",n.$lightbox),n.$prev=e("#html5-prev",n.$lightbox),(n.options.isTouch&&n.options.navarrowsalwaysshowontouch||n.options.alwaysshownavarrows)&&(n.$lightboxBox.append("<div class='html5-next-touch' style='display:block;cursor:pointer;position:absolute;'><img src='"+n.options.nextimage+"'></div><div class='html5-prev-touch' style='display:block;cursor:pointer;position:absolute;'><img src='"+n.options.previmage+"'></div>"),n.$nexttouch=e(".html5-next-touch",n.$lightbox),n.$prevtouch=e(".html5-prev-touch",n.$lightbox),n.$nexttouch.click(function(){n.nextArrowClicked()}),n.$prevtouch.click(function(){n.prevArrowClicked()})),n.$lightboxBox.append("<div id='html5-close' class='html5-close' style='display:none;cursor:pointer;'></div>"),n.$close=e("#html5-close",n.$lightbox)),n.$watermark=e("#html5-watermark",n.$lightbox),n.options.stamp)n.$watermark.html("<a href='"+n.options.freelink+"' style='text-decoration:none;' title='jQuery Lightbox'><div style='display:block;width:170px;height:20px;text-align:center;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;background-color:#fff;color:#333;font:12px Arial,sans-serif;'><div style='line-height:20px;'>"+n.options.freemark+"</div></div></a>");else if(n.options.watermark){var d="<img src='"+n.options.watermark+"' style='border:none;' />";n.options.watermarklink&&(d="<a href='"+n.options.watermarklink+"' target='_blank'>"+d+"</a>"),n.$watermark.html(d)}n.options.closeonoverlay&&e("#html5-lightbox-overlay",n.$lightbox).click(n.finish),n.$close.click(n.finish),n.$next.click(function(){n.nextArrowClicked()}),n.$prev.click(function(){n.prevArrowClicked()}),e(window).resize(function(){n.options.isIOS&&!n.options.mobileresizeevent||(clearTimeout(n.options.resizeTimeout),n.options.resizeTimeout=setTimeout(function(){n.resizeWindow()},500))}),e(window).scroll(function(){n.options.isIOS&&!n.options.mobileresizeevent||n.scrollBox()}),e(window).on("orientationchange",function(t){n.options.isMobile&&n.resizeWindow()}),n.options.enabletouchswipe&&n.enableSwipe()},n.html2Text=function(t){var e=document.createElement("div");return e.innerHTML=t,e.innerText},n.slideTimer=function(t,e,o){var n=this;n.timeout=t;var i=50,r=null,s=0,a=!1,l=!1,c=!1;return this.pause=function(){l&&(a=!0,clearInterval(r))},this.resume=function(t){c&&!t||(c=!1,l&&a&&(a=!1,r=setInterval(function(){s+=i,s>n.timeout&&(clearInterval(r),e&&e()),o&&o(s/n.timeout)},i)))},this.stop=function(){clearInterval(r),o&&o(-1),s=0,a=!1,l=!1},this.start=function(){s=0,a=!1,l=!0,r=setInterval(function(){s+=i,s>n.timeout&&(clearInterval(r),e&&e()),o&&o(s/n.timeout)},i)},this.startandpause=function(){s=0,a=!0,l=!0,c=!0},this},n.updateTimer=function(t){var o=Math.round(100*t);o>100&&(o=100),o<0&&(o=0),e("#html5-timer",n.$lightbox).css({display:"block",width:o+"%"})},n.initSlide=function(){n.autosliding=!1,n.slideTimeout=n.slideTimer(n.options.slideinterval,function(){n.gotoSlide(-1)},n.options.showtimer?function(t){n.updateTimer(t)}:null),n.options.autoslide&&(n.slideTimeout.stop(),n.autosliding=!0)},n.nextArrowClicked=function(){n.options.nextElem<=n.options.curElem&&n.options.onlastarrowclicked&&window[n.options.onlastarrowclicked]&&"function"==typeof window[n.options.onlastarrowclicked]&&window[n.options.onlastarrowclicked](),n.gotoSlide(-1)},n.prevArrowClicked=function(){n.options.prevElem>=n.options.curElem&&n.options.onfirstarrowclicked&&window[n.options.onfirstarrowclicked]&&"function"==typeof window[n.options.onfirstarrowclicked]&&window[n.options.onfirstarrowclicked](),n.gotoSlide(-2)},n.calcNextPrevElem=function(){n.options.nextElem=-1,n.options.prevElem=-1,n.options.inGroup=!1,n.options.groupIndex=0,n.options.groupCount=0;for(var t=n.elemArray[n.options.curElem][c],e=0;e<n.elemArray.length;e++)n.matchGroup(t,n.elemArray[e][c])&&(e==n.options.curElem&&(n.options.groupIndex=n.options.groupCount),n.options.groupCount++);var o,i=n.elemArray[n.options.curElem][c];if(void 0!=i&&null!=i){for(o=n.options.curElem+1;o<n.elemArray.length;o++)if(n.matchGroup(i,n.elemArray[o][c])){n.options.nextElem=o;break}if(n.options.nextElem<0)for(o=0;o<n.options.curElem;o++)if(n.matchGroup(i,n.elemArray[o][c])){n.options.nextElem=o;break}if(n.options.nextElem>=0){for(o=n.options.curElem-1;o>=0;o--)if(n.matchGroup(i,n.elemArray[o][c])){n.options.prevElem=o;break}if(n.options.prevElem<0)for(o=n.elemArray.length-1;o>n.options.curElem;o--)if(n.matchGroup(i,n.elemArray[o][c])){n.options.prevElem=o;break}}}(n.options.nextElem>=0||n.options.prevElem>=0)&&(n.options.inGroup=!0)},n.calcBoxPosition=function(t,o){var i=t+2*n.options.bordersize,r=o+2*n.options.bordersize,s=n.options.shownavigation&&n.navvisible?n.options.navheight:0,a=e(window).height(),l=Math.round((a-s)/2-r/2);"bottom"==n.options.titlestyle&&(l-=Math.round(n.options.barheight/2));var c=e(window).width()<n.options.navarrowsbottomscreenwidth?n.options.bordertopmarginsmall:n.options.bordertopmargin;if(l<c&&(l=c),n.options.insideiframe&&window.self!=window.top&&parent.window.jQuery&&parent.window.jQuery("#"+n.options.iframeid).length){var u=parent.window.jQuery("#"+n.options.iframeid).offset().top,d=parent.window.document.body.scrollTop;l=c,l+=d>u?d-u:0}return[i,r,l]},n.hideNavArrows=function(){var t=!1,e=!1;n.options.inGroup&&((n.options.arrowloop||!n.options.arrowloop&&n.options.prevElem<n.options.curElem)&&(t=!0),(n.options.arrowloop||!n.options.arrowloop&&n.options.prevElem<n.options.curElem)&&(e=!0)),t?(n.$prev.removeClass("html5-hide"),n.$prevbottom&&n.$prevbottom.removeClass("html5-hide"),n.$prevtouch&&n.$prevtouch.removeClass("html5-hide")):(n.$prev.addClass("html5-hide"),n.$prevbottom&&n.$prevbottom.addClass("html5-hide"),n.$prevtouch&&n.$prevtouch.addClass("html5-hide")),e?(n.$next.removeClass("html5-hide"),n.$nextbottom&&n.$nextbottom.removeClass("html5-hide"),n.$nexttouch&&n.$nexttouch.removeClass("html5-hide")):(n.$next.addClass("html5-hide"),n.$nextbottom&&n.$nextbottom.addClass("html5-hide"),n.$nexttouch&&n.$nexttouch.addClass("html5-hide"))},n.clickHandler=function(){var t=e(this),o={};if(e.each(t.data(),function(t,e){o[t.toLowerCase()]=e}),n.options=e.extend(n.options,n.defaultoptions,o),e(window).trigger("html5lightbox.lightboxshow"),n.init(),n.elemArray.length<=0)return!0;n.hideObjects();for(var i=0;i<n.elemArray.length&&n.elemArray[i][a]!=t.attr("href");i++);if(i==n.elemArray.length)return!0;n.options.curElem=i,n.calcNextPrevElem(),n.reset(),n.$lightbox.show();var r=n.calcBoxPosition(n.options.loadingwidth,n.options.loadingheight),s=r[0],l=r[1],c=r[2];return n.options.iequirksmode?n.$lightboxBox.css({top:c}):n.$lightboxBox.css({"margin-top":c}),"left"==n.options.titlestyle||"right"==n.options.titlestyle?n.$lightboxBox.css({width:s,height:l}):(n.$lightboxBox.css({width:s,height:"auto"}),n.$elemWrap.css({width:s,height:l})),n.loadCurElem(),!1},n.loadThumbnail=function(t,o){var i=new Image;e(i).on("load",function(){var i;i=this.width/this.height<=n.options.thumbwidth/n.options.thumbheight?"width:100%;":"height:100%;",e(".html5-nav-thumb").eq(o).html("<img style='"+i+"' src='"+t+"' />")}),i.src=t},n.matchGroup=function(t,o){if(n.options.showall)return!0;if(!t||!o)return!1;var i=t.split(":"),r=o.split(":"),s=!1;for(var a in i)if(e.inArray(i[a],r)>-1){s=!0;break}return s},n.showNavigation=function(){if(n.options.shownavigation&&n.currentElem&&n.currentElem[c]){var t,o=!1,i=n.currentElem[c];for(t=0;t<n.elemArray.length;t++)if(n.matchGroup(i,n.elemArray[t][c])&&n.elemArray[t][f]&&n.elemArray[t][f].length>0){o=!0;break}if(o&&(n.options.navheight=n.options.thumbheight+n.options.thumbtopmargin+n.options.thumbbottommargin,!(e(".html5-nav").length>0))){var r=n.options.hidenavdefault?"top:100%;bottom:auto;left:0;right:0;":"top:auto;bottom:0;left:0;right:0;",s=n.options.positionFixed?"fixed":"absolute";e("body").append("<div class='html5-nav' style='display:block;position:"+s+";"+r+"width:100%;height:"+n.options.navheight+"px;z-index:9999999;"+(n.options.navbgcolor?"background-color:"+n.options.navbgcolor+";":"")+"'><div class='html5-nav-container' style='position:relative;margin:"+n.options.thumbtopmargin+"px auto "+n.options.thumbbottommargin+"px;'><div class='html5-nav-prev' style='display:block;position:absolute;cursor:pointer;width:"+n.options.navbuttonwidth+'px;height:100%;left:0;top:0;background:url("'+n.options.navarrowsprevimage+"\") no-repeat left center;'></div><div class='html5-nav-mask' style='display:block;position:relative;margin:0 auto;overflow:hidden;'><div class='html5-nav-list'></div></div><div class='html5-nav-next' style='display:block;position:absolute;cursor:pointer;width:"+n.options.navbuttonwidth+'px;height:100%;right:0;top:0;background:url("'+n.options.navarrowsnextimage+"\") no-repeat right center;'></div></div></div>"),n.navvisible=!n.options.hidenavdefault,n.options.shownavcontrol&&(e(".html5-nav").append('<div class="html5-nav-showcontrol" style="position:absolute;display:block;cursor:pointer;bottom:100%;right:12px;margin:0;padding:0;"><img src="'+n.options.navcontrolimage+'"></div>'),e(".html5-nav-showcontrol").click(function(){var t=e(window).height(),o=e(".html5-nav").height();if(n.navvisible)n.navvisible=!1,e(".html5-nav").css({top:t-o+"px",bottom:"auto"}).animate({top:t+"px"},function(){e(this).css({top:"100%",bottom:"auto"})});else{n.navvisible=!0;var o=e(".html5-nav").height();e(".html5-nav").css({top:t+"px",bottom:"auto"}).animate({top:t-o+"px"},function(){e(this).css({top:"auto",bottom:0})})}n.resizeWindow()}));var a=0;for(t=0;t<n.elemArray.length;t++)n.matchGroup(i,n.elemArray[t][c])&&n.elemArray[t][f]&&n.elemArray[t][f].length>0&&(e(".html5-nav-list").append("<div class='html5-nav-thumb' data-arrayindex='"+t+"' style='float:left;overflow:hidden;cursor:pointer;opacity:"+n.options.thumbopacity+";margin: 0 "+n.options.thumbgap/2+"px;width:"+n.options.thumbwidth+"px;height:"+n.options.thumbheight+"px;border:"+n.options.thumbborder+"px solid "+n.options.thumbbordercolor+";'></div>"),this.loadThumbnail(n.elemArray[t][f],a),a++);e(".html5-nav-thumb").hover(function(){e(this).css({opacity:1}),e(this).css({border:n.options.thumbborder+"px solid "+n.options.thumbhighlightbordercolor})},function(){e(this).css({opacity:n.options.thumbopacity}),e(this).css({border:n.options.thumbborder+"px solid "+n.options.thumbbordercolor})}),e(".html5-nav-thumb").click(function(){var t=e(this).data("arrayindex");t>=0&&n.gotoSlide(t)}),n.options.totalwidth=a*(n.options.thumbgap+n.options.thumbwidth+2*n.options.thumbborder),e(".html5-nav-list").css({display:"block",position:"relative","margin-left":0,width:n.options.totalwidth+"px"}).append("<div style='clear:both;'></div>");var l=e(".html5-nav-mask"),u=e(".html5-nav-prev"),d=e(".html5-nav-next");u.click(function(){var t=e(".html5-nav-list"),o=e(".html5-nav-next"),i=e(window).width(),r=i-2*n.options.navbuttonwidth,s=parseInt(t.css("margin-left"))+r;s>=0?(s=0,e(this).css({"background-position":"center left"})):e(this).css({"background-position":"center right"}),s<=r-n.options.totalwidth?o.css({"background-position":"center left"}):o.css({"background-position":"center right"}),t.animate({"margin-left":s})}),d.click(function(){var t=e(".html5-nav-list"),o=e(".html5-nav-prev"),i=e(window).width(),r=i-2*n.options.navbuttonwidth,s=parseInt(t.css("margin-left"))-r;s<=r-n.options.totalwidth?(s=r-n.options.totalwidth,e(this).css({"background-position":"center left"})):e(this).css({"background-position":"center right"}),s>=0?o.css({"background-position":"center left"}):o.css({"background-position":"center right"}),t.animate({"margin-left":s})});var h=e(window).width();n.options.totalwidth<=h?(l.css({width:n.options.totalwidth+"px"}),u.hide(),d.hide()):(l.css({width:h-2*n.options.navbuttonwidth+"px"}),u.show(),d.show())}}},n.loadElem=function(t){switch(n.currentElem=t,n.showing=!0,n.options.bodynoscroll&&e("html,body").addClass("bodynoscroll"),n.options.showtitle&&n.currentElem[l]&&n.currentElem[l].length>0||n.options.showdescription&&n.currentElem[m]&&n.currentElem[m].length>0||n.options.inGroup&&(n.options.showplaybutton||n.options.showtitleprefix)||(n.options.barheight=0),n.showNavigation(),n.$elem.off("mouseenter").off("mouseleave").off("mousemove"),n.$loading.show(),n.options.onshowitem&&window[n.options.onshowitem]&&"function"==typeof window[n.options.onshowitem]&&window[n.options.onshowitem](t),t[s]){case 0:var o=new Image;e(o).on("load",function(){t[g]=o.width,t[v]=o.height,n.showImage(t,o.width,o.height)}),e(o).on("error",function(){n.showError()}),o.src=t[a];break;case 1:n.showSWF(t);break;case 2:case 8:n.showVideo(t);break;case 3:case 4:case 9:case 11:case 12:n.showYoutubeVimeo(t);break;case 5:n.showPDF(t);break;case 6:n.showMP3(t);break;case 7:n.showWeb(t);break;case 10:n.showDiv(t)}n.options.googleanalyticsaccount&&window._gaq&&window._gaq.push(["_trackEvent","Lightbox","Open",t[a]])},n.loadCurElem=function(){n.loadElem(n.elemArray[n.options.curElem])},n.showError=function(){n.$loading.hide(),n.resizeLightbox(n.options.errorwidth,n.options.errorheight,!0,function(){n.$loading.hide(),n.$error.show(),n.$elem.fadeIn(n.options.fadespeed,function(){n.showData()})})},n.calcTextWidth=function(t){return t-36},n.showTitle=function(t,o,i){"inside"==n.options.titlestyle&&n.$elemData.css({width:t+"px"});var r="";n.options.showtitle&&o&&o.length>0&&(r+=o),n.options.inGroup&&(n.options.showtitleprefix&&(r="<span class='html5-title-prefix'>"+n.options.titleprefix.replace("%NUM",n.options.groupIndex+1).replace("%TOTAL",n.options.groupCount)+"</span> <span class='html5-title-caption'>"+r+"</span>"),n.options.showplaybutton&&(r="<div id='html5-playpause' style='display:inline-block;cursor:pointer;vertical-align:middle;'><div id='html5-play' style='display:block;'><img src='"+n.options.playimage+"'></div><div id='html5-pause' style='display:none;'><img src='"+n.options.pauseimage+"'></div></div> "+r)),n.options.showdescription&&i&&i.length>0&&(r+='<p class="html5-description">'+i+"</p>"),n.$text.html(r),n.options.inGroup&&n.options.showplaybutton&&(n.autosliding?(e("#html5-play",n.$lightbox).hide(),e("#html5-pause",n.$lightbox).show()):(e("#html5-play",n.$lightbox).show(),e("#html5-pause",n.$lightbox).hide()),e("#html5-play",n.$lightbox).click(function(){e("#html5-play",n.$lightbox).hide(),e("#html5-pause",n.$lightbox).show(),n.slideTimeout&&(n.slideTimeout.stop(),n.slideTimeout.start(),n.autosliding=!0)}),e("#html5-pause",n.$lightbox).click(function(){e("#html5-play",n.$lightbox).show(),e("#html5-pause",n.$lightbox).hide(),n.slideTimeout&&(n.slideTimeout.stop(),n.autosliding=!1)})),e("#html5-social",n.$lightbox).show()},n.showImage=function(t,e,o){var i,r;t[u]?i=t[u]:(i=e,t[u]=e),t[d]?r=t[d]:(r=o,t[d]=o);var s=n.calcElemSize({w:i,h:r},n.options.imagekeepratio);n.resizeLightbox(s.w,s.h,!0,function(){n.$loading.hide(),n.showTitle(s.w,t[l],t[m]);var e=n.options.showtimer&&n.options.inGroup?"<div id='html5-timer' style='display:none;position:absolute;"+n.options.timerposition+":0;left:0;width:0;height:"+n.options.timerheight+"px;background-color:"+n.options.timercolor+";opacity:"+n.options.timeropacity+";'></div>":"";n.$image.show(),n.$image.html("<div id='html5-image-container' style='display:block;position:relative;width:100%;height:100%;cursor: pointer;"+(n.options.imagekeepratio?"overflow:hidden;":"overflow:auto;")+"'><img src='"+t[a]+"' width='100%' height='"+(n.options.imagekeepratio?"100%":"auto")+"' />"+e+"</div>"),n.$elem.fadeIn(n.options.fadespeed,function(){n.showData()}),n.autosliding&&(n.slideTimeout.stop(),n.slideTimeout.start())})},n.showSWF=function(t){var o=t[u]?t[u]:i,s=t[d]?t[d]:r,c=n.calcElemSize({w:o,h:s},!0);o=c.w,s=c.h,n.resizeLightbox(o,s,!0,function(){n.$loading.hide(),n.showTitle(c.w,t[l],t[m]),n.$image.html("<div id='html5lightbox-swf' style='display:block;width:100%;height:100%;'></div>").show(),n.embedFlash(e("#html5lightbox-swf"),t[a],"window",{width:o,height:s}),n.$elem.show(),n.showData(),n.autosliding&&(n.slideTimeout.stop(),n.slideTimeout.start())})},n.showVideo=function(t){n.slideTimeout.stop();var o=t[u]?t[u]:i,c=t[d]?t[d]:r,f=n.calcElemSize({w:o,h:c},!0);o=f.w,c=f.h,n.resizeLightbox(o,c,!0,function(){n.$loading.hide(),n.showTitle(f.w,t[l],t[m]),n.$image.html("<div id='html5lightbox-video' style='display:block;width:100%;height:100%;overflow:hidden;background-color:"+n.options.videobgcolor+";'></div>").show();var i=!1;if(n.options.isIE678||8==t[s]||n.options.isIE9&&n.options.useflashonie9||n.options.isIE10&&n.options.useflashonie10||n.options.isIE11&&n.options.useflashonie11?i=!1:n.options.isMobile?i=!0:!n.options.html5player&&n.options.flashInstalled||!n.options.html5VideoSupported||(i=!0,(n.options.isFirefox||n.options.isOpera)&&(t[h]||t[p]||n.options.canplaymp4&&!n.options.useflashformp4onfirefox||(i=!1))),i){var r=t[a];(n.options.isFirefox||n.options.isOpera)&&(t[h]?r=t[h]:t[p]&&(r=t[p])),n.embedHTML5Video(e("#html5lightbox-video"),r,n.options.autoplay,n.options.loopvideo)}else{var u=t[a];"/"!=u.charAt(0)&&"http:"!=u.substring(0,5)&&"https:"!=u.substring(0,6)&&(u=n.options.htmlfolder+u),n.embedFlash(e("#html5lightbox-video"),n.options.jsfolder+"html5boxplayer.swf","transparent",{width:o,height:c,jsobjectname:"html5Lightbox",hidecontrols:n.options.videohidecontrols?"1":"0",hideplaybutton:"0",videofile:u,hdfile:"",ishd:"0",defaultvolume:n.options.defaultvideovolume,autoplay:n.options.autoplay?"1":"0",loop:n.options.loopvideo?"1":"0",errorcss:".html5box-error"+n.options.errorcss,id:0})}n.$elem.show(),n.showData()})},n.loadNext=function(){e(window).trigger("html5lightbox.videofinished"),n.autosliding?n.gotoSlide(-1):n.options.autoclose&&setTimeout(function(){n.finish()},n.options.autoclosedelay)},n.getYoutubeParams=function(t){var e={};if(t.indexOf("?")<0)return e;for(var o=t.substring(t.indexOf("?")+1).split("&"),n=0;n<o.length;n++){var i=o[n].split("=");i&&2==i.length&&"v"!=i[0].toLowerCase()&&(e[i[0].toLowerCase()]=i[1])}return e},n.getYoutubeId=function(t){var e="",o=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\??v?=?))([^#\&\?]*).*/,n=t.match(o);return n&&n[7]&&11==n[7].length&&(e=n[7]),e},n.prepareYoutubeHref=function(t){var e=n.getYoutubeId(t),o="https:",i=o+"//www.youtube.com/embed/"+e,r=this.getYoutubeParams(t),s=!0;for(var a in r)s?(i+="?",s=!1):i+="&",i+=a+"="+r[a];return i},n.prepareDailymotionHref=function(t){if(t.match(/\:\/\/.*(dai\.ly)/i)){var e="https:",o=t.match(/(dai\.ly\/)([a-zA-Z0-9\-\_]+)/)[2];t=e+"//www.dailymotion.com/embed/video/"+o}return t},n.showYoutubeVimeo=function(t){n.slideTimeout.stop();var o=t[u]?t[u]:i,c=t[d]?t[d]:r,h=n.calcElemSize({w:o,h:c},!0);o=h.w,c=h.h,n.resizeLightbox(o,c,!0,function(){n.$loading.hide(),n.showTitle(h.w,t[l],t[m]),n.$image.html("<div id='html5lightbox-video' style='display:block;width:100%;height:100%;overflow:hidden;'></div>").show();var o=t[a],i="";if(3==t[s]&&(i=n.getYoutubeId(o),o=n.prepareYoutubeHref(o)),9==t[s]&&(o=n.prepareDailymotionHref(o)),n.options.autoplay&&(o+=o.indexOf("?")<0?"?":"&",o+=11==t[s]?"autoPlay=true":"autoplay=1"),n.options.loopvideo)switch(o+=o.indexOf("?")<0?"?":"&",t[s]){case 3:o+="loop=1&playlist="+i;break;case 4:case 9:o+="loop=1";break;case 11:o+="endVideoBehavior=loop"}if(3==t[s]?(o+=o.indexOf("?")<0?"?wmode=transparent&rel=0":"&wmode=transparent&rel=0",n.options.videohidecontrols&&(o+="&controls=0&showinfo=0"),o+="&enablejsapi=1&origin="+document.location.protocol+"//"+document.location.hostname):4==t[s]&&(o+=o.indexOf("?")<0?"?":"&",o+="api=1&player_id=html5boxiframevideo"),e("#html5lightbox-video").html("<iframe style='margin:0;padding:0;border:0;' id='html5boxiframevideo' width='100%' height='100%' src='"+o+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),n.$elem.show(),n.showData(),3==t[s]&&"object"==typeof YT&&"function"==typeof YT.Player)n.ytplayer=new YT.Player("html5boxiframevideo",{events:{onStateChange:function(t){t.data==YT.PlayerState.ENDED&&(e(window).trigger("html5lightbox.videofinished"),n.autosliding?n.gotoSlide(-1):n.options.autoclose&&setTimeout(function(){n.finish()},n.options.autoclosedelay))}}});else if(4==t[s]&&"function"==typeof $f){var r=e("#html5boxiframevideo")[0];n.vimeoPlayer=$f(r),n.vimeoPlayer.addEvent("ready",function(){n.vimeoPlayer.addEvent("finish",function(t){e(window).trigger("html5lightbox.videofinished"),n.autosliding?n.gotoSlide(-1):n.options.autoclose&&setTimeout(function(){n.finish()},n.options.autoclosedelay)})})}})},n.showPDF=function(t){if(n.options.enablepdfjs){if(n.options.isIPhone&&n.options.openpdfinnewtaboniphone||n.options.isIPad&&n.options.openpdfinnewtabonipad){var e=window.open(t[a],"_blank");return e.focus(),void n.finish()}n.options.pdfjsengine||(n.options.pdfjsengine=n.options.jsfolder+"pdfjs/web/viewer.html");var o=t[a];"http:"!=o.substring(0,5)&&"https:"!=o.substring(0,6)&&(o=n.absoluteUrl(o));var i=jQuery.extend(!0,{},t);i[a]=n.options.pdfjsengine+"?file="+encodeURIComponent(o),n.showWeb(i)}else{if(n.options.isIPhone||n.options.isIPad||n.options.isAndroid||n.options.isIE||n.options.isIE11){var e=window.open(t[a],"_blank");return e.focus(),void n.finish()}n.showWeb(t)}},n.showMP3=function(t){},n.showDiv=function(t){var o=e(window).width(),i=e(window).height(),r=n.options.shownavigation&&n.navvisible?n.options.navheight:0,s=t[u]?t[u]:o,c=t[d]?t[d]:i-r,h=n.calcElemSize({w:s,h:c},!1);s=h.w,c=h.h,n.resizeLightbox(s,c,!0,function(){n.$loading.hide(),n.showTitle(h.w,t[l],t[m]),n.$image.html("<div id='html5lightbox-div' style='display:block;width:100%;height:"+(n.options.autoresizecontent?"auto":"100%")+";"+(n.options.isIOS?"-webkit-overflow-scrolling:touch;overflow-y:scroll;":"overflow:auto;")+"'></div>").show();var o=t[a];e(o).length>0?e("#html5lightbox-div").html(e(o).html()):e("#html5lightbox-div").html("<div class='html5-error'>The specified div ID does not exist.</div>"),n.$elem.show(),n.showData(),n.options.autoresizecontent&&n.resizeWindow(),n.autosliding&&(n.slideTimeout.stop(),n.slideTimeout.start())})},n.isSameDomain=function(t){if("http:"!=t.substring(0,5)&&"https:"!=t.substring(0,6))return!0;var e=document.createElement("a");e.setAttribute("href",t);var o=e.protocol==document.location.protocol&&e.host==document.location.host&&e.port==document.location.port;return e=null,o},n.showWeb=function(t){var o=e(window).width(),i=e(window).height(),r=n.options.shownavigation&&n.navvisible?n.options.navheight:0,s=t[u]?t[u]:o,c=t[d]?t[d]:i-r,h=n.calcElemSize({w:s,h:c},!1);s=h.w,c=h.h,n.resizeLightbox(s,c,!0,function(){n.$loading.hide(),n.showTitle(h.w,t[l],t[m]),n.$image.html("<div id='html5lightbox-web' style='display:block;width:100%;height:100%;"+(n.options.isIOS?"-webkit-overflow-scrolling:touch;overflow-y:scroll;":"")+"'></div>").show(),e("#html5lightbox-web").html("<iframe style='margin:0;padding:0;border:0;' id='html5lightbox-web-iframe' width='100%' height='100%' src='"+t[a]+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),n.$elem.show(),n.showData(),n.options.autoresizecontent&&n.isSameDomain(t[a])&&(e("#html5lightbox-web-iframe",n.$lightbox).data("sameorigin",!0),e("#html5lightbox-web-iframe",n.$lightbox).on("load",function(){e(this).data("sameoriginloaded",!0),n.resizeWindow()})),n.autosliding&&(n.slideTimeout.stop(),n.slideTimeout.start())})},n.scrollBox=function(){},n.resizeWindow=function(){if(n.currentElem&&n.options.responsive){var t=e(window).width(),o=e(window).height();n.options.responsivebarheight&&(o<=n.options.smallscreenheight?n.options.barheight=n.options.barheightonsmallheight:n.options.barheight=n.options.barheightoriginal,"bottom"==n.options.titlestyle&&"auto"!=n.options.barautoheight&&n.$elemData.css({height:n.options.barheight+"px","max-height":n.options.barheight+"px"})),n.options.showtitle&&n.currentElem[l]&&n.currentElem[l].length>0||n.options.showdescription&&n.currentElem[m]&&n.currentElem[m].length>0||n.options.inGroup&&(n.options.showplaybutton||n.options.showtitleprefix)||(n.options.barheight=0);var a,c,h;if(5==n.currentElem[s]||7==n.currentElem[s]||10==n.currentElem[s]){var p=n.options.shownavigation&&n.navvisible?n.options.navheight:0;a=n.currentElem[u]?n.currentElem[u]:t,c=n.currentElem[d]?n.currentElem[d]:o-p,h=!1}else a=n.currentElem[u]?n.currentElem[u]:i,c=n.currentElem[d]?n.currentElem[d]:r,h=0!=n.currentElem[s]||n.options.imagekeepratio;var f=n.calcElemSize({w:a,h:c},h),g=n.calcBoxPosition(f.w,f.h),v=g[0],b=g[1],w=g[2];if(n.$lightboxBox.css({"margin-top":w}),"left"==n.options.titlestyle||"right"==n.options.titlestyle?n.$lightboxBox.css({width:v,height:b}):(n.$lightboxBox.css({width:v,height:"auto"}),n.$elemWrap.css({width:v,height:b})),"inside"==n.options.titlestyle&&n.$elemData.css({width:f.w+"px"}),n.options.autoresizecontent&&(5==n.currentElem[s]||7==n.currentElem[s]||10==n.currentElem[s])){var _=!1;if(7==n.currentElem[s]&&e("#html5lightbox-web-iframe",n.$lightbox).length>0&&e("#html5lightbox-web-iframe",n.$lightbox).data("sameoriginloaded")){var $=e("#html5lightbox-web-iframe",n.$lightbox)[0];$&&$.contentWindow&&$.contentWindow.document&&$.contentWindow.document.documentElement.offsetHeight&&c>$.contentWindow.document.documentElement.offsetHeight&&(c=$.contentWindow.document.documentElement.offsetHeight,_=!0)}else if(10==n.currentElem[s]&&e("#html5lightbox-div",n.$lightbox).length>0){var y=e("#html5lightbox-div",n.$lightbox).height();c>y&&(c=y,_=!0)}_&&(f=n.calcElemSize({w:a,h:c},h),g=n.calcBoxPosition(f.w,f.h),v=g[0],b=g[1],w=g[2],n.$lightboxBox.css({"margin-top":w}),"left"==n.options.titlestyle||"right"==n.options.titlestyle?n.$lightboxBox.css({height:b}):(n.$lightboxBox.css({height:"auto"}),n.$elemWrap.css({height:b})))}if(!(e(".html5-nav").length<=0)){e(".html5-nav-list").css({"margin-left":0});var x=e(".html5-nav-mask"),k=e(".html5-nav-prev"),C=e(".html5-nav-next"),t=e(window).width();n.options.totalwidth<=t?(x.css({width:n.options.totalwidth+"px"}),k.hide(),C.hide()):(x.css({width:t-2*n.options.navbuttonwidth+"px"}),k.show(),C.show())}}},n.calcElemSize=function(t,o){if(!n.options.responsive)return t;var i=e(window).width();i=i?i:e(document).width();var r=e(window).height();r=r?r:e(document).height(),("left"==n.options.titlestyle||"right"==n.options.titlestyle)&&i>n.options.sidetobottomscreenwidth&&(t.w=100*t.w/n.options.imagepercentage);var a=n.options.shownavigation&&n.navvisible?n.options.navheight:0,l=e(window).width()<n.options.navarrowsbottomscreenwidth?n.options.bordertopmarginsmall:n.options.bordertopmargin,c=r-a-2*n.options.bordersize-2*l;"bottom"==n.options.titlestyle&&(c-=n.options.barheight);var u=i-2*n.options.bordersize-2*n.options.bordermargin;if((n.options.fullscreenmode&&i>n.options.navarrowsbottomscreenwidth||(n.options.isTouch&&n.options.navarrowsalwaysshowontouch||n.options.alwaysshownavarrows)&&i>n.options.navarrowsbottomscreenwidth)&&(u-=64),(("left"==n.options.titlestyle||"right"==n.options.titlestyle)&&i<=n.options.sidetobottomscreenwidth||n.options.notkeepratioonsmallheight&&r<=n.options.smallscreenheight)&&(o=!1),0==n.currentElem[s]&&o){var d=n.currentElem[g]/n.currentElem[v];t.h=Math.round(t.w/d),t.h>c&&(t.w=Math.round(d*c),t.h=c),t.w>u&&(t.h=Math.round(u/d),t.w=u)}else t.h>c?(o&&(t.w=Math.round(t.w*c/t.h)),t.h=c):n.options.maxheight&&(t.h=c),t.w>u&&(o&&(t.h=Math.round(t.h*u/t.w)),t.w=u);return t},n.showData=function(){n.$text.text().length>0&&n.$elemData.show(),"bottom"!=n.options.titlestyle&&"inside"!=n.options.titlestyle||n.$lightboxBox.css({height:"auto"}),n.$text.text().length>0&&"bottom"==n.options.titlestyle&&n.$elemData.css({"max-height":n.options.barheight+"px"}),n.options.positionFixed?e("#html5-lightbox-overlay",n.$lightbox).css({height:Math.max(e(window).height(),e(document).height())}):e("#html5-lightbox-overlay",n.$lightbox).css({height:"100%"}),e(window).trigger("html5lightbox.lightboxopened")},n.resizeLightbox=function(t,e,o,i){n.hideNavArrows();var r=n.calcBoxPosition(t,e),s=r[0],a=r[1],l=r[2];if(n.$loading.hide(),n.$watermark.hide(),n.options.nextElem<=n.options.curElem&&n.options.onlastitem&&window[n.options.onlastitem]&&"function"==typeof window[n.options.onlastitem]&&window[n.options.onlastitem](n.currentElem),n.options.prevElem>=n.options.curElem&&n.options.onfirstitem&&window[n.options.onfirstitem]&&"function"==typeof window[n.options.onfirstitem]&&window[n.options.onfirstitem](n.currentElem),n.options.fullscreenmode||n.options.isTouch&&n.options.navarrowsalwaysshowontouch||n.options.alwaysshownavarrows||(n.$elem.on("mouseenter mousemove",function(){(n.options.arrowloop&&n.options.prevElem>=0||!n.options.arrowloop&&n.options.prevElem>=0&&n.options.prevElem<n.options.curElem)&&n.$prev.fadeIn(),(n.options.arrowloop&&n.options.nextElem>=0||!n.options.arrowloop&&n.options.nextElem>=0&&n.options.nextElem>n.options.curElem)&&n.$next.fadeIn()}),n.$elem.on("mouseleave",function(){
n.$next.fadeOut(),n.$prev.fadeOut()})),n.$lightboxBox.css({"margin-top":l}),"left"==n.options.titlestyle||"right"==n.options.titlestyle){var c=o?n.options.resizespeed:0;s==n.$lightboxBox.width()&&a==n.$lightboxBox.height()&&(c=0),n.$lightboxBox.animate({width:s},c).animate({height:a},c,function(){n.onAnimateFinish(i)})}else{var c=o?n.options.resizespeed:0;s==n.$elemWrap.width()&&a==n.$elemWrap.height()&&(c=0),n.$lightboxBox.css({width:s,height:"auto"}),n.$elemWrap.animate({width:s},c).animate({height:a},c,function(){n.onAnimateFinish(i)})}},n.onAnimateFinish=function(t){n.$loading.show(),n.$watermark.show(),n.$close.show(),n.$elem.css({"background-color":n.options.bgcolor}),t()},n.reset=function(){n.options.stamp&&n.$watermark.hide(),n.showing=!1,n.$image.empty(),n.$text.empty(),n.$error.hide(),n.$loading.hide(),n.$image.hide(),"bottom"!=n.options.titlestyle&&"inside"!=n.options.titlestyle||n.$elemData.hide(),n.options.fullscreenmode||n.$close.hide(),n.$elem.css({"background-color":""})},n.resetNavigation=function(){n.options.navheight=0,e(".html5-nav").remove(),n.navvisible=!1},n.finish=function(){e("#html5-lightbox-video",n.$lightbox).length&&e("#html5-lightbox-video",n.$lightbox).attr("src",""),e("head").find("style").each(function(){"html5box-html5-lightbox"==e(this).data("creator")&&e(this).remove()}),n.options.bodynoscroll&&e("html,body").removeClass("bodynoscroll"),n.slideTimeout.stop(),n.reset(),n.resetNavigation(),n.$lightbox.remove(),e("#html5box-html5-lightbox").remove(),n.showObjects(),n.options.oncloselightbox&&window[n.options.oncloselightbox]&&"function"==typeof window[n.options.oncloselightbox]&&window[n.options.oncloselightbox](n.currentElem),n.onLightboxClosed&&"function"==typeof n.onLightboxClosed&&n.onLightboxClosed(n.currentElem),e(window).trigger("html5lightbox.lightboxclosed")},n.pauseSlide=function(){},n.playSlide=function(){},n.gotoSlide=function(t){if(t==-1){if(n.options.nextElem<0)return;n.options.curElem=n.options.nextElem}else if(t==-2){if(n.options.prevElem<0)return;n.options.curElem=n.options.prevElem}else t>=0&&(n.options.curElem=t);n.autosliding&&n.slideTimeout.stop(),n.calcNextPrevElem(),n.reset(),n.loadCurElem()},n.enableSwipe=function(){var t=!(!n.options.isAndroid||!(n.options.swipepreventdefaultonandroid||n.options.androidVersion>=0&&n.options.androidVersion<=5));n.$elem.html5lightboxTouchSwipe({preventWebBrowser:t,swipeDistance:n.options.swipedistance,swipeLeft:function(){n.gotoSlide(-1)},swipeRight:function(){n.gotoSlide(-2)}})},n.hideObjects=function(){e("select, embed, object").css({visibility:"hidden"})},n.showObjects=function(){e("select, embed, object").css({visibility:"visible"})},n.embedHTML5Video=function(t,o,i,r){t.html("<div style='display:block;width:100%;height:100%;position:relative;'><video id='html5-lightbox-video' width='100%' height='100%'"+(n.options.html5videoposter&&n.options.html5videoposter.length>0?"poster='"+n.options.html5videoposter+"'":"")+(i?" autoplay":"")+(r?" loop":"")+(n.options.nativehtml5controls&&!n.options.videohidecontrols?" controls='controls'":"")+" src='"+o+"'></div>"),n.options.nativehtml5controls||(e("video",t).data("src",o),e("video",t).lightboxHTML5VideoControls(n.options.skinsfolder,n,n.options.videohidecontrols,!1,n.options.defaultvideovolume)),e("video",t).off("ended").on("ended",function(){e(window).trigger("html5lightbox.videofinished"),n.autosliding?n.gotoSlide(-1):n.options.autoclose&&setTimeout(function(){n.finish()},n.options.autoclosedelay)})},n.embedFlash=function(t,o,i,r){if(n.options.flashInstalled){var s={pluginspage:"http://www.adobe.com/go/getflashplayer",quality:"high",allowFullScreen:"true",allowScriptAccess:"always",type:"application/x-shockwave-flash"};s.width="100%",s.height="100%",s.src=o,s.flashVars=e.param(r),s.wmode=i;var a="";for(var l in s)a+=l+"="+s[l]+" ";t.html("<embed "+a+"/>")}else t.html("<div class='html5lightbox-flash-error' style='display:block; position:relative;text-align:center; width:100%; left:0px; top:40%;'><div class='html5-error'><div>The required Adobe Flash Player plugin is not installed</div><br /><div style='display:block;position:relative;text-align:center;width:112px;height:33px;margin:0px auto;'><a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' width='112' height='33'></img></a></div></div>")},n.checkType=function(t){return t?t.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)?0:t.match(/[^\.]\.(swf)\s*$/i)?1:t.match(/\.(mp4|m4v|ogv|ogg|webm)(.*)?$/i)?2:t.match(/\:\/\/.*(youtube\.com)/i)||t.match(/\:\/\/.*(youtu\.be)/i)?3:t.match(/\:\/\/.*(vimeo\.com)/i)?4:t.match(/\:\/\/.*(dailymotion\.com)/i)||t.match(/\:\/\/.*(dai\.ly)/i)?9:t.match(/[^\.]\.(pdf)\s*$/i)?5:t.match(/[^\.]\.(mp3)\s*$/i)?6:t.match(/[^\.]\.(flv)\s*$/i)?8:t.match(/\#\w+/i)?10:t.match(/\:\/\/.*(wistia)/i)?11:7:-1},n.getURLParams=function(){for(var t={},e=window.location.search.substring(1).split("&"),o=0;o<e.length;o++){var n=e[o].split("=");n&&2==n.length&&(t[n[0].toLowerCase()]=unescape(n[1]))}return t},n.absoluteUrl=function(t){var e=document.createElement("a");return e.href=t,e.protocol+"//"+e.host+e.pathname+e.search+e.hash},n.showLightbox=function(t,o,i,r,s,a,l,c,u){n.options=e.extend(n.options,n.defaultoptions),e(window).trigger("html5lightbox.lightboxshow"),n.init(),n.reset(),n.$lightbox.show();var d=n.calcBoxPosition(n.options.loadingwidth,n.options.loadingheight),h=d[0],p=d[1],f=d[2];n.$lightboxBox.css({"margin-top":f}),"left"==n.options.titlestyle||"right"==n.options.titlestyle?n.$lightboxBox.css({width:h,height:p}):(n.$lightboxBox.css({width:h,height:"auto"}),n.$elemWrap.css({width:h,height:p})),n.loadElem(new Array(t,o,i,null,r,s,a,l,c,u))},n.addItem=function(t,e,o,i,r,s,a,l,c,u){type=u&&u>=0?u:n.checkType(t),n.elemArray.push(new Array(type,t,e,o,i,r,s,a,l,c))},n.showItem=function(t){if(n.options=e.extend(n.options,n.defaultoptions),e(window).trigger("html5lightbox.lightboxshow"),n.init(),n.elemArray.length<=0)return!0;n.hideObjects();for(var o=0;o<n.elemArray.length&&n.elemArray[o][a]!=t;o++);if(o==n.elemArray.length)return!0;n.options.curElem=o,n.calcNextPrevElem(),n.reset(),n.$lightbox.show();var i=n.calcBoxPosition(n.options.loadingwidth,n.options.loadingheight),r=i[0],s=i[1],l=i[2];return n.$lightboxBox.css({"margin-top":l}),"left"==n.options.titlestyle||"right"==n.options.titlestyle?n.$lightboxBox.css({width:r,height:s}):(n.$lightboxBox.css({width:r,height:"auto"}),n.$elemWrap.css({width:r,height:s})),n.loadCurElem(),!1},n.off("click").click(n.clickHandler),n.each(function(){var t=e(this),o=!1,n=0;if("undefined"!=typeof html5lightbox_options&&html5lightbox_options&&("autoopen"in html5lightbox_options&&(o=html5lightbox_options.autoopen),"autoopendelay"in html5lightbox_options&&(n=html5lightbox_options.autoopendelay)),o=t.data("autoopen")?t.data("autoopen"):o,n=t.data("autoopendelay")?t.data("autoopendelay"):n,o)return setTimeout(function(){t.click()},n),!1});var E=n.getURLParams();if("html5lightboxshare"in E){var A=decodeURIComponent(E.html5lightboxshare),z=e('.html5lightbox[href="'+A+'"]');z.length>0&&z.click()}return n}}(jQuery),function(t){t.fn.html5lightboxTouchSwipe=function(e){var o={preventWebBrowser:!1,swipeDistance:0,swipeLeft:null,swipeRight:null,swipeTop:null,swipeBottom:null};return e&&t.extend(o,e),this.each(function(){function e(t){var e=t.originalEvent;e.targetTouches.length>=1?(a=e.targetTouches[0].pageX,l=e.targetTouches[0].pageY):r(t)}function n(t){o.preventWebBrowser&&t.preventDefault();var e=t.originalEvent;e.targetTouches.length>=1?(c=e.targetTouches[0].pageX,u=e.targetTouches[0].pageY):r(t)}function i(t){c>0||u>0?(s(),r(t)):r(t)}function r(t){a=-1,l=-1,c=-1,u=-1}function s(){Math.abs(c-a)>Math.abs(u-l)?Math.abs(c-a)>o.swipeDistance&&(c>a?o.swipeRight&&o.swipeRight.call():o.swipeLeft&&o.swipeLeft.call()):Math.abs(u-l)>o.swipeDistance&&(u>l?o.swipeBottom&&o.swipeBottom.call():o.swipeTop&&o.swipeTop.call())}var a=-1,l=-1,c=-1,u=-1;try{t(this).on("touchstart",e),t(this).on("touchmove",n),t(this).on("touchend",i),t(this).on("touchcancel",r)}catch(d){}})}}(jQuery),function(t){t.fn.lightboxHTML5VideoControls=function(e,o,n,i,r){var s="ontouchstart"in window,a=s?"touchstart":"mousedown",l=s?"touchmove":"mousemove",c=s?"touchcancel":"mouseup",u="click",d=32,h=s?48:36,p=null,f=null,m=!1,g=!1,v=!0,b=null!=navigator.userAgent.match(/iPod/i)||null!=navigator.userAgent.match(/iPhone/i),w=t(this).data("ishd"),_=t(this).data("hd"),$=t(this).data("src"),y=t(this);if(y.get(0).removeAttribute("controls"),b){var x=y.height()-h;y.css({height:x})}var k=t("<div class='html5boxVideoPlay'></div>");b||(y.after(k),k.css({position:"absolute",top:"50%",left:"50%",display:"block",cursor:"pointer",width:64,height:64,"margin-left":-32,"margin-top":-32,"background-image":"url('"+e+"html5boxplayer_playvideo.png')","background-position":"center center","background-repeat":"no-repeat"}).on(u,function(){y.get(0).play()}));var C=t("<div class='html5boxVideoFullscreenBg'></div>"),j=t("<div class='html5boxVideoControls'><div class='html5boxVideoControlsBg'></div><div class='html5boxPlayPause'><div class='html5boxPlay'></div><div class='html5boxPause'></div></div><div class='html5boxTimeCurrent'>--:--</div><div class='html5boxFullscreen'></div><div class='html5boxHD'></div><div class='html5boxVolume'><div class='html5boxVolumeButton'></div><div class='html5boxVolumeBar'><div class='html5boxVolumeBarBg'><div class='html5boxVolumeBarActive'></div></div></div></div><div class='html5boxTimeTotal'>--:--</div><div class='html5boxSeeker'><div class='html5boxSeekerBuffer'></div><div class='html5boxSeekerPlay'></div><div class='html5boxSeekerHandler'></div></div><div style='clear:both;'></div></div>");y.after(j),y.after(C),C.css({display:"none",position:"fixed",left:0,top:0,bottom:0,right:0,"z-index":2147483647}),j.css({display:"block",position:"absolute",width:"100%",height:h,left:0,bottom:0,right:0,"max-width":"640px",margin:"0 auto"});var S=function(){v=!0};y.on(u,function(){v=!0}).hover(function(){v=!0},function(){v=!1}),n||setInterval(function(){v&&(j.show(),v=!1,clearTimeout(p),p=setTimeout(function(){y.get(0).paused||j.fadeOut()},5e3))},250),t(".html5boxVideoControlsBg",j).css({display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,"background-color":"#000000",opacity:.7,filter:"alpha(opacity=70)"}),t(".html5boxPlayPause",j).css({display:"block",position:"relative",width:d+"px",height:d+"px",margin:Math.floor((h-d)/2),"float":"left"});var T=t(".html5boxPlay",j),E=t(".html5boxPause",j);T.css({display:"block",position:"absolute",top:0,left:0,width:d+"px",height:d+"px",cursor:"pointer","background-image":"url('"+e+"html5boxplayer_playpause.png')","background-position":"top left"}).hover(function(){t(this).css({"background-position":"bottom left"})},function(){t(this).css({"background-position":"top left"})}).on(u,function(){y.get(0).play()}),E.css({display:"none",position:"absolute",top:0,left:0,width:d+"px",height:d+"px",cursor:"pointer","background-image":"url('"+e+"html5boxplayer_playpause.png')","background-position":"top right"}).hover(function(){t(this).css({"background-position":"bottom right"})},function(){t(this).css({"background-position":"top right"})}).on(u,function(){y.get(0).pause()});var A=t(".html5boxTimeCurrent",j),z=t(".html5boxTimeTotal",j),I=t(".html5boxSeeker",j),O=t(".html5boxSeekerPlay",j),P=t(".html5boxSeekerBuffer",j),D=t(".html5boxSeekerHandler",j);if(A.css({display:"block",position:"relative","float":"left","line-height":h+"px","font-weight":"normal","font-size":"12px",margin:"0 8px","font-family":"Arial, Helvetica, sans-serif",color:"#fff"}),z.css({display:"block",position:"relative","float":"right","line-height":h+"px","font-weight":"normal","font-size":"12px",margin:"0 8px","font-family":"Arial, Helvetica, sans-serif",color:"#fff"}),I.css({display:"block",cursor:"pointer",overflow:"hidden",position:"relative",height:"10px","background-color":"#222",margin:Math.floor((h-10)/2)+"px 4px"}).on(a,function(t){var e=s?t.originalEvent.touches[0]:t,o=e.pageX-I.offset().left;O.css({width:o}),y.get(0).currentTime=o*y.get(0).duration/I.width(),I.on(l,function(t){var e=s?t.originalEvent.touches[0]:t,o=e.pageX-I.offset().left;O.css({width:o}),y.get(0).currentTime=o*y.get(0).duration/I.width()})}).on(c,function(){I.off(l)}),P.css({display:"block",position:"absolute",left:0,top:0,height:"100%","background-color":"#444"}),O.css({display:"block",position:"absolute",left:0,top:0,height:"100%","background-color":"#fcc500"}),!b&&(y.get(0).requestFullscreen||y.get(0).webkitRequestFullScreen||y.get(0).mozRequestFullScreen||y.get(0).webkitEnterFullScreen||y.get(0).msRequestFullscreen)){var M=function(t){if(t){var e=null!=navigator.userAgent.match(/Trident\/7/)&&null!=navigator.userAgent.match(/rv:11/),o=null!=navigator.userAgent.match(/MSIE/i)&&!this.options.isOpera;(e||o)&&y.get(0).setAttribute("controls","controls"),y.get(0).requestFullscreen?y.get(0).requestFullscreen():y.get(0).webkitRequestFullScreen?y.get(0).webkitRequestFullScreen():y.get(0).mozRequestFullScreen?y.get(0).mozRequestFullScreen():y.get(0).webkitEnterFullScreen&&y.get(0).webkitEnterFullScreen(),y.get(0).msRequestFullscreen&&y.get(0).msRequestFullscreen()}else document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},R=function(e){j.css({position:e?"fixed":"absolute"});var o=L.css("background-position")?L.css("background-position").split(" ")[1]:L.css("background-position-y");L.css({"background-position":(e?"right":"left")+" "+o}),C.css({display:e?"block":"none"}),e?(t(document).on("mousemove",S),j.css({"z-index":2147483647})):(t(document).off("mousemove",S),j.css({"z-index":""}))};document.addEventListener("MSFullscreenChange",function(){g=null!=document.msFullscreenElement;var t=null!=navigator.userAgent.match(/Trident\/7/)&&null!=navigator.userAgent.match(/rv:11/),e=null!=navigator.userAgent.match(/MSIE/i)&&!this.options.isOpera;(t||e)&&(g||y.get(0).removeAttribute("controls")),R(g)},!1),document.addEventListener("fullscreenchange",function(){g=document.fullscreen,R(document.fullscreen)},!1),document.addEventListener("mozfullscreenchange",function(){g=document.mozFullScreen,null!=navigator.userAgent.match(/Firefox/i)&&(g?y.get(0).setAttribute("controls","controls"):y.get(0).removeAttribute("controls")),R(document.mozFullScreen)},!1),document.addEventListener("webkitfullscreenchange",function(){g=document.webkitIsFullScreen,R(document.webkitIsFullScreen)},!1),y.get(0).addEventListener("webkitbeginfullscreen",function(){g=!0},!1),y.get(0).addEventListener("webkitendfullscreen",function(){g=!1},!1),t("head").append("<style type='text/css'>video::-webkit-media-controls { display:none !important; }</style>");var L=t(".html5boxFullscreen",j);L.css({display:"block",position:"relative","float":"right",width:d+"px",height:d+"px",margin:Math.floor((h-d)/2),cursor:"pointer","background-image":"url('"+e+"html5boxplayer_fullscreen.png')","background-position":"left top"}).hover(function(){var e=t(this).css("background-position")?t(this).css("background-position").split(" ")[0]:t(this).css("background-position-x");t(this).css({"background-position":e+" bottom"})},function(){var e=t(this).css("background-position")?t(this).css("background-position").split(" ")[0]:t(this).css("background-position-x");t(this).css({"background-position":e+" top"})}).on(u,function(){g=!g,M(g)})}if(_){var B=t(".html5boxHD",j);B.css({display:"block",position:"relative","float":"right",width:d+"px",height:d+"px",margin:Math.floor((h-d)/2),cursor:"pointer","background-image":"url('"+e+"html5boxplayer_hd.png')","background-position":(w?"right":"left")+" center"}).on(u,function(){w=!w,t(this).css({"background-position":(w?"right":"left")+" center"}),o.isHd=w;var e=y.get(0).isPaused;y.get(0).setAttribute("src",(w?_:$)+"#t="+y.get(0).currentTime),e?b||y.get(0).pause():y.get(0).play()})}y.get(0).volume=r;var F=0==r?1:r,H=y.get(0).volume;if(y.get(0).volume=H/2+.1,y.get(0).volume===H/2+.1){y.get(0).volume=H;var W=t(".html5boxVolume",j),U=t(".html5boxVolumeButton",j),N=t(".html5boxVolumeBar",j),Y=t(".html5boxVolumeBarBg",j),q=t(".html5boxVolumeBarActive",j);W.css({display:"block",position:"relative","float":"right",width:d+"px",height:d+"px",margin:Math.floor((h-d)/2)}).hover(function(){clearTimeout(f);var t=y.get(0).volume;q.css({height:Math.round(100*t)+"%"}),N.show()},function(){clearTimeout(f),f=setTimeout(function(){N.hide()},1e3)}),U.css({display:"block",position:"absolute",top:0,left:0,width:d+"px",height:d+"px",cursor:"pointer","background-image":"url('"+e+"html5boxplayer_volume.png')","background-position":"top "+(H>0?"left":"right")}).hover(function(){var e=t(this).css("background-position")?t(this).css("background-position").split(" ")[0]:t(this).css("background-position-x");t(this).css({"background-position":e+" bottom"})},function(){var e=t(this).css("background-position")?t(this).css("background-position").split(" ")[0]:t(this).css("background-position-x");t(this).css({"background-position":e+" top"})}).on(u,function(){var e=y.get(0).volume;e>0?(F=e,e=0):e=F;var o=t(this).css("background-position")?t(this).css("background-position").split(" ")[1]:t(this).css("background-position-y");U.css({"background-position":(e>0?"left":"right")+" "+o}),y.get(0).volume=e,q.css({height:Math.round(100*e)+"%"})}),N.css({display:"none",position:"absolute",left:4,bottom:"100%",width:24,height:80,"margin-bottom":Math.floor((h-d)/2),"background-color":"#000000",opacity:.7,filter:"alpha(opacity=70)"}),Y.css({display:"block",position:"relative",width:10,height:68,margin:7,cursor:"pointer","background-color":"#222"}),q.css({display:"block",position:"absolute",bottom:0,left:0,width:"100%",height:"100%","background-color":"#fcc500"}),Y.on(a,function(t){var e=s?t.originalEvent.touches[0]:t,o=1-(e.pageY-Y.offset().top)/Y.height();o=o>1?1:o<0?0:o,q.css({height:Math.round(100*o)+"%"}),U.css({"background-position":"left "+(o>0?"top":"bottom")}),y.get(0).volume=o,Y.on(l,function(t){var e=s?t.originalEvent.touches[0]:t,o=1-(e.pageY-Y.offset().top)/Y.height();o=o>1?1:o<0?0:o,q.css({height:Math.round(100*o)+"%"}),U.css({"background-position":"left "+(o>0?"top":"bottom")}),y.get(0).volume=o})}).on(c,function(){Y.off(l)})}var V=function(t){var e=Math.floor(t/3600),o=e<10?"0"+e:e,n=Math.floor((t-3600*e)/60),i=n<10?"0"+n:n,r=Math.floor(t-(3600*e+60*n)),s=r<10?"0"+r:r,a=i+":"+s;return e>0&&(a=o+":"+a),a};i&&k.hide(),n&&j.hide();var G=function(){i||k.hide(),n||(T.hide(),E.show())},X=function(){i||k.show(),n||(j.show(),clearTimeout(p),T.show(),E.hide())},K=function(){t(window).trigger("html5lightbox.videoended"),i||k.show(),n||(j.show(),clearTimeout(p),T.show(),E.hide())},Q=function(){var t=y.get(0).currentTime;if(t){A.text(V(t));var e=y.get(0).duration;if(e&&(z.text(V(e)),!m)){var o=I.width(),n=Math.round(o*t/e);O.css({width:n}),D.css({left:n})}}},Z=function(){if(y.get(0).buffered&&y.get(0).buffered.length>0&&!isNaN(y.get(0).buffered.end(0))&&!isNaN(y.get(0).duration)){var t=I.width();P.css({width:Math.round(t*y.get(0).buffered.end(0)/y.get(0).duration)})}};try{y.on("play",G),y.on("pause",X),y.on("ended",K),y.on("timeupdate",Q),y.on("progress",Z)}catch(J){}}}(jQuery),jQuery(document).ready(function(){"undefined"==typeof html5Lightbox&&(html5Lightbox=jQuery(".html5lightbox").html5lightbox())})}function headerToWhite(){$(window).scrollTop()>10?(headerDesktop.hasClass("header-desktop_transparent")&&headerDesktop.removeClass("header-desktop_transparent").addClass("header-desktop_white was-transparent"),mobileDesktop.hasClass("header-mobile_transparent")&&mobileDesktop.removeClass("header-mobile_transparent").addClass("header-mobile_white was-transparent")):(headerDesktop.hasClass("was-transparent")&&headerDesktop.addClass("header-desktop_transparent").removeClass("header-desktop_white was-transparent"),mobileDesktop.hasClass("was-transparent")&&mobileDesktop.addClass("header-mobile_transparent").removeClass("header-mobile_white was-transparent"))}function headerScrollHandler(){$(window).width()>959&&$(window).scroll(function(){headerDesktop.hasClass("menu-open")||headerToWhite()})}function showHideRecoveryBlock(){function t(){i.hide(),r.show(),n.click(function(t){t.preventDefault(),e()})}function e(){i.show(),r.hide()}var o=$(".js-recovery-link"),n=$(".js-login-link"),i=$(".js-login-form-default"),r=$(".js-login-form-recovery");o.click(function(e){e.preventDefault(),t()})}function showPassword(){var t=$(".js-show-password"),e=$(".js-password-input");t.click(function(t){t.preventDefault();var o="text"==e.attr("type")?"password":"text";e.prop("type",o)})}function openClosePopup(){function t(){o.show(),i.click(function(t){t.preventDefault(),e()}),r.css("overflow","hidden")}function e(){o.hide(),r.css("overflow","auto")}var o=$(".js-header-2-popup"),n=$(".js-open-header-2-popup"),i=$(".js-close-header-2-popup"),r=$("body");n.click(function(e){e.preventDefault(),t()})}var global={time:200,desktopXlSize:1599,desktopLgSize:1399,desktopSize:1199,tabletLgSize:959,tabletSize:767,mobileSize:479,isTouch:function(){var t=new MobileDetect(window.navigator.userAgent);return null!=t.mobile()},isSafari:function(){return window.navigator.userAgent.indexOf("Safari")!=-1&&window.navigator.userAgent.indexOf("Chrome")==-1},htmlRoot:/localhost/i.test(window.location.hostname)?"":$("head").data("html-root")||"/local/templates/b2c/build/"};$(window).load(function(){global.isTouch()?$("body").removeClass("no-touch"):$("body").addClass("no-touch"),Modernizr.flexbox||flexibility(document.documentElement)}),function(){$(".js-switch").on("click",function(){$(this).parent().find(".is-active").removeClass("is-active"),$(this).addClass("is-active")})}(),$(document).ready(function(){hideSpinner()}),$.fn.customSelect=function(){var t=this;t.each(function(){if(!$(this).hasClass("select2-hidden-accessible")){var t,e=$(this).data("search");t=e?1:1/0,$(this).select2({minimumResultsForSearch:t,selectOnBlur:!0,dropdownCssClass:"error"}),$(this).on("change",function(t){$(this).closest('form[data-validate="true"]').length&&$(this).valid(),$(this).find('option[value="'+$(this).context.value+'"]').click()})}}),t.on("select2:open",function(){setTimeout(function(){var t;$(".select2-results").each(function(){t=$(this),$(".select2-results ul.select2-results__options").unbind("mousewheel"),t.mCustomScrollbar({mouseWheel:!0,theme:"minimal-dark",autoDraggerLength:!0,scrollbarPosition:"inside",live:!0,advanced:{updateOnContentResize:!0}}),t.mCustomScrollbar("update")})},0)})},$(".js-select-color").select2({minimumResultsForSearch:-1,templateResult:formatState,templateSelection:formatState,selectOnBlur:!0}),$.fn.customFileInput=function(){this.each(function(t,e){var o=$(e);if("undefined"==typeof o.attr("data-bfi-disabled")){var n="Browse";"undefined"!=typeof o.attr("title")&&(n=o.attr("title"));var i="";o.attr("class")&&(i=" "+o.attr("class")),o.wrap('<div class="custom-file"><a class="btn '+i+'"></a></div>').parent().prepend($("<span></span>").html(n))}}).promise().done(function(){$(".custom-file").mousemove(function(t){var e,o,n,i,r,s,a,l;o=$(this),e=o.find("input"),n=o.offset().left,i=o.offset().top,r=e.width(),s=e.height(),a=t.pageX,l=t.pageY,moveInputX=a-n-r+20,moveInputY=l-i-s/2,e.css({left:moveInputX,top:moveInputY})}),$("body").on("change",".custom-file input[type=file]",function(){var t;if(t=$(this).val(),$(this).parent().next(".custom-file__name").remove(),t=$(this).prop("files")&&$(this).prop("files").length>1?$(this)[0].files.length+" files":t.substring(t.lastIndexOf("\\")+1,t.length)){var e=$(this).data("filename-placement");"inside"===e?($(this).siblings("span").html(t),$(this).attr("title",t)):$(this).parent().after('<span class="custom-file__name">'+t+"</span>")}})})},$('input[type="file"]').customFileInput(),$("select").customSelect(),Parsley.addMessages("ru",{defaultMessage:"Некорректное значение.",type:{email:"Введите адрес электронной почты.",url:"Введите URL адрес.",integer:"Введите целое число.",digits:"Введите только цифры.",alphanum:"Введите только английские буквы и цифры."},required:"Обязательное поле.",pattern:"Это значение некорректно.",min:"Это значение должно быть не менее чем %s.",max:"Это значение должно быть не более чем %s.",range:"Это значение должно быть от %s до %s.",minlength:"Это значение должно содержать не менее %s символов.",maxlength:"Это значение должно содержать не более %s символов.",length:"Это значение должно содержать от %s до %s символов.",mincheck:"Выберите не менее %s значений.",maxcheck:"Выберите не более %s значений.",check:"Выберите от %s до %s значений.",equalto:"Это значение должно совпадать с предыдущим."}),Parsley.setLocale("ru"),$.extend(Parsley.options,{trigger:"input change",validationThreshold:"0",errorsWrapper:"<div></div>",errorTemplate:'<p class="parsley-error-message"></p>',classHandler:function(t){var e,o=t.$element,n=o.attr("type");return"checkbox"==n||"radio"==n?e=o:o.hasClass("select2-hidden-accessible")&&(e=$(".select2-selection--single",o.next(".select2"))),e},errorsContainer:function(t){var e,o=t.$element,n=o.attr("type");return"checkbox"==n||"radio"==n?e=$('[name="'+o.attr("name")+'"]:last + label').next(".errors-placement"):o.hasClass("select2-hidden-accessible")?e=o.next(".select2").next(".errors-placement"):"file"==n&&(e=o.closest(".custom-file").next(".errors-placement")),e}}),Parsley.addValidator("nameRu",{validateString:function(t){return/^[а-яё\- ]*$/i.test(t)},messages:{ru:'Cимволы А-Я, а-я, " ", "-".'}}),Parsley.addValidator("nameEn",{validateString:function(t){return/^[a-z\- ]*$/i.test(t)},messages:{ru:'Cимволы A-Z, a-z, " ", "-".'}}),Parsley.addValidator("name",{validateString:function(t){return/^[а-яёa-z\- ]*$/i.test(t)},messages:{ru:'Cимволы A-Z, a-z, А-Я, а-я, " ", "-".'}}),Parsley.addValidator("numLetterRu",{validateString:function(t){return/^[0-9а-яё]*$/i.test(t)},messages:{ru:"Cимволы А-Я, а-я, 0-9."}}),Parsley.addValidator("numLetter",{validateString:function(t){return/^[а-яёa-z0-9]*$/i.test(t)},messages:{ru:"Cимволы A-Z, a-z, А-Я, а-я, 0-9."}}),Parsley.addValidator("phone",{validateString:function(t){return/^[-+0-9() ]*$/i.test(t)},messages:{ru:"Некорректный телефонный номер."}}),Parsley.addValidator("date",{validateString:function(t){var e,o,n,i,r=/^(?:(?:31(\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$/,s=/(\d{1,2})\.(\d{1,2})\.(\d{4})/,a=arguments[2].$element.data("dateMin"),l=arguments[2].$element.data("dateMax");return a&&(i=a.match(s))&&(e=new Date((+i[3]),i[2]-1,(+i[1]))),l&&(i=l.match(s))&&(o=new Date((+i[3]),i[2]-1,(+i[1]))),(i=t.match(s))&&(n=new Date((+i[3]),i[2]-1,(+i[1]))),r.test(t)&&(!e||n>=e)&&(!o||n<=o)},messages:{ru:"Некорректная дата."}}),Parsley.addValidator("maxFileSize",{validateString:function(t,e,o){var n=o.$element[0].files;return 1!=n.length||n[0].size<=1024*e},requirementType:"integer",messages:{ru:"Файл должен весить не более, чем %s Kb"}}),Parsley.on("field:validated",function(){var t=this.$element.closest("form");t.find('[type="submit"], [data-submit="true"]').prop("disabled",!t.parsley().isValid())}),Parsley.on("field:init",function(){var t,e=this.$element,o=e.attr("type"),n=$("<div/>").addClass("errors-placement");"checkbox"==o||"radio"==o?(t=$('[name="'+e.attr("name")+'"]:last + label'),t.next(".errors-placement").length||t.after(n)):e.hasClass("select2-hidden-accessible")?(t=e.next(".select2"),t.next(".errors-placement").length||t.after(n)):"file"==o&&(t=e.closest(".custom-file"),t.next(".errors-placement").length||t.after($("<div/>").addClass("errors-placement")))}),$('form[data-validate="true"]').parsley(),$('[data-mask="phoneRu"]').inputmask("+7(999) 999-99-99",{clearMaskOnLostFocus:!1});var TabSwitcher=function(){var t=this,e=$(".tabs");e.each(function(){$(this).find(".tabs__link.is-active").next().addClass("is-open")}),e.on("click",".tabs__link",function(e){t.open($(this),e)}),$(document).on("click","[data-tab-open]",function(e){var o=$(this).data("tab-open");if(t.open($(o),e),void 0==$(this).data("popup"))return!1}),t.open=function(t,o){if(t.hasClass("is-active"))o.preventDefault();else{o.preventDefault();var n=t.closest(e);n.find(".is-open").removeClass("is-open"),t.next().toggleClass("is-open"),n.find(".is-active").removeClass("is-active"),t.addClass("is-active")}}},tabSwitcher=new TabSwitcher,NewTabSwitcher=function(){var t=this;$(document).on("click","[data-tab-target]",function(e){var o=$(this).data("tab-target");t.open($(o),$(this).parent(),e)}),t.open=function(t,e,o){o.preventDefault(),e.parent().find(".is-active").removeClass("is-active"),t.parent().find(".is-open").removeClass("is-open"),e.addClass("is-active"),t.addClass("is-open")}},newTabSwitcher=new NewTabSwitcher,visibilityControl=function(){function t(t,o,n){for(var i=0;i<o.length;i++)t==e.types[0]&&$(o[i]).delay(n).fadeIn(global.time),t==e.types[1]&&$(o[i]).fadeOut(global.time),t==e.types[2]&&($(o[i]).is(":visible")?$(o[i]).fadeOut(global.time):$(o[i]).fadeIn(global.time))}var e={types:["show","hide","toggle"]};$("[data-visibility]").length>0&&($(".promo-page__color.is-active")&&$("#silver").css("display","block"),$(document).on("click","[data-visibility]",function(){var o;if($(this).hasClass("promo-page__color")){if($(this).hasClass("is-active"))return;$(this).parent(".promo-page__colors-list").find(".promo-page__color.is-active").removeClass("is-active"),$(this).addClass("is-active")}for(var n=0;n<e.types.length;n++)if(o=e.types[n],$(this).data(o)){var i=$(this).data(o).split("|"),r=0;r="show"==$(this).data("queue")?global.time:0,t(o,i,r)}if(!$(this).hasClass("tabs__link")&&"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type"))return!1}))};visibilityControl();var $ftrAccordion=$(".js-accordions-footer");$(window).load(function(){ftrAccordionInit(),toggleFtrAccordion(),CatalogAndPriceAccordionInit()});var accordionTimer;$(window).resize(function(t){accordionTimer=setTimeout(function(){toggleFtrAccordion()},250)}),$(window).on("load",function(){customizeScrollbar()});var Datepicker=function(){var t,e,o=$(".datepicker");o.each(function(){t=$(this).data("date-min"),e=$(this).data("date-max"),$(this).datepicker({showOtherMonths:!0,minDate:t||null,maxDate:e||null,onSelect:function(){console.log(1),$(this).change()}})})},datepicker=new Datepicker;$(".js-dropdown-list-toggle").on("click touch",function(){$(this).is(".is-active")&&$(".js-dropdown-list-toggle").is(".is-active")?$(this).removeClass("is-active"):($(".js-dropdown-list-toggle").removeClass("is-active"),$(this).addClass("is-active"))});var Slider=function(){var t,e,o,n,i=$(".slider");i.each(function(){var i=$(this),r=i.find(".slider__range");t=r.data("min"),e=r.data("max"),o=r.data("step"),n=r.data("values").split(", "),r.slider({range:!0,min:null!==t?t:null,max:null!==e?e:null,step:o||1,values:n,slide:function(t,e){var o,n,s,a,l=(r.width(),i.find(".ui-slider-handle:nth-child(2)")),c=i.find(".ui-slider-handle:nth-child(3)");i.find(".ui-slider-handle").children("span").remove(),l.append("<span>"+e.values[0]+"</span>"),c.append("<span>"+e.values[1]+"</span>"),o=l.children("span"),n=c.children("span"),s=c.position().left-l.position().left,a=(o.width()+n.width())/2,s<a+20?(o.addClass("is-shifted-left"),n.addClass("is-shifted-right")):(o.removeClass("is-shifted-left"),n.removeClass("is-shifted-right"))},change:function(t,e){var o=i.find(".slider__min"),n=i.find(".slider__max");Number(o.val())!=e.values[0]&&(o.val(e.values[0]),o.change()),Number(n.val())!=e.values[1]&&(n.val(e.values[1]),
n.change())}}),i.find(".ui-slider-handle:nth-child(2)").append("<span>"+r.slider("values",0)+"</span>"),i.find(".ui-slider-handle:nth-child(3)").append("<span>"+r.slider("values",1)+"</span>")})},slider=new Slider,Popups=function(){var t=this,e=$('[data-popup="open"]'),o=$('[data-modal="open"]'),n=$('[data-popup="iframe"]'),i=($('[data-popup="close"]'),{fitToView:!1,margin:0,padding:0,openSpeed:global.time,closeSpeed:global.time,helpers:{title:null,overlay:{locked:!0}}});if(t.open=function(t,e){e=e||{},e&&0!=Object.keys(e).length||$.each(i,function(t,o){e[t]=o}),$(t).data("close-btn")===!1&&(e.closeBtn=!1),e.href=t;var o=t.replace("#","");$.fancybox(e),$(".fancybox-overlay").addClass(o)},t.close=function(){$.fancybox.close()},e.length>0&&e.on("click",function(){var e=$(this).attr("href")||$(this).data("href"),o={};return $.each(i,function(t,e){o[t]=e}),e.indexOf("#equipment")>-1&&(o.beforeShow=function(){$(e).closest(".fancybox-wrap.fancybox-desktop").addClass("is-left")}),t.open(e,o),!1}),$(".popup-menu__item").length>0&&$(".popup-menu__item").on("click",function(){$(this).hasClass("is-active")||($(this).parent(".popup-menu__list").find(".popup-menu__item.is-active").removeClass("is-active"),$(this).parent(".popup-menu__list").find(".popup-submenu.is-shown").removeClass("is-shown"),$(this).addClass("is-active"),$(this).find(".popup-submenu").addClass("is-shown"),$(this).closest(".popup_equipment").hasClass("is-expanded")||($(this).closest(".popup_equipment").addClass("is-expanded"),$.fancybox.update()))}),o.length>0&&e.on("click",function(){var e=$(this).attr("href")||$(this).data("href"),o={};$.each(i,function(t,e){o[t]=e}),o.modal=!0,o.beforeShow=function(){$(".fancybox-overlay").addClass("fancybox-overlay_type_modal")},o.afterClose=function(){setTimeout(function(){$(".fancybox-overlay").removeClass("fancybox-overlay_type_modal")},global.time)},t.open(e,o)}),n.length>0){var r={};$.each(i,function(t,e){r[t]=e}),r.padding=48,r.beforeShow=function(){$(".fancybox-overlay").addClass("fancybox-overlay_type_iframe")},r.afterClose=function(){setTimeout(function(){$(".fancybox-overlay").removeClass("fancybox-overlay_type_iframe")},global.time)},n.fancybox(r)}$('[data-popup="close"]').length>0&&$('[data-popup="close"]').on("click",function(){t.close()})},popups=new Popups;$(window).resize(function(){$(window).width()<=global.tabletLgSize&&$(".popup.popup_equipment").closest(".fancybox-opened").length>0&&($(".popup-menu__list").find(".popup-menu__item.is-active").removeClass("is-active"),$(".popup-menu__list").find(".popup-submenu.is-shown").removeClass("is-shown"),$(".popup-menu__list").closest(".popup_equipment").removeClass("is-expanded"),$.fancybox.close())}),$(".tooltip").not(".tooltip_top").tooltip({position:{my:"center top+20",at:"center bottom",collision:"flipfit + 50",using:function(t,e){$(this).css(t).addClass(e.vertical)},show:{effect:"fade",duration:global.time}}}),$(document).on("click",function(t){$(t.target).closest(".promo-vrv-application__scroll").length||$(t.target).hasClass("js-block-show-link")||$(".promo-vrv-application__scroll").fadeOut("slow"),$(t.target).closest(".scroll-block_opened").length||$(t.target).hasClass("js-block-show-link")||closeScrollBlock()}),$(document).on("click",".js-block-hide-link",function(t){t.preventDefault(),$(".promo-vrv-application__scroll").fadeOut(300),closeScrollBlock()}),$(document).on("keydown",function(t){"27"==t.keyCode&&($(".promo-vrv-application__scroll").fadeOut(300),closeScrollBlock())}),$(document).on("click",".js-block-show-link",function(t){t.preventDefault();var e=$(this),o=e.closest(".popup-item"),n=o.find(".scroll-block"),i=n.find(".scroll-block__wrapper"),r=o.find(".js-block-hide-link");if(e.closest(".promo-vrv-application__var").length>0){var o=e.closest(".promo-vrv-application__var"),n=o.find(".promo-vrv-application__scroll");$(".promo-vrv-application__scroll").fadeOut("slow"),n.fadeIn("slow")}var n=e.closest(".scroll-block"),i=n.find(".scroll-block__wrapper"),r=n.find(".js-block-hide-link");closeScrollBlock(),n.length>0&&(r.show(),n.addClass("scroll-block_opened"),i.addClass("scroll-block__wrapper_opened"),global.isTouch()||i.mCustomScrollbar({theme:"custom"}),e.hide())}),$(window).load(function(){if(checkHeight(250),$(".js-sbw-330").css({"max-height":"330px"}),$monitoringBlock=$(".dx-pro-monitoring__desc"),$monitoringBlock.length>0){var t=$monitoringBlock.innerHeight();$monitoringBlock.css({"min-height":t+"px"})}changeStyleWCBlock()}),$(window).resize(function(){checkHeight(250),changeStyleWCBlock()}),$(document).on("click",".js-dropdown-scroll-link",function(){$(".scroll-popup").addClass("scroll-popup_opened mCustomScrollbar")}),$(document).on("click",".scroll-popup_opened",function(){$(this).removeClass("scroll-popup_opened")});var homeParallax={is_firefox:navigator.userAgent.toLowerCase().indexOf("firefox/")>-1,init:function(t){var e=this;e.$win=$(window),e.$doc=$(document),e.lastScrollY=window.pageYOffset,e.$root=$(t),e.blockOffset=$(t).offset(),e.$root.each(function(){e.append($(this))});var o=0;e.$win.on("resize",function(){clearTimeout(o),o=setTimeout(function(){for(var t=0;t<e.parallaxImages.length;t++)e.updateVars(e.parallaxImages[t]),e.updatePosition(e.parallaxImages[t])},20)}),e.$win.on("scroll mousewheel DOMMouseScroll",function(){e.lastScrollY=this.pageYOffset,window.requestAnimationFrame(e.scrollHandler.bind(e))}).trigger("scroll mousewheel DOMMouseScroll"),e.$win.on("load",function(){e.parallaxImages.forEach(function(t){e.updateVars(t)})}),$("html").addClass("inited")},scrollHandler:function(){for(var t=this,e=0;e<t.parallaxImages.length;e++)t.updatePosition(t.parallaxImages[e],e)},parallaxImages:[],append:function(t){function e(t,e){return Math.floor(Math.random()*(e-t+1))+t}var o={};o.element=t,o.speedFactor=o.element.data("sp")||.3,o.parent=o.element.parent(),o.type=o.element.data("type"),o.rotate=o.element.data("rotate"),o.rotateKoff=e(6,9)/10,o.scale=o.element.data("scale"),o.dir=o.element.data("dir")||1,this.parallaxImages.push(o),this.updateVars(o)},updateVars:function(t){t.height=t.parent.height(),t.element.css("height",t.height),t.top=t.parent.offset().top},updatePosition:function(t,e){var o=this;if(t.top<=o.lastScrollY+o.$win[0].innerHeight){var n=(t.top-o.lastScrollY)*t.speedFactor,i=-t.dir*(.7*(t.top-o.lastScrollY)),r="",s="",a=i;if(t.element.hasClass("left")||(a=o.$win.width()+i),t.scale){var l=1;o.lastScrollY-t.top>0&&(l=Math.abs((t.top-o.lastScrollY)/1e3)+1,l>t.scale&&(l=t.scale))}if("text"==t.type&&(i=0),t.rotate){var c=parseInt(o.lastScrollY/8,10)*t.rotateKoff;s=t.element.hasClass("left")?"rotate("+c+"deg) ":"rotate(-"+c+"deg) "}t.element.css({opacity:"1",transform:s+r+"translate3d("+i+"px , "+n+"px, 0px)","transform-origin":a+"px "+n+"px 0px"})}}};homeParallax.init(".js-parallax"),$(window).load(function(){doParallax()}),$(".img-parallax").each(function(){function t(){var t=e.data("speed"),n=o.offset().top,i=$(this).scrollTop(),r=$(this).height(),s=o.innerHeight(),a=i+r;if(a>n&&i<n+s)var l=(a-n)*t,c=r+s,u=l/c*100+(50-50*t);e.css({top:u+40+"%",transform:"translateY(-"+u+"40%)"})}var e=$(this),o=$(this).parent();$(document).on({scroll:function(){t()},ready:function(){t()}})}),$(".tooltip").not(".tooltip_top").tooltip({position:{my:"center top+20",at:"center bottom",collision:"flipfit + 50",using:function(t,e){$(this).css(t).addClass(e.vertical)},show:{effect:"fade",duration:global.time}}});var SlidingMenu=function(){var t=this,e=$(".js-sliding-menu"),o=$(".js-menu-open");btnClose=$(".js-menu-close"),t.open=function(){e.addClass("is-visible"),$("body").addClass("no-scroll"),$(".page").addClass("transform-right"),$("body,html").scrollTop(0)},t.close=function(){e.removeClass("is-visible"),$("body").removeClass("no-scroll"),$(".page").removeClass("transform-right")},o.on("click",function(){t.open()}),btnClose.on("click",function(){t.close()})},slidingMenu=new SlidingMenu;$(".js-buy-menu_show").click(function(){$(this).toggleClass("is-active"),$(this).next(".main-nav-subnav").toggleClass("is-active")}),$("body").on("mouseleave",".main-nav-subnav.is-active",function(){$(this).removeClass("is-active")}),$(window).load(function(){$(".slick").length>0&&$(".slick").slick({arrows:!1,dots:!0}),$(".adaptive-table__slider").length>0&&$(".adaptive-table__slider").slick({arrows:!0,dots:!1,slidesToShow:3,responsive:[{breakpoint:640,settings:{slidesToShow:2}}]}),$(".slick-central").length>0&&$(".slick-central").slick({arrows:!0,dots:!1,speed:500,autoplay:!0,autopleySpeed:3e3,centerPadding:"25%",infinite:!0,centerMode:!0,responsive:[{breakpoint:1199,settings:{centerPadding:"17%"}},{breakpoint:959,settings:{centerPadding:"90px"}},{breakpoint:767,settings:{centerMode:!1}}]})}),$(window).load(function(){$(".showroom-carousel").length>0&&$(".showroom-carousel").slick({arrows:!0,dots:!1,speed:500,autoplay:!0,autopleySpeed:3e3,centerPadding:"25%",infinite:!0,centerMode:!0,slide:".showroom-carousel__img",responsive:[{breakpoint:1409,settings:{centerPadding:"112px"}},{breakpoint:959,settings:{centerMode:!1}}]}),createGalleryCarousel(),createMobileCarousel(),CatalogAndPriceCarousel(),$(".gallery__list_carousel").length>0&&$(".gallery__list_carousel").slick({arrows:!0,dots:!0,speed:500,infinite:!1,slide:".gallery__row",slidesToShow:3,slidesToScroll:1,nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"></button>',prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]})});var resizeCarousel;$(window).resize(function(t){clearTimeout(resizeCarousel),resizeCarousel=setTimeout(function(){createGalleryCarousel(),createMobileCarousel()},250)});var FastShop=function(){var t,e,o,n=this,i=($(".js-shop"),$("[data-shop]")),r=$("[data-item]"),s=$(".mobile-shop .icon-cross"),a=$(".mobile-shop .icon-arrow");n.open=function(t){$(t).addClass("is-visible"),$("body").addClass("overflow"),$(".page").addClass("transform-left")},n.openNext=function(t){$('[data-list="'+t+'"]').addClass("is-visible")},n.openPrev=function(t){$('[data-list="'+t+'"]').removeClass("is-visible")},n.close=function(){$(".mobile-shop.is-visible").removeClass("is-visible"),$("body").removeClass("overflow"),$(".page").removeClass("transform-left")},i.click(function(){t=$(this).data("shop"),"#shop-filter"===t&&$("body").addClass("overflow"),n.open(t)}),r.click(function(){submenu=$(this).data("item"),n.openNext(submenu)}),s.click(function(){$("body").removeClass("overflow"),n.close()}),a.click(function(){e=$(this).closest(".mobile-shop").data("list"),n.openPrev(e)}),$(window).resize(function(t){clearTimeout(o),o=setTimeout(function(){$(window).width()>global.tabletLgSize&&n.close()},250)})},fastShop=new FastShop;$(function(){var t=$("#pult"),e=.8*t.outerHeight();t.length&&$(window).scroll(function(){var o=t.offset().top-$(window).height(),n=t.offset().top+t.outerHeight()/2,i=t.height()/3*($(document).scrollTop()-n)/(o-n);i>e?t.css({transform:"translateY("+e+"px)"}):i<e&&i>0?t.css({transform:"translateY("+-i+"px)"}):i<0&&t.css({transform:"translateY(0px)"})})}),$(function(){function t(){$(".promo-progress span").each(function(){function t(){o>=n?clearInterval(i):(o++,e.css("width",o+"%"))}var e=$(this),o=1,n=e.data("width"),i=setInterval(t,1)})}function e(){$(".counter").each(function(){$(this).prop("Counter",0).animate({Counter:30},{duration:2500,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})})}if($(".promo-ftxs-comfort").length){var o=$(".promo-ftxs-comfort").offset().top+$(".promo-ftxs-comfort").outerHeight()/3*2;$(window).on("resize",function(){o=$(".promo-ftxs-comfort").offset().top+$(".promo-ftxs-comfort").outerHeight()/3*2}),$(window).on("scroll.numbers",function(){$(window).scrollTop()+$(window).height()/3*2>=o&&(e(),t(),$(window).off("scroll.numbers"))})}}),$(function(){function t(){$(".js-img").length&&$(".js-img").each(function(){var t=$(this),e=t.closest(".js-parent-sticky-float").find(".js-sticky-float");t.height()>$(window).height()&&$(window).width()>=1200?e.stickyfloat({duration:0,offsetY:parseInt($(".header-desktop").outerHeight()),onReposition:function(){parseInt(e.css("top"))===parseInt($(".header-desktop").outerHeight())&&e.css("top",0)}}):(e.stickyfloat("destroy"),e.attr("style",""))})}var e;t(),$(window).on("resize",function(){clearTimeout(e),e=setTimeout(t,100)});var o;$(window).on("scroll",function(){$(".js-control-content").length&&(o&&clearTimeout(o),o=setTimeout(function(){var t=($(this),$(".js-control-content")),e=$(".js-control-step");$(window).scrollTop()>=t.offset().top-t.height()-$(window).height()/3*2-$(".header-desktop").outerHeight()&&e.each(function(){var t=$(this);t.addClass("fadeInUp").css({"transition-delay":$(this).data("transition-delay")}),t.closest(".js-control-wrap").find(".js-control-line").addClass("fade")})},30))});var n=$(".js-allergen-content");if(n.length){var i=$(".js-dandelion-top"),r=$(".js-dandelion-bottom"),s=window.innerWidth;if(i.length&&r.length){var a;setTimeout(function(){a=n.offset().top+n.outerHeight()/2+window.innerHeight/7},1e3);s-i.offset().left,s-r.offset().left;$(window).on("scroll",function(){var t=$(window).scrollTop();i.css({transform:"translateX("+(-t+(a-window.innerHeight/2))+"px)"}),r.css({transform:"translateX("+.3*(-t+(a-window.innerHeight/2))+"px)"})})}}}),$(".energy-block").length>0&&($(".energy-block").appear(),$(".energy-block").on("appear",function(t,e){$(".energy__bar").addClass("is-full")})),$(".promo-page_midea-mis .promo-traits__image.promo-traits__image_inverter").length>0&&($(".promo-page_midea-mis .promo-traits__image.promo-traits__image_inverter").appear(),$(".promo-page_midea-mis .promo-traits__image.promo-traits__image_inverter").on("appear",function(t,e){$(".promo-page_midea-mis .promo-traits__image.promo-traits__image_inverter").addClass("is-faded")})),$(function(){var t=$("[data-scroll-elem]"),e=$("[data-scroll-sect]"),o=$("[data-scroll-elem]").data("scroll-elem")||350;$(window).width()<global.desktopSize&&(o=.6*o),$(window).width()<=global.tabletSize&&(o=0),t.length&&e.length&&!global.isTouch()&&$(window).scroll(function(){if($(window).width()>global.tabletSize){var n=t.offset().top-$(window).height()+t.outerHeight()/2,i=t.offset().top+t.outerHeight()/2,r=o*($(document).scrollTop()-i)/(n-i);r/=3,r>o?(t.css({transform:"translateY("+o+"px)"}),e.css({transform:"translateY("+o+"px)"})):r<o&&r>0?(t.css({transform:"translateY("+r+"px)"}),e.css({transform:"translateY("+r+"px)"})):r<0&&(t.css({transform:"translateY(0px)"}),e.css({transform:"translateY(0px)"}))}})}),$(function(){var t=$("[data-parallax-elem]"),e=$("[data-parallax-elem]").data("parallax-elem")||350;$(window).width()<global.desktopSize&&(e=.6*e),$(window).width()<=global.tabletSize&&(e=0),t.length&&$(window).scroll(function(){$(window).width()>global.tabletSize?t.each(function(){$thisParallaxElem=$(this);var t=$thisParallaxElem.offset().top-$(window).height()+$thisParallaxElem.outerHeight()/2,o=$thisParallaxElem.offset().top+$thisParallaxElem.outerHeight()/2,n=e*($(document).scrollTop()-o)/(t-o);n/=3,n>e?$thisParallaxElem.css({top:e+"px"}):n<e&&n>0?$thisParallaxElem.css({top:n+"px"}):n<0&&$thisParallaxElem.css({top:"0px"})}):t.each(function(){$thisParallaxElem=$(this),$thisParallaxElem.removeAttr("style")})})}),$(function(){var t=$(".promo-mideablanc-comfort__value"),e=$(".promo-mideablanc-comfort__line");t.length&&e.length&&$(window).scroll(function(){function o(e,o,n,i){$(window).width()<=global.tabletSize?t.css({left:e+"%",transform:"translateX(-"+e+"%)"}):t.css({top:e+"%",transform:"translateY(-"+i+"%)"}),t.html(o+'<sup>°C</sup><div class="promo-mideablanc-comfort__warm" style="background: '+n+'"></div>')}var n=e.offset().top-$(window).height()+e.outerHeight()/2,i=e.offset().top+e.outerHeight()/2,r=100-100*($(document).scrollTop()-i)/(n-i);r<0&&o(0,26,"#ed3f5c",0),r>0&&r<100&&(r>25&&o(25,25,"#ab5e86",0),r>50&&o(50,24,"#707aaa",0),r>75&&o(75,23,"#3495cf",0)),r>100&&o(100,22,"#01adef",100)})}),$(function(){var t=2,e=0===t?1:Math.pow(10,t),o=!1,n=$("#promo_cell_number");n.length&&$(window).on("scroll",function(){var i=n.offset().top+n.outerHeight();$(window).scrollTop()+$(window).height()>=i&&0==o&&(o=!0,n.prop("number",120).animateNumber({number:.54*e,numberStep:function(o,n){var i=Math.floor(o)/e,r=$(n.elem);t>0&&(i=i.toFixed(t),i=i.toString().replace(".",",")),r.html(i+"<span>мм</span>")}},5e3))})}),$(function(){var t=$(".js-wolter-slider");t.slick({arrows:!1,variableWidth:!0}),t.on("wheel",function(e){e.preventDefault();var o=e.originalEvent.deltaY;o>0?t.slick("slickNext"):t.slick("slickPrev")})}),$(function(){function t(t){for(var e=t.length,o=t[0].length,n=[],i=0;i<o;i++){n[i]=[];for(var r=0;r<e;r++)n[i][r]=t[r][i]}return n}if($(window).width()<=global.tabletSize&&$(".promo-dahu-sizes").length){var e,o,n=[];$(".promo-dahu-sizes .promo-traits__cell").each(function(t){var e=$(this).children(".promo-traits__row");n[t]=e,o=t}),o++,$(".promo-dahu-sizes .promo-traits__column-left").each(function(t){e=$(this).children(".promo-traits__row")}),n.unshift(e);var i=t(n);if(o<i.length-1)for(var r=o;r<i.length-1;r++)$(".promo-dahu-sizes .promo-traits__middle-slider").append("<div class='promo-traits__cell'></div>");else if(o>i.length-1){$(".promo-dahu-sizes .promo-traits__middle-slider .promo-traits__cell").remove();for(var r=1;r<i.length-1;r++)$(".promo-dahu-sizes .promo-traits__middle-slider").append("<div class='promo-traits__cell'></div>")}$(".promo-dahu-sizes .promo-traits__cell").each(function(t){$(this).html(i[t+1])})}}),$(function(){var t=$(".js-promo-traits__number");t.length&&(t.html("0"),$(window).on("scroll",function(){!t.hasClass("animated")&&$(window).scrollTop()+$(window).height()>=t.offset().top&&(t.animateNumber({number:60,easing:"easeOutQuad"},3e3),t.addClass("animated"))}))}),$(".compare-list__column").hover(function(){$(this).parent().addClass("_hover")}),$(".compare-list__column").mouseleave(function(){$(this).parent().removeClass("_hover")}),$(function(){var t=$(".js-titan-details-content");if(t.length){console.log(t.length);var e=$(".js-titan-details-top"),o=$(".js-titan-details-bottom");window.innerWidth;if(e.length&&o.length){var n;setTimeout(function(){n=t.offset().top+t.outerHeight()/2},1e3),$(window).on("scroll",function(){var t=$(window).scrollTop(),i=.7*(t-(n-window.innerHeight/2)),r=.3*(-t+(n-window.innerHeight/2));i<0&&e.css({transform:"translateX("+i+"px)"}),r>0&&o.css({transform:"translateX("+r+"px)"})})}}}),$(function(){function t(t){$(window).scroll(function(){var e=t.offset().top-$(window).height(),o=t.offset().top+t.outerHeight()/2,n=t.height()*($(document).scrollTop()-o)/(e-o);n>100?t.css({bottom:"100%",transform:"translateY(100%)"}):n>0?t.css({bottom:n+"%",transform:"translateY("+n+"%)"}):n<0&&t.css({bottom:"0%",transform:"translateY(0%)"})})}var e=$("[data-fix-scroll]");!e.length||$(window).width()<=global.tabletSize||e.each(function(){t($(this))})}),$(function(){function t(){$(".js-chiller-lineup").each(function(t,e){setBlockSize($(e).find(".js-chiller-lineup-features")),setBlockSize($(e).find(".js-chiller-lineup-advantages"))}),$(".js-chiller-lineup-head").css("marginTop",$(".js-chiller-lineup-advantages").height())}if($(".js-chiller-lineup").length){setTimeout(t,750);var e;$(window).resize(function(o){clearTimeout(e),e=setTimeout(t,750)}),$(".js-chiller-lineup").on("afterChange",t),$(window).load(function(){$(".js-chiller-lineup").slick({arrows:!0,dots:!1,slidesToShow:3,responsive:[{breakpoint:global.desktopLgSize,settings:{slidesToShow:2}},{breakpoint:global.tabletSize,settings:{slidesToShow:1}}],nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-right"></use></svg></button>',prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-left"></use></svg></button>'})})}}),$(function(){resetHistorySlider()}),$(window).on("resize",resetHistorySlider),function(){function t(t){function o(){i.each(function(t,o){var n=$(o).find(".js-map-contacts").attr("id");e(n)})}var i=$(".js-map-contacts-tab");i.length>0&&($.each(n,function(t,e){e.map.destroy()}),n=[],"undefined"!=typeof ymaps?t?ymaps.ready(o):o():console.warn("Переменная ymaps недоступна"))}function e(e){if(e){var i=new ymaps.Map(e,{center:[55.796963,37.5376439],zoom:13,controls:[]}),r=$("#"+e).parents(".js-map-contacts-tab").find(".js-contacts-marker"),s=[];n.push({map:i,placemarks:s,id:e});var a=new ymaps.control.ZoomControl({options:{size:"small",position:{top:10,right:10}}});i.controls.add(a),global.isTouch()&&i.behaviors.disable("drag"),$.each(r,function(t,e){var o=parseFloat($(e).data("posX")),n=parseFloat($(e).data("posY")),r=new ymaps.Placemark([o,n],{},{iconLayout:"default#image",iconImageHref:global.htmlRoot+"img/balloon.png",iconImageSize:[112,56],iconImageOffset:[-56,-56],openBalloonOnClick:!1,cursor:"default"});i.geoObjects.add(r),s.push(r)}),o();var l;$(window).on("resize",function(){clearTimeout(l),l=setTimeout(t,500)})}}function o(){$.each(n,function(t,e){var o=e.map,n=e.placemarks;1===n.length?o.setCenter(n[0].geometry.getCoordinates(),16):o.setBounds(o.geoObjects.getBounds(),{checkZoomRange:!0,zoomMargin:10})})}var n=[];$(document).on("click",".js-map-contacts-tab-switch",function(t){var e=$(this),i=$("#"+e.data("id")),r=n.find(function(t){return t.id===i.find(".js-map-contacts").attr("id")}).map;t.preventDefault(),$(".js-map-contacts-tab-switch").removeClass("is-active"),$(".js-map-contacts-tab").hide().removeClass("active-tab"),e.addClass("is-active"),i.fadeIn(300,function(){e.addClass("active-tab")}),setTimeout(function(){r&&r.getZoom()<=10&&o()},500)}),$(document).on("click",".js-contacts-marker",function(){var t,e=$(this);if($.each(n,function(o,n){n.id===e.closest(".js-map-contacts-tab").find(".js-map-contacts").attr("id")&&(t=n)}),t){var o=Number(e.attr("data-pos-x")),i=Number(e.attr("data-pos-y"));t.map.panTo([o,i],{flying:!0})}}),t(!0),window.setBounds=o}(),$(document).ready(function(){function t(){$(".js-similar-mob-slider").slick({arrows:!0,dots:!0,infinite:!0,speed:500,slidesToShow:1,autoplay:!1,autoplaySpeed:3e3,mobileFirst:!0,responsive:[{breakpoint:559,settings:"unslick"}]})}function e(){(window.matchMedia("(max-width: 559px)").matches||$(document).width<559)&&($(".js-similar-mob-slider").slick("unslick"),t())}function o(t,e,o,n,i){i=i||10,$("body").on("click",t,function(){var t=$(this),r=Number(t.data("offset")),s=Number(t.data("count-all")),a=$(e);"function"==typeof n&&(n=n()),n=n||{},n.OFFSET=r,a.length&&(t.addClass("loading"),$.ajax({type:"GET",url:o,data:n,dataType:"html",cache:!1,error:function(){console.log("Error loading more"),t.removeClass("loading")},success:function(e){if(console.log("Success loading more"),t.data("offset",r+i),a.append(e),s-a.children("div").length<i)if(s-a.children("div").length>0){var o=t.find(".content-more__text");o.text(o.data("text"))}else t.hide();setTimeout(function(){a.addClass("has-added"),a.find(".just-loaded").removeClass("just-loaded"),t.removeClass("loading")},1e3)}}))})}function n(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var o=t.indexOf("Trident/");if(o>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}$.fn.tabsInit=function(){var t=$(this),e=t.find(".js-tabs-link"),o=t.siblings(".js-tabs-body"),n=o.find(".js-tabs-item");return e.click(function(){var t=".js-tabs-body #"+$(this).data("tab");e.removeClass("is-active"),$(this).addClass("is-active"),n.removeClass("is-active"),$(t).addClass("is-active")}),this},$(".js-tabs-head").tabsInit(),$(".js-tabs-head-2").tabsInit(),$(".js-prod-tabs").tabsInit(),$.fn.spoilerInit=function(t){var e=$(this);return t=t||0,e.each(function(e,o){var n=$(this),i=n.siblings(".js-spoiler-body"),r=i.css("height","auto").height();r>t?i.height(t):n.hide(),n.click(function(){n.hasClass("active")?(i.animate({height:t},600),n.removeClass("active").text("Все характеристики")):(i.animate({height:r},600),n.addClass("active").text("Свернуть"))})}),this},$(".js-features-spoiler").spoilerInit(165),$(".js-prod-tab-spoiler").click(function(){var t=$(this),o=t.siblings(".js-spoiler-body");t.hasClass("is-active")?(t.removeClass("is-active"),o.slideUp(600)):(t.addClass("is-active"),o.slideDown(600),setTimeout(e,100)),$("html, body").animate({scrollTop:$(this).offset().top},600)}),$(".js-intro-slider").slick({arrows:!1,dots:!0,infinite:!0,speed:600,slidesToShow:1,autoplay:!0}),$(".js-watched-slider").slick({arrows:!1,dots:!1,infinite:!1,speed:600,autoplay:!1,variableWidth:!0,slidesToScroll:1}),$(".js-brands-slider").slick({arrows:!0,dots:!1,infinite:!1,speed:600,variableWidth:!1,slidesToShow:4,autoplay:!1,slidesToScroll:1,responsive:[{breakpoint:767,settings:{arrows:!1,slidesToShow:2}},{breakpoint:960,settings:{arrows:!1,slidesToShow:3}},{breakpoint:1199,settings:{variableWidth:!1,slidesToShow:3}}]}),$(".js-brands-link").click(function(){var t=$(this),e=t.data("brand"),o=$("#brands-tabs").children(".sec-brands__tab"),n=$(".js-brands-link");t.hasClass("is-active")?(t.removeClass("is-active").children(".sec-brands__item-txt").text("Показать оборудование"),$(e).removeClass("is-active")):(n.removeClass("is-active").children(".sec-brands__item-txt").text("Показать оборудование"),o.removeClass("is-active"),t.addClass("is-active").children(".sec-brands__item-txt").text("Скрыть оборудование"),$(e).addClass("is-active"))}),$("#prod-thumbs").slick({vertical:!0,arrows:!1,dots:!1,infinite:!1,speed:600,autoplay:!1,slidesToShow:3,centerMode:!0,focusOnSelect:!0,slidesToScroll:1,asNavFor:"#prod-imgs"}),$("#prod-imgs").slick({arrows:!1,dots:!1,infinite:!1,speed:600,autoplay:!1,slidesToScroll:1,asNavFor:"#prod-thumbs",responsive:[{breakpoint:960,settings:{dots:!0}}]}),t(),$(".js-read-more").on("click",function(){var t=$(this);t.closest(".structure__row").attr("style")?t.removeAttr("style"):t.closest(".structure__row").css({"min-height":t.closest(".structure__row").outerHeight()})}),$(".js-open-list").on("click",function(){var t=$(this);t.closest(".partners__row").attr("style")?t.removeAttr("style"):t.closest(".partners__row").css({"min-height":t.closest(".partners__row").outerHeight()})}),$(window).on("resize",e),$(".gallery__slider").on("init reInit afterChange",function(t,e,o,n){var i=(o?o:0)+1;$(".gallery__slider-info").text(i+" / "+e.slideCount)}),$("body").on("click",".js-accordion-head",function(t){var e=$(this),o=e.siblings(".js-accordion-body");$(t.target).closest(".js-reset-filter").length>0||$(t.target).closest(".js-eye-btn-filter").length>0||(e.hasClass("is-open")?(e.removeClass("is-open"),o.slideUp(300)):(e.addClass("is-open"),o.slideDown(300)))}),$(".js-show-video-tab").click(function(){$("#prod-tabs-nav").find("[data-tab = prod_posting]").trigger("click")}),$(".gallery__slider").on("init reInit afterChange",function(t,e,o,n){var i=(o?o:0)+1;$(".gallery__slider-info").text(i+" / "+e.slideCount)}),$(".gallery__slider").slick({infinite:!0,touchMove:!1,slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,variableWidth:!0}),$(".news-page__slider,.object-page__slider").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1}),$(".showmore").on("click",function(t){t.preventDefault();var e=$(this).find(".text"),o=$(this).closest(".partners__row, .structure__row");$(".structure__row").removeClass("js-active active"),$(this).hasClass("active")?($(".showmore").removeClass("js-active active"),$(this).addClass("js-active active")):($(".showmore").removeClass("js-active active"),$(".showmore").find(".text").text(e.data("close"))),$(this).toggleClass("js-active active"),$(this).hasClass("active")?(o.addClass("js-active active"),e.text(e.data("open"))):(o.removeClass("js-active active"),e.text(e.data("close")))}),$(".top-menu ul").each(function(){if($(this).find("li.active").length>0){var t=$(this).find("li.active").offset().left;$(this).scrollLeft(t)}}),$(".switcher-list a").on("click",function(t){t.preventDefault(),$(".switcher-list li").removeClass("active"),$(this).parent().addClass("active")}),$(".js-dropdown-btn").on("click",function(){$(this).toggleClass("is-open"),$(".js-sorting-list").toggleClass("is-open")}),o(".js-load-prod-card","#js-for-load-prod-cards","ajax/more_prod-card_tiles.php"),o(".js-load-offers","#js-for-load-offers","/catalog/ajax/offers-get.php",{GOOD_CODE:$("#good-info").data("code")}),o(".js-load-dealers","#js-for-load-list-dealers","/ajax/dealers-get-more.php",function(){return{FILTER:$("form#js-filter-dealers").serializeArray()}}),o(".js-load-news-list","#js-for-news-list","ajax/more_news.php"),o(".js-load-articles-list","#js-for-articles-list","ajax/more_articles.php"),$(".js-reviews-tab_show").click(function(){var t,e=$("#prod-tabs-nav");e.find("[data-tab = prod_reviews]").trigger("click"),t=e.offset().top-81,$("html, body").animate({scrollTop:t},600)}),$(".js-video-tab_show").click(function(){$("#prod-tabs-nav").find("[data-tab = prod_posting]").trigger("click")});var i=$("#prod-menu"),r=$("#prod-menu-body"),s=$(".js-prod-submenu-link");$(".js-prod-menu_show").click(function(){i.addClass("is-active"),$(".header-desktop").length&&($(".header-desktop").addClass("header-desktop_white"),$(".header-desktop").addClass("menu-open")),$(".header-mobile_transparent").length&&($(".header-mobile").removeClass("header-mobile_transparent"),$(".header-mobile").addClass("was-transparent"))}),$(".js-prod-menu_hide").click(function(){if(i.removeClass("is-active"),$(".menu-open").length){var t;clearTimeout(t),t=setTimeout(function(){$(".header-mobile").hasClass("was-transparent")&&($(".header-mobile").addClass("header-mobile_transparent"),$(".header-mobile").removeClass("was-transparent")),$(".header-desktop").addClass("was-transparent"),$(".header-desktop").removeClass("menu-open"),headerToWhite()},600)}}),

    s.click(function(){
        var t=$(this),
            e=t.parent().index(".prod-menu__line");

        $(".prod-menu__offer").removeClass("is-active"),
        r.hasClass("long")&&r.removeClass("long"),
            t.hasClass("is-active")?(t.removeClass("is-active"),r.removeClass("is-open")):
                (s.removeClass("is-active"),
                t.addClass("is-active"),r.addClass("is-open"),
                $(".prod-menu__offer").eq(e).addClass("is-active"),
                    (e==2 || e==0)&&(r.addClass("long"),
                $(".prod-menu__offer").eq(e).addClass("long")
            )
            )
    }),


    $(".top-menu ul").each(function(){if($(this).find("li.active").length>0){var t=$(this).find("li.active").offset().left;$(this).scrollLeft(t)}}),$(".switcher-list a").click(function(t){t.preventDefault(),$(".switcher-list li").removeClass("active"),$(this).parent().addClass("active")}),$(".js-dropdown-btn").on("click",function(){$(this).toggleClass("is-open"),$(".js-sorting-list").toggleClass("is-open")}),$(".gallery__slider").on("init reInit afterChange",function(t,e,o,n){var i=(o?o:0)+1;$(".gallery__slider-info").text(i+" / "+e.slideCount)}),(new WOW).init();var a,l=!1,c=$(".promo-traits__slider");c.on("init",function(t,e){a=e.slideCount}).slick({slidesToShow:2,slidesToScroll:1,nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-right"></use></svg></button>',prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-left"></use></svg></button>'}),$(".product-scroll").slider({min:1,max:a,value:$(".promo-traits__slider").slick("slickCurrentSlide")+1,slide:function(t,e){return!l&&void c.slick("slickGoTo",e.value)}}),c.on("beforeChange",function(t,e,o,n){l=!0,$(".product-scroll").slider("option","value",n+1)}),c.on("afterChange",function(t,e){l=!1}),$(".promo-traits__middle-slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-right"></use></svg></button>',
prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-left"></use></svg></button>',responsive:[{breakpoint:768,settings:{slidesToShow:2}}]}),$(".promo-traits__three-slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-right"></use></svg></button>',prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-left"></use></svg></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:2}}]}),$(".promo-traits__big-slider").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"></button>',prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"></button>',responsive:[{breakpoint:1600,settings:{slidesToShow:4}},{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),$(".promo-traits__huge-slider").slick({infinite:!0,slidesToShow:10,slidesToScroll:1,nextArrow:'<button class="btn btn_clean slider-arrow slider-arrow-next"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-right"></use></svg></button>',prevArrow:'<button class="btn btn_clean slider-arrow slider-arrow-prev"><svg class="icon icon-slider-arrow"><use xlink:href="#arrow-left"></use></svg></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}}]}),$(".js-all-features").on("click",function(t){t.preventDefault();var e,o,n=$("#header-desktop:visible").length?$("#header-desktop").outerHeight():0;window.innerWidth>960?(o=$(".js-all-features-desktop"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click")):(o=$(".js-all-features-mobile"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click"))}),$(".js-all-offers").on("click",function(t){t.preventDefault();var e,o,n=$("#header-desktop:visible").length?$("#header-desktop").outerHeight():0;window.innerWidth>960?(o=$(".js-prod-offers-desktop"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click")):(o=$(".js-prod-offers-mobile"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click"))}),$(".js-all-props").on("click",function(t){t.preventDefault();var e,o,n=$("#header-desktop:visible").length?$("#header-desktop").outerHeight():0;window.innerWidth>960?(o=$(".js-all-props-desktop"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click")):(o=$(".js-all-props-mobile"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click"))}),$(".js-add-review").on("click",function(){$(".wrap-main").addClass("review-open"),$("body").addClass("overlow")}),$(".js-review-popup-close").on("click",function(){$(".wrap-main").removeClass("review-open"),$("body").removeClass("overlow")}),$(".js-tags").on("click",function(){$(this).closest(".tag-select-wrapper").toggleClass("is-active")}),$(".js-tabs-close").on("click",function(){$(this).closest(".tag-select-wrapper").removeClass("is-active")}),$(".js-dotdotdot").dotdotdot({ellipsis:"... ",watch:!0}),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not("[data-popup]").click(function(t){if(t.preventDefault(),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length){t.preventDefault();var o=$("#header-desktop:visible").length?$("#header-desktop").outerHeight():0;$("html, body").animate({scrollTop:e.offset().top-o},1e3)}}}),n()&&$(".js-promo-details__effect").length&&$(".js-promo-details__effect").addClass("ie")}),$(window).load(function(){function t(){var t,e=[],o=$(".structure__row");o.each(function(){e.push($(this).removeClass("is-align").find("h5").outerHeight())}),t=Math.min.apply(Math,e);for(var n=0;n<e.length;n++)o.eq(n).find("h5").first().outerHeight()>t&&o.eq(n).addClass("is-align")}$(".structure__list").addClass("is-ready"),window.innerWidth>768&&(t(),$(window).on("resize",t))}),$(window).load(function(){$(window).width()<1600?$(".js-btn-white-to-blue").removeClass("btn_white"):$(".js-btn-white-to-blue").addClass("btn_white")}),$("body > div.wrap-main > main > section > div.container > div.news__paging > div > a").on("click",function(){$("body > div.wrap-main > main > section > div.container > div.news__paging > div > a").addClass("loading"),$.ajax({method:"POST",url:"/news/ajax/news-get-more.php",success:function(t){$("#js-for-news-list").append(t),$("body > div.wrap-main > main > section > div.container > div.news__paging > div > a").removeClass("loading")}})}),$("body > div.wrap-main > main > section > div.container > div.articles__paging > ul > div > a").on("click",function(){$("body > div.wrap-main > main > section > div.container > div.articles__paging > ul > div > a").addClass("loading"),$.ajax({method:"POST",url:"/articles/ajax/articles-get-more.php",success:function(t){$("#js-for-articles-list").append(t),$("body > div.wrap-main > main > section > div.container > div.articles__paging > ul > div > a").removeClass("loading")}})}),$(document).ready(function(){!global.isTouch()&&$(".dealer-popup__body").length>0&&$(".dealer-popup__body").mCustomScrollbar({theme:"minimal-dark"}),!global.isTouch()&&$(".top-menu").length>0&&$(".top-menu ul").mCustomScrollbar({theme:"minimal-dark",autoHideScrollbar:!0,axis:"x"}),!global.isTouch()&&$(".prod-menu").length>0&&$(".prod-menu__nav, .prod-menu__offer").mCustomScrollbar({theme:"minimal-dark"})}),$(document).ready(function(){var t=$(".js-intro-slider").find(".slick-slide");setBlockSize(t)}),$(function(){var t,e=!1,o=function(t,e){var o=o||[];o=o.concat($("#catalog-filter-main").serializeArray()),o=o.concat($("#catalog-filter-top").serializeArray()),o=o.concat([{name:$("#pagen-key-info").data("pagen-key"),value:t||"1"}]);var n=$("#cat-sort-list .sorting__by-item.is-active .sorting__by-btn");if(1==n.length&&(o=o.concat([{name:n.data("order-key"),value:n.data("order-value")}])),e=e||"y","y"==e){var i="/catalog/"+$("#params-info").data("code")+"/?";o.forEach(function(t){i+=t.name+"="+t.value+"&"}),history.pushState(null,null,i)}return o},n=function(t,n){function i(){r?$("#js-for-load-cat-prod").children(".catalog__card").removeClass("is-hidden"):setTimeout(i,1)}showSpinner(),t=o(n),$("#js-for-load-cat-prod").children(".catalog__card").addClass("is-hidden");var r=!1;setTimeout(i,600),$.ajax({url:"/catalog/ajax/goods-get.php?CODE="+$("#params-info").data("code"),data:t,type:"GET",dataType:"json",success:function(t){$("#goods-list").html(t.page_goods),$("#catalog-filter-top").html(t.page_filter_top),$("#js-catalog-side").html(t.page_filter_main),Slider(),checkNumOfDisabled(),initialiseTooltip(),initialiseALLFilterCSBlock(),initialiseResetAllBtn(),$("#catalog-goods-count").html(t.goodsCount),r=!0,e&&(e=!1,$(".js-catalog-filter-more").click()),$("html,body").animate({scrollTop:$(".catalog__sort").offset().top+"px"},{duration:1e3}),hideSpinner()}})};$("#js-for-load-cat-prod").children(".catalog__card").removeClass("is-hidden"),$("body").on("submit","#catalog-filter-top, #catalog-filter-main",function(t){t.preventDefault(),n()}),$("body").on("click",".js-filter-tooltip",function(e){clearTimeout(t),n()}),$("#goods-list").on("click",".catalog__paging>.paging>li>a",function(t){t.preventDefault(),$(".catalog__paging>.paging>li").removeClass("is-active"),$(this).parent().addClass("is-active"),n([],$(".catalog__paging>.paging>li.is-active>a").data("pagen-value"))}),$("#catalog-filter-top").on("change","input",function(t){$("form#catalog-filter-top").submit()}),$("body").on("click","#goods-list .js-load-cat-prod",function(){var t=$(this),e=$("#js-for-load-cat-prod");t.addClass("loading"),$.ajax({type:"GET",url:"/catalog/ajax/goods-get-more.php?CODE="+$("#params-info").data("code"),data:o(Number($(".catalog__paging>.paging>li.is-active>a").data("pagen-value"))+1),dataType:"json",cache:!1,error:function(){t.removeClass("loading")},success:function(o){e.append(o.html),$(".catalog__paging").html(o.pagen),$("#js-for-load-cat-prod").children(".catalog__card").removeClass("is-hidden"),setTimeout(function(){e.addClass("has-added"),e.find(".just-loaded").removeClass("just-loaded"),t.removeClass("loading")},1e3)}})}),$(document).on("change",".js-filter-body input",function(e){$(e.target).closest(".js-filter-body"),$(this).parents(".filters__unit");clearTimeout(t);var n=$(this).offset().top-$(".filters").offset().top+$(this).outerHeight()/2;$(".js-filter-body").length>0&&$.ajax({type:"GET",url:"/catalog/ajax/goods-get-count.php?CODE="+$("#params-info").data("code"),data:o(null,"n"),dataType:"json",cache:!1,success:function(e){$(".js-filter-tooltip").css("top",n+"px"),$(".js-filter-tooltip").addClass("is-active"),$("#js-catalog-tooltip-count-good").text(e.count_text),t=setTimeout(function(){$(".js-filter-tooltip").removeClass("is-active")},2500)}})}),$(document).ready(function(){$('button[name="catalog-eraser"]').on("click",function(e){var n=$(e.target).closest(".js-filter-body");clearTimeout(t),$(".js-filter-body").length>0&&$.ajax({type:"GET",url:"/catalog/ajax/goods-get-count.php?CODE="+$("#params-info").data("code"),data:o(null,"n"),dataType:"json",cache:!1,success:function(e){$(".js-filter-tooltip").css("top",n.position().top+n.outerHeight(!0)/2+"px"),$(".js-filter-tooltip").addClass("is-active"),$("#js-catalog-tooltip-count-good").text(e.count_text),t=setTimeout(function(){$(".js-filter-tooltip").removeClass("is-active")},5e3)}})})}),$(".js-mob-filter_toggle").click(function(){var t=$(this),e=$("#js-catalog-side");t.hasClass("is-open")?(t.removeClass("is-open"),e.removeClass("is-open")):(t.addClass("is-open"),e.addClass("is-open"))}),$(".js-cat-sort").on("click",function(){sortingItems($(this),$("#cat-sort-list"),$("#js-for-load-cat-prod").children(".catalog__card"),n)}),$(".sorting__by-btn").on("click",function(){var t=$(this),e=t.closest(".sorting__by-item"),o=t.closest(".sorting__by-list");window.innerWidth<960&&(e.addClass("is-active").siblings().removeClass("is-active"),e.detach().prependTo(o),$(".js-sorting-list").removeClass("is-open"))}),$("body").on("click",".js-catalog-filter-more",function(){e=!e,$(this).toggleClass("filters__btn-more--minus");var t=$(this).text();$(this).text(t==$(this).data("open")?$(this).data("close"):$(this).data("open")),$(".js-filter_more").fadeToggle(500,function(){$(this).toggleClass("hidden")})})}),$(window).on("load",function(){initialiseEraser()}),$(document).on("click",".js-reset-filter",function(){var t=$(this).closest(".filters__unit");if(t.find(".slider").length>0)resetSlider();else{var e=t.find("[type=checkbox]");e.prop("checked",!1),$(this).hide()}}),$(document).on("change",".filters__unit input[type=checkbox]",function(t){var e=$(t.target).closest(".filters__unit"),o=e.find(".js-reset-filter"),n=e.find("[type=checkbox]"),i=0;n.each(function(){$(this).prop("checked")&&i++}),0===i?o.hide():o.show()}),$(window).on("load",function(){var t=$(".filters__unit");t.each(function(){var t=$(this).find(".js-reset-filter"),e=$(this).find("[type=checkbox]"),o=0;e.each(function(){$(this).prop("checked")&&o++}),0===o&&t.hide()})});var $slider=$(".slider"),$filterUnit=$slider.closest(".filters__unit"),$resetSliderBtn=$filterUnit.find(".js-reset-filter"),$range=$slider.find(".slider__range"),$rangeMin=$range.data("min"),$rangeMax=$range.data("max");$range.slider({change:function(t,e){$resetSliderBtn.show();var o=$slider.find(".ui-slider-handle:nth-child(2)").find("span"),n=$slider.find(".ui-slider-handle:nth-child(3)").find("span");o.text()==$rangeMin&&n.text()==$rangeMax&&$resetSliderBtn.hide()}});const NUM_TO_SHOW_EYE=5,NUM_TO_SHOW_SCROLL=10;$(document).ready(function(){checkNumOfDisabled()}),$(window).load(function(){initialiseALLFilterCSBlock()}),$(window).resize(function(){initialiseALLFilterCSBlock()}),$(document).on("click",".js-eye-btn-filter",function(t){var e=$(this),o=e.find(".tooltip"),n=e.closest(".filters__unit");e.hasClass("is-show")?(e.removeClass("is-show"),o.attr("title","Показать неактивные пункты"),n.find("input[disabled]").each(function(){var t=$(this).attr("id");n.find('label[for="'+t+'"]').slideUp().addClass("is-hidden")})):(e.addClass("is-show"),o.attr("title","Скрыть неактивные пункты"),n.find("input[disabled]").each(function(){var t=$(this).attr("id");n.find('label[for="'+t+'"]').slideDown().removeClass("is-hidden")})),initialiseOneCSBlock(n),o.tooltip("close"),o.tooltip("open")}),$(window).scroll(function(){if($(".filters").length){var t=$(window).scrollTop(),e=$(window).outerHeight(!0),o=$(".filters").offset().top,n=$(".filters").height(),i=($("#header-desktop").outerHeight(!0),$(".js-filters-unit-reset")),r=$(".js-filters-unit-reset").height();i.addClass("is-sticky");var s=-(o+n-r-(t+e-r));-s+r<n&&(s+="px",i.css({top:s})),t+e>=o+n&&i.removeClass("is-sticky")}}),$(document).on("change",".filters__unit-body input",function(t){initialiseResetAllBtn()}),$(window).load(function(){initialiseResetAllBtn()}),$(function(){$(".js-for-load-reviews").children(".review").removeClass("is-hidden");var t=function(){function t(){e?$(".js-for-load-reviews").children(".review").removeClass("is-hidden"):setTimeout(t,1)}$(".js-for-load-reviews").children(".review").addClass("is-hidden");var e=!1;setTimeout(t,600);var o={CODE:$("#good-info").data("code")},n=$(".js-reviews-sort-list .sorting__by-item.is-active .sorting__by-btn");1==n.length&&(o.ORDER_NAME=n.data("order-key"),o.ORDER_SORT=n.data("order-value")),$.ajax({url:"/catalog/ajax/reviews-get.php",data:o,dataType:"json",success:function(t){$(".js-for-load-reviews").html(t.page_reviews),e=!0}})},e=function(){$(".js-for-load-offers").children(".offer").addClass("is-hidden");var t={action:"offers",code:$("#good-info").data("code")},e=$(".js-offers-sort-list .sorting__by-item.is-active .sorting__by-btn");1==e.length&&(t.field=e.data("order-key"),t.order=e.data("order-value")),$.ajax({url:location.href,data:t,dataType:"html",success:function(t){$(".js-for-load-offers").html(t),$(".js-for-load-offers").children(".offer").removeClass("is-hidden")}})};$(".js-offers-sort").click(function(){sortingItems($(this),$(this).closest(".js-offers-sort-list"),$(".js-for-load-offers").children(".offer"),e)}),$(".js-reviews-sort").click(function(){sortingItems($(this),$(this).closest(".js-reviews-sort-list"),$(".js-for-load-reviews").children(".review"),t)}),$(".js-all-offers").on("click",function(t){t.preventDefault();var e,o,n=$("#header-desktop:visible").length?$("#header-desktop").outerHeight():0;window.innerWidth>960?(o=$(".js-prod-offers-desktop"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click")):(o=$(".js-prod-offers-mobile"),e=o.offset().top,$("html, body").animate({scrollTop:e-n},1e3),o.hasClass("is-active")||o.trigger("click"))}),$("form#catalog-good-review-add").submit(function(t){return $.ajax({url:"/catalog/ajax/reviews-add.php",data:$(this).serializeArray(),dataType:"json",success:function(t){$(".js-review-popup-close").click()}}),!1}),window.location.search.substr(1).split("&").forEach(function(t){t=t.split("="),"show"==t[0]&&"offers"==t[1]&&$(".js-all-offers").click()}),$(".js-product-select select").change(function(){location.href=$(this).find("option:selected").data("link")})}),$(function(){var t=$(".features-list__item");t.length>0&&$(document).on("mouseenter",".features-list__item",function(t){$thisItem=$(this),$hint=$thisItem.find(".features-list__hint"),$hint.addClass("is-hovered");var e=$(window).scrollTop(),o=$("#header-desktop").outerHeight(!0),n=$hint.height(),i=$thisItem.offset().top,r=$thisItem.height();i-(e+o)>n+30?($hint.addClass("is-up"),$hint.css({top:-(n+30)+"px"})):($hint.addClass("is-down"),$hint.css({top:r+10+"px"})),$thisItem.on("mouseleave",function(t){$hint.removeClass("is-hovered is-up is-down")})})});var OfficeMap=function(){var t=this,e=0,o=0,n=0,i=0,r=0,s=0,a=0,l=0,c=$(".offices__popup"),u=$(".offices__overlay"),d=$(window).width();t.openPopup=function(h){var p="offices-map__town_active",f=h.target.parentElement.className,m=$(this).position().top,g=$(this).children(".offices-row"),v=25,b=35;$(".offices-map__external").kinetic("stop"),d>global.desktopSize||d<=global.tabletSize?(u.show(),c.html('<div class="offices-row">'+g.html()+"</div>"),c.show(),g=c.children(".offices-row"),$(".offices-map__town").on("click touchstart",t.openPopup),$(".offices-row__mapclose, .offices__overlay").on("click touchstart",t.closePopup),$(this).hasClass("is-inside")||(n=h.pageX,i=h.pageY,a=h.target.offsetHeight/2,l=h.target.offsetWidth/2,r=l-h.offsetX,s=a-h.offsetY),d>global.tabletSize&&(n<g.width()/2+b?($(this).hasClass("is-inside")||(o=n+b+r+l),c.css({transform:"translateX(0)",left:o}),c.find(".offices-row_active").append('<div class="offices-row__bottom offices-row__bottom_left"><div class="offices-row__bottom_white"></div></div>')):n+g.width()/2+b>d?($(this).hasClass("is-inside")||(o=n-b-g.width()+l+r-h.target.offsetWidth),c.css({transform:"translateX(0)",left:o}),c.find(".offices-row_active").append('<div class="offices-row__bottom offices-row__bottom_left offices-row__bottom_right"><div class="offices-row__bottom_white"></div></div>')):($(this).hasClass("is-inside")||(o=n+r),c.css({transform:"translateX(-50%)",left:o})),h.clientY-$(".header-desktop").outerHeight()<g.outerHeight()?(e=i+s+a,c.css({top:e}),c.has(".offices-row__bottom").length?(c.find(".offices-row__bottom").addClass("offices-row__bottom_top"),c.has(".offices-row__bottom_right").length&&c.find(".offices-row__bottom").addClass("offices-row__bottom_topright")):c.find(".offices-row_active").prepend('<div class="offices-row__bottom offices-row__bottom_before"></div>')):(c.has(".offices-row__bottom").length||c.find(".offices-row_active").append('<div class="offices-row__bottom"></div>'),$(this).hasClass("is-inside")||(e=i+s-a),c.css({top:e-g.outerHeight()})))):$(this).hasClass(p)?"offices-map__inner"==f&&($(this).removeClass(p),g.hide()):"offices-row__container offices-row_active"==f?($(this).addClass(p),g.show(),g.css({bottom:0}),$(this).parents(".offices-row_active").addClass("no-shadow")):($(".offices-map__external .offices-row").hide(),$(".offices-map__town").removeClass(p),$(".offices-row_active").removeClass("no-shadow"),m-v<g.height()?(g.prepend('<div class="offices-row__bottom offices-row__bottom_before"></div>'),g.css({top:g.height()+$(this).height()+v})):g.append('<div class="offices-row__bottom"></div>'),"offices-map__inner"==f&&($(this).addClass(p),g.show()))},t.moreDescription=function(){var t=$(this).closest(".offices-row__container"),e=t.parent(),o=".offices-row__hidden",n="offices-row_active",i="offices-row__link_active",r=t.children(o);$(this).hasClass(i)?(e.height("auto"),t.removeClass(n),$(this).removeClass(i),$(this).html("больше информации <span class='icon icon-arrow-right_small'></span>"),r.hide()):$(this).hasClass("offices-row__close")?(e.height("auto"),t.removeClass(n),$("a.offices-row__link").removeClass(i),$("a.offices-row__link").html("больше информации <span class='icon icon-arrow-right_small'></span>"),r.hide()):($(".offices-list div").removeClass(n),$(".offices-list a").removeClass(i),$(o).hide(),$("a.offices-row__link").html("больше информации <span class='icon icon-arrow-right_small'></span>"),e.height(e.outerHeight()),t.addClass(n),$(this).addClass(i),$(this).html("свернуть <span class='icon icon-arrow-right_small'></span>"),r.show())},t.closePopup=function(){c.hide(),$(".offices-map__town").removeClass("offices-map__town_active"),$(".offices-map__town .offices-row").hide(),u.hide()},t.mapOffset=function(){$(window).width()<global.tabletSize?($(".offices-map__external").kinetic("scrollLeft",393),$(".offices-map__external").kinetic("scrollTop",360)):($(".offices-map__external").kinetic("scrollLeft",130),$(".offices-map__external").kinetic("scrollTop",500))}};$(window).on("load",function(){if($(".offices-map").length>0){var t=new OfficeMap;$(document).on("click touchstart",".offices-row__link",t.moreDescription),$(".offices-map__town").on("click touchstart",t.openPopup),$(".offices-row__mapclose, .offices__overlay").on("click touchstart",t.closePopup),t.mapOffset()}}),$(function(){$(document).on("click",".offices-switch__map",function(){$(".offices__container").hide(),$(".offices-map").show(),$(".offices-switch li").removeClass("active"),$(this).parent().toggleClass("active")}),$(document).on("click",".offices-switch__list",function(){$(".offices-map").hide(),$(".offices__container").show(),$(".offices-switch li").removeClass("active"),$(this).parent().toggleClass("active")})}),function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var o=t.indexOf("Trident/");if(o>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}function r(){var t=document.querySelector(".promo-details__img"),e=t.getBoundingClientRect();f.width=e.width,f.height=e.height,f.dpi=1,f.gl.createUniform("2f","resolution",f.width*f.dpi,f.height*f.dpi)}var s=(o(1),o(3)),a=n(s),l=o(12),c=n(l),u=document.querySelector(".js-promo-details__canvas");if(!u||i())return!1;var d={x:.1,y:.5},h=[{file:$(".js-promo-details__effect").attr("src"),name:"image",align:d,scale:{x:1,y:1}},{file:$(".js-promo-details__effect").data("mask"),name:"mask",align:d,scale:{x:1,y:1}},{file:$(".js-promo-details__effect").data("noise"),name:"noise",repeat:!0,fill:!1}],p=function(){var t=h.length;return function(){return t++}}(),f=new a["default"]({canvas:u,shader:c["default"],textures:h});p();f.gl.createUniform("2f","parallax",0,0);var m=0;f.addEventListener("predraw",function(t){m+=t.deltaTime,f.gl.createUniform("2f","parallax",Math.sin(.03*m)+Math.sin(.026*m),Math.sin(.04*m)+Math.sin(.012*m))}),f.gl.createUniform("1f","distort",0),f.gl.createUniform("1i","noiseSize",256),f.gl.createUniform("2f","noiseR",255*Math.random(),255*Math.random()),f.gl.createUniform("2f","noiseG",255*Math.random(),255*Math.random()),f.gl.createUniform("2f","noiseB",255*Math.random(),255*Math.random());f.gl.createUniform("1f","scroll",0),window.addEventListener("resize",r),r()},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function r(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=document.createElement("canvas");return 1!=o&&(n.style.width=t+"px",n.style.height=e+"px"),n.width=t*o,n.height=e*o,n}Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvas=r;var s=o(2),a=n(s);e["default"]=function(t,e){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={_width:t,_height:e,dpi:1,canvas:null,ctx:null,appendTo:function(t){return"string"==typeof t&&(t=document.querySelector(t)),t.appendChild(this.canvas),this},set fillStyle(t){this.ctx.fillStyle=t},get fillStyle(){return this.ctx.fillStyle},setFillStyle:function(t){return this.fillStyle=t,this},setFill:function(t){return this.setFillStyle(t)},set strokeStyle(t){this.ctx.strokeStyle=t},get strokeStyle(){return this.ctx.strokeStyle},setStrokeStyle:function(t){return this.strokeStyle=t,this},setStroke:function(t){return this.setStrokeStyle(t)},set lineCap(t){this.ctx.lineCap=t},get lineCap(){return this.ctx.lineCap},setLineCap:function(t){return this.lineCap=t,this},set lineWidth(t){this.ctx.lineWidth=t},get lineWidth(){return this.ctx.lineWidth},setLineWidth:function(t){return this.lineWidth=t,this},set globalAlpha(t){this.ctx.globalAlpha=t},get globalAlpha(){return this.ctx.globalAlpha},setGlobalAlpha:function(t){return this.globalAlpha=t,this},alpha:function(t){return this.setGlobalAlpha(t)},get width(){return this._width},set width(t){this.canvas.setAttribute("width",t*this.dpi),this.canvas.style.width=t+"px",this._width=t},get height(){return this._height},set height(t){this.canvas.setAttribute("height",t*this.dpi),this.canvas.style.height=t+"px",this._height=t},clear:function(){this.clearRect(0,0,this.width,this.height)},clearRect:function(t,e,o,n){var r;return(r=this.ctx).clearRect.apply(r,i(a(t,e,o,n))),this},fillRect:function(t,e,o,n){var r;return(r=this.ctx).fillRect.apply(r,i(a(t,e,o,n))),this},beginPath:function(){return this.ctx.beginPath(),this},moveTo:function(t,e){var o;return(o=this.ctx).moveTo.apply(o,i(a(t,e))),this},lineTo:function(t,e){var o;return(o=this.ctx).lineTo.apply(o,i(a(t,e))),this},quadraticCurveTo:function(t,e,o,n){var r;return(r=this.ctx).quadraticCurveTo.apply(r,i(a(t,e,o,n))),this},bezierCurveTo:function(t,e,o,n,r,s){var l;return(l=this.ctx).bezierCurveTo.apply(l,i(a(t,e,o,n,r,s))),this},arc:function(t,e,o,n,r){var s,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(s=this.ctx).arc.apply(s,i(a(t,e,o,n,r,l))),this},circle:function(t,e,o){return this.arc(t,e,o,0,2*Math.PI),this},fill:function(){return this.ctx.fill(),this},stroke:function(){return this.ctx.stroke(),this}},s=o?window.devicePixelRatio:1,a=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return l(s,e)};return n.dpi=s,n.canvas=r(t,e,n.dpi),n.ctx=n.canvas.getContext("2d"),n};var l=(0,a["default"])(function(t,e){return Array.isArray(e)?e.map(function(e){return e*t}):e*t})},function(module,exports){var slice=Array.prototype.slice,toArray=function(t){return slice.call(t)},tail=function(t){return slice.call(t,1)},createFn=function(t,e,o){var n=o-e.length;switch(n){case 0:return function(){return processInvocation(t,concatArgs(e,arguments),o)};case 1:return function(n){return processInvocation(t,concatArgs(e,arguments),o)};case 2:return function(n,i){return processInvocation(t,concatArgs(e,arguments),o)};case 3:return function(n,i,r){return processInvocation(t,concatArgs(e,arguments),o)};case 4:return function(n,i,r,s){return processInvocation(t,concatArgs(e,arguments),o)};case 5:return function(n,i,r,s,a){return processInvocation(t,concatArgs(e,arguments),o)};case 6:return function(n,i,r,s,a,l){return processInvocation(t,concatArgs(e,arguments),o)};case 7:return function(n,i,r,s,a,l,c){return processInvocation(t,concatArgs(e,arguments),o)};case 8:return function(n,i,r,s,a,l,c,u){return processInvocation(t,concatArgs(e,arguments),o)};case 9:return function(n,i,r,s,a,l,c,u,d){return processInvocation(t,concatArgs(e,arguments),o)};case 10:return function(n,i,r,s,a,l,c,u,d,h){return processInvocation(t,concatArgs(e,arguments),o)};default:return createEvalFn(t,e,n)}},concatArgs=function(t,e){return t.concat(toArray(e))},createEvalFn=function(fn,args,arity){var argList=makeArgList(arity),fnStr="false||function("+argList+"){ return processInvocation(fn, concatArgs(args, arguments)); }";return eval(fnStr)},makeArgList=function(t){for(var e=[],o=0;o<t;o+=1)e.push("a"+o.toString());return e.join(",")},trimArrLength=function(t,e){return t.length>e?t.slice(0,e):t},processInvocation=function(t,e,o){return e=trimArrLength(e,o),e.length===o?t.apply(null,e):createFn(t,e,o)},curry=function(t){return createFn(t,[],t.length)};curry.to=curry(function(t,e){return createFn(e,[],t)}),curry.adaptTo=curry(function(t,e){return curry.to(t,function(t){var o=tail(arguments).concat(t);return e.apply(this,o)})}),curry.adapt=function(t){return curry.adaptTo(t.length,t)},module.exports=curry},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(){var t=0,e=1e3/60,o=0;h.createUniform("1f","time",o),function n(i){var r=i-t,s=r/e;s>1.5&&(s=1.5),s*=p.timeScale,o+=s,o>p.loops&&(o=0),t=i,h.createUniform("1f","time",o),p.dispatchEvent("predraw",{deltaTime:s}),h.draw(),requestAnimationFrame(n)}(0)}var o=this,n=t.canvas,i=t.shader,s=t.textures,a=void 0===s?[]:s,c=t.loops,d=void 0===c?1e3:c;this.loops=d,this.canvas=n,this._width=n.width,this._height=n.height;var h=new l["default"](n,null,u["default"],i);this.gl=h;var p=this;this._textures=a.map(function(t,e){return r(o,e,t)}),Promise.all(this._textures).then(e)}function r(t,e,o){var n={file:null,name:null,repeat:!1,fill:!0,align:{x:.5,y:.5},scale:{x:1,y:1}};return o=(0,d.assign)(n,o),new Promise(function(n,i){var r=new Image;r.addEventListener("load",function(i){t.gl.createUniform("1i",o.name,e),n(s(t,e,r,o))}),r.src=o.file})}function s(t,e,o,n){var i=document.createElement("canvas"),r=i.getContext("2d"),s=(0,d.assign)({canvas:i,haze:t,index:e,image:o,options:n,updateTexture:function(){t.gl.createTexture(i,e,n.repeat?t.gl.gl.REPEAT:null)},render:function(){i.width=(n.fill?t.width:o.width)*t.dpi*n.scale.x,i.height=(n.fill?t.height:o.height)*t.dpi*n.scale.y;var e={x:0,y:0,width:i.width,height:i.height};n.fill&&(e=(0,p["default"])(o.width,o.height,i.width,i.height,n.align.x,n.align.y)),r.drawImage(o,e.x,e.y,e.width,e.height),this.updateTexture()},updateSize:function(){this.render(),this.dispatchEvent("resize")}},(0,m["default"])());return s.updateSize(),t.addEventListener("resize",s.updateSize.bind(s)),s}Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),l=n(a),c=o(6),u=n(c),d=(o(1),o(7)),h=o(9),p=n(h),f=o(10),m=n(f);i.prototype=(0,d.assign)({canvas:null,_width:0,_height:0,_dpi:1,_willUpdateSize:!1,_throttledUpdateSize:null,timeScale:1,_textures:null,loops:1e3,get width(){return this._width},set width(t){this._width!=t&&(this._width=t,this.updateSize())},get height(){return this._height},set height(t){this._height!=t&&(this._height=t,this.updateSize())},get dpi(){return this._dpi},set dpi(t){this._dpi!=t&&(this._dpi=t,this.updateSize())},updateSize:function(){var t=this;null==this._throttledUpdateSize&&(this._throttledUpdateSize=(0,d.throttle)(function(){t._willUpdateSize||(t._willUpdateSize=!0,requestAnimationFrame(function(){t._willUpdateSize=!1,t.canvas.width=t.width*t.dpi,t.canvas.style.width=t.width+"px",t.canvas.height=t.height*t.dpi,t.canvas.style.height=t.height+"px",t.dispatchEvent("resize"),t.gl.gl.viewport(0,0,t.canvas.width,t.canvas.height)}))},300)),this._throttledUpdateSize()},getTextureByName:function(t){var e=this;return new Promise(function(o,n){e._textures.forEach(function(e){return e.then(function(e){e.options.name==t&&o(e)})})})}},(0,m["default"])()),e["default"]=i},function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}function i(t,e,o,n){this.init(t,e,o,n)}Object.defineProperty(e,"__esModule",{value:!0});var r=o(5),s=n(r);i.prototype={canvas:null,gl:null,program:null,width:0,height:0,init:function(t,e,o,n){this.canvas=t,this.width=t.width,this.height=t.height,this.gl=s.getContext(t,e),this.program=this.createProgram(o,n),this.useProgram(this.program)},createProgram:function(t,e){var o=s.createProgram(this.gl,t,e);return o},useProgram:function(t){this.program=t,this.gl.useProgram(t)},createTexture:function(t,e,o){return s.createTexture(this.gl,t,e,o)},createUniform:function(t,e){for(var o=arguments.length,n=Array(o>2?o-2:0),i=2;i<o;i++)n[i-2]=arguments[i];s.createUniform.apply(s,[this.gl,this.program,t,e].concat(n))},activeTexture:function(t){s.activeTexture(this.gl,t)},updateTexture:function(t){s.updateTexture(this.gl,t)},draw:function(){s.setRectangle(this.gl,-1,-1,2,2),this.gl.drawArrays(this.gl.TRIANGLES,0,6);
}},e["default"]=i},function(t,e){"use strict";function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=["webgl","experimental-webgl"],n=null;return o.some(function(o){try{n=t.getContext(o,e)}catch(i){}return null!=n}),null==n&&document.body.classList.add("no-webgl"),n}function n(t,e,o){var n=i(t,e,t.VERTEX_SHADER),r=i(t,o,t.FRAGMENT_SHADER),s=t.createProgram();t.attachShader(s,n),t.attachShader(s,r),t.linkProgram(s);var a=t.getProgramParameter(s,t.LINK_STATUS);if(!a){var l=t.getProgramInfoLog(s);return u("Error in program linking: "+l),t.deleteProgram(s),null}var c=t.getAttribLocation(s,"a_position"),d=t.getAttribLocation(s,"a_texCoord"),h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(d),t.vertexAttribPointer(d,2,t.FLOAT,!1,0,0);var p=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,p),t.enableVertexAttribArray(c),t.vertexAttribPointer(c,2,t.FLOAT,!1,0,0),s}function i(t,e,o){var n=t.createShader(o);t.shaderSource(n,e),t.compileShader(n);var i=t.getShaderParameter(n,t.COMPILE_STATUS);if(!i){var r=t.getShaderInfoLog(n);return u("Error compiling shader '"+n+"':"+r),t.deleteShader(n),null}return n}function r(t,e,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null==n&&(n=t.CLAMP_TO_EDGE);var i=t.createTexture();return a(t,o),t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),l(t,e),i}function s(t,e,o,n){for(var i=t.getUniformLocation(e,"u_"+n),r=arguments.length,s=Array(r>4?r-4:0),a=4;a<r;a++)s[a-4]=arguments[a];t["uniform"+o].apply(t,[i].concat(s))}function a(t,e){t.activeTexture(t["TEXTURE"+e])}function l(t,e){t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}function c(t,e,o,n,i){var r=e,s=e+n,a=o,l=o+i;t.bufferData(t.ARRAY_BUFFER,new Float32Array([r,a,s,a,r,l,r,l,s,a,s,l]),t.STATIC_DRAW)}function u(t){console.error(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getContext=o,e.createProgram=n,e.createShader=i,e.createTexture=r,e.createUniform=s,e.activeTexture=a,e.updateTexture=l,e.setRectangle=c},function(t,e){t.exports="precision mediump float;\n\nattribute vec2 a_position;\nvarying vec2 v_position;\n\nvoid main() {\n  v_position=(a_position+1.0)*0.5;\n  v_position.y=1.0-v_position.y;\n  gl_Position = vec4(a_position,0.0,1.0);\n}\n"},function(t,e,o){var n;(function(t,i){(function(){function r(t,e){return t.set(e[0],e[1]),t}function s(t,e){return t.add(e),t}function a(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)}function l(t,e,o,n){for(var i=-1,r=null==t?0:t.length;++i<r;){var s=t[i];e(n,s,o(s),t)}return n}function c(t,e){for(var o=-1,n=null==t?0:t.length;++o<n&&e(t[o],o,t)!==!1;);return t}function u(t,e){for(var o=null==t?0:t.length;o--&&e(t[o],o,t)!==!1;);return t}function d(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(!e(t[o],o,t))return!1;return!0}function h(t,e){for(var o=-1,n=null==t?0:t.length,i=0,r=[];++o<n;){var s=t[o];e(s,o,t)&&(r[i++]=s)}return r}function p(t,e){var o=null==t?0:t.length;return!!o&&k(t,e,0)>-1}function f(t,e,o){for(var n=-1,i=null==t?0:t.length;++n<i;)if(o(e,t[n]))return!0;return!1}function m(t,e){for(var o=-1,n=null==t?0:t.length,i=Array(n);++o<n;)i[o]=e(t[o],o,t);return i}function g(t,e){for(var o=-1,n=e.length,i=t.length;++o<n;)t[i+o]=e[o];return t}function v(t,e,o,n){var i=-1,r=null==t?0:t.length;for(n&&r&&(o=t[++i]);++i<r;)o=e(o,t[i],i,t);return o}function b(t,e,o,n){var i=null==t?0:t.length;for(n&&i&&(o=t[--i]);i--;)o=e(o,t[i],i,t);return o}function w(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(e(t[o],o,t))return!0;return!1}function _(t){return t.split("")}function $(t){return t.match(Ue)||[]}function y(t,e,o){var n;return o(t,function(t,o,i){if(e(t,o,i))return n=o,!1}),n}function x(t,e,o,n){for(var i=t.length,r=o+(n?1:-1);n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function k(t,e,o){return e===e?Q(t,e,o):x(t,j,o)}function C(t,e,o,n){for(var i=o-1,r=t.length;++i<r;)if(n(t[i],e))return i;return-1}function j(t){return t!==t}function S(t,e){var o=null==t?0:t.length;return o?I(t,e)/o:Rt}function T(t){return function(e){return null==e?it:e[t]}}function E(t){return function(e){return null==t?it:t[e]}}function A(t,e,o,n,i){return i(t,function(t,i,r){o=n?(n=!1,t):e(o,t,i,r)}),o}function z(t,e){var o=t.length;for(t.sort(e);o--;)t[o]=t[o].value;return t}function I(t,e){for(var o,n=-1,i=t.length;++n<i;){var r=e(t[n]);r!==it&&(o=o===it?r:o+r)}return o}function O(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n}function P(t,e){return m(e,function(e){return[e,t[e]]})}function D(t){return function(e){return t(e)}}function M(t,e){return m(e,function(e){return t[e]})}function R(t,e){return t.has(e)}function L(t,e){for(var o=-1,n=t.length;++o<n&&k(e,t[o],0)>-1;);return o}function B(t,e){for(var o=t.length;o--&&k(e,t[o],0)>-1;);return o}function F(t,e){for(var o=t.length,n=0;o--;)t[o]===e&&++n;return n}function H(t){return"\\"+on[t]}function W(t,e){return null==t?it:t[e]}function U(t){return Vo.test(t)}function N(t){return Go.test(t)}function Y(t){for(var e,o=[];!(e=t.next()).done;)o.push(e.value);return o}function q(t){var e=-1,o=Array(t.size);return t.forEach(function(t,n){o[++e]=[n,t]}),o}function V(t,e){return function(o){return t(e(o))}}function G(t,e){for(var o=-1,n=t.length,i=0,r=[];++o<n;){var s=t[o];s!==e&&s!==dt||(t[o]=dt,r[i++]=o)}return r}function X(t){var e=-1,o=Array(t.size);return t.forEach(function(t){o[++e]=t}),o}function K(t){var e=-1,o=Array(t.size);return t.forEach(function(t){o[++e]=[t,t]}),o}function Q(t,e,o){for(var n=o-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Z(t,e,o){for(var n=o+1;n--;)if(t[n]===e)return n;return n}function J(t){return U(t)?et(t):_n(t)}function tt(t){return U(t)?ot(t):_(t)}function et(t){for(var e=Yo.lastIndex=0;Yo.test(t);)++e;return e}function ot(t){return t.match(Yo)||[]}function nt(t){return t.match(qo)||[]}var it,rt="4.17.4",st=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",lt="Expected a function",ct="__lodash_hash_undefined__",ut=500,dt="__lodash_placeholder__",ht=1,pt=2,ft=4,mt=1,gt=2,vt=1,bt=2,wt=4,_t=8,$t=16,yt=32,xt=64,kt=128,Ct=256,jt=512,St=30,Tt="...",Et=800,At=16,zt=1,It=2,Ot=3,Pt=1/0,Dt=9007199254740991,Mt=1.7976931348623157e308,Rt=NaN,Lt=4294967295,Bt=Lt-1,Ft=Lt>>>1,Ht=[["ary",kt],["bind",vt],["bindKey",bt],["curry",_t],["curryRight",$t],["flip",jt],["partial",yt],["partialRight",xt],["rearg",Ct]],Wt="[object Arguments]",Ut="[object Array]",Nt="[object AsyncFunction]",Yt="[object Boolean]",qt="[object Date]",Vt="[object DOMException]",Gt="[object Error]",Xt="[object Function]",Kt="[object GeneratorFunction]",Qt="[object Map]",Zt="[object Number]",Jt="[object Null]",te="[object Object]",ee="[object Promise]",oe="[object Proxy]",ne="[object RegExp]",ie="[object Set]",re="[object String]",se="[object Symbol]",ae="[object Undefined]",le="[object WeakMap]",ce="[object WeakSet]",ue="[object ArrayBuffer]",de="[object DataView]",he="[object Float32Array]",pe="[object Float64Array]",fe="[object Int8Array]",me="[object Int16Array]",ge="[object Int32Array]",ve="[object Uint8Array]",be="[object Uint8ClampedArray]",we="[object Uint16Array]",_e="[object Uint32Array]",$e=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,je=RegExp(ke.source),Se=RegExp(Ce.source),Te=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,ze=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Oe=/^\./,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Me=RegExp(De.source),Re=/^\s+|\s+$/g,Le=/^\s+/,Be=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ne=/\\(\\)?/g,Ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,to=/['\n\r\u2028\u2029\\]/g,eo="\\ud800-\\udfff",oo="\\u0300-\\u036f",no="\\ufe20-\\ufe2f",io="\\u20d0-\\u20ff",ro=oo+no+io,so="\\u2700-\\u27bf",ao="a-z\\xdf-\\xf6\\xf8-\\xff",lo="\\xac\\xb1\\xd7\\xf7",co="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uo="\\u2000-\\u206f",ho=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",po="A-Z\\xc0-\\xd6\\xd8-\\xde",fo="\\ufe0e\\ufe0f",mo=lo+co+uo+ho,go="['’]",vo="["+eo+"]",bo="["+mo+"]",wo="["+ro+"]",_o="\\d+",$o="["+so+"]",yo="["+ao+"]",xo="[^"+eo+mo+_o+so+ao+po+"]",ko="\\ud83c[\\udffb-\\udfff]",Co="(?:"+wo+"|"+ko+")",jo="[^"+eo+"]",So="(?:\\ud83c[\\udde6-\\uddff]){2}",To="[\\ud800-\\udbff][\\udc00-\\udfff]",Eo="["+po+"]",Ao="\\u200d",zo="(?:"+yo+"|"+xo+")",Io="(?:"+Eo+"|"+xo+")",Oo="(?:"+go+"(?:d|ll|m|re|s|t|ve))?",Po="(?:"+go+"(?:D|LL|M|RE|S|T|VE))?",Do=Co+"?",Mo="["+fo+"]?",Ro="(?:"+Ao+"(?:"+[jo,So,To].join("|")+")"+Mo+Do+")*",Lo="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Bo="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Fo=Mo+Do+Ro,Ho="(?:"+[$o,So,To].join("|")+")"+Fo,Wo="(?:"+[jo+wo+"?",wo,So,To,vo].join("|")+")",Uo=RegExp(go,"g"),No=RegExp(wo,"g"),Yo=RegExp(ko+"(?="+ko+")|"+Wo+Fo,"g"),qo=RegExp([Eo+"?"+yo+"+"+Oo+"(?="+[bo,Eo,"$"].join("|")+")",Io+"+"+Po+"(?="+[bo,Eo+zo,"$"].join("|")+")",Eo+"?"+zo+"+"+Oo,Eo+"+"+Po,Bo,Lo,_o,Ho].join("|"),"g"),Vo=RegExp("["+Ao+eo+ro+fo+"]"),Go=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ko=-1,Qo={};Qo[he]=Qo[pe]=Qo[fe]=Qo[me]=Qo[ge]=Qo[ve]=Qo[be]=Qo[we]=Qo[_e]=!0,Qo[Wt]=Qo[Ut]=Qo[ue]=Qo[Yt]=Qo[de]=Qo[qt]=Qo[Gt]=Qo[Xt]=Qo[Qt]=Qo[Zt]=Qo[te]=Qo[ne]=Qo[ie]=Qo[re]=Qo[le]=!1;var Zo={};Zo[Wt]=Zo[Ut]=Zo[ue]=Zo[de]=Zo[Yt]=Zo[qt]=Zo[he]=Zo[pe]=Zo[fe]=Zo[me]=Zo[ge]=Zo[Qt]=Zo[Zt]=Zo[te]=Zo[ne]=Zo[ie]=Zo[re]=Zo[se]=Zo[ve]=Zo[be]=Zo[we]=Zo[_e]=!0,Zo[Gt]=Zo[Xt]=Zo[le]=!1;var Jo={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},on={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,sn="object"==typeof t&&t&&t.Object===Object&&t,an="object"==typeof self&&self&&self.Object===Object&&self,ln=sn||an||Function("return this")(),cn="object"==typeof e&&e&&!e.nodeType&&e,un=cn&&"object"==typeof i&&i&&!i.nodeType&&i,dn=un&&un.exports===cn,hn=dn&&sn.process,pn=function(){try{return hn&&hn.binding&&hn.binding("util")}catch(t){}}(),fn=pn&&pn.isArrayBuffer,mn=pn&&pn.isDate,gn=pn&&pn.isMap,vn=pn&&pn.isRegExp,bn=pn&&pn.isSet,wn=pn&&pn.isTypedArray,_n=T("length"),$n=E(Jo),yn=E(tn),xn=E(en),kn=function jn(t){function e(t){if(cl(t)&&!_h(t)&&!(t instanceof i)){if(t instanceof n)return t;if(_u.call(t,"__wrapped__"))return ss(t)}return new n(t)}function o(){}function n(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function _(){var t=new i(this.__wrapped__);return t.__actions__=Hi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Hi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Hi(this.__views__),t}function E(){if(this.__filtered__){var t=new i(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Q(){var t=this.__wrapped__.value(),e=this.__dir__,o=_h(t),n=e<0,i=o?t.length:0,r=Ar(0,i,this.__views__),s=r.start,a=r.end,l=a-s,c=n?a:s-1,u=this.__iteratees__,d=u.length,h=0,p=Ku(l,this.__takeCount__);if(!o||!n&&i==l&&p==l)return yi(t,this.__actions__);var f=[];t:for(;l--&&h<p;){c+=e;for(var m=-1,g=t[c];++m<d;){var v=u[m],b=v.iteratee,w=v.type,_=b(g);if(w==It)g=_;else if(!_){if(w==zt)continue t;break t}}f[h++]=g}return f}function et(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function ot(){this.__data__=sd?sd(null):{},this.size=0}function Ue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function eo(t){var e=this.__data__;if(sd){var o=e[t];return o===ct?it:o}return _u.call(e,t)?e[t]:it}function oo(t){var e=this.__data__;return sd?e[t]!==it:_u.call(e,t)}function no(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=sd&&e===it?ct:e,this}function io(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function ro(){this.__data__=[],this.size=0}function so(t){var e=this.__data__,o=Io(e,t);if(o<0)return!1;var n=e.length-1;return o==n?e.pop():Pu.call(e,o,1),--this.size,!0}function ao(t){var e=this.__data__,o=Io(e,t);return o<0?it:e[o][1]}function lo(t){return Io(this.__data__,t)>-1}function co(t,e){var o=this.__data__,n=Io(o,t);return n<0?(++this.size,o.push([t,e])):o[n][1]=e,this}function uo(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function ho(){this.size=0,this.__data__={hash:new et,map:new(od||io),string:new et}}function po(t){var e=jr(this,t)["delete"](t);return this.size-=e?1:0,e}function fo(t){return jr(this,t).get(t)}function mo(t){return jr(this,t).has(t)}function go(t,e){var o=jr(this,t),n=o.size;return o.set(t,e),this.size+=o.size==n?0:1,this}function vo(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new uo;++e<o;)this.add(t[e])}function bo(t){return this.__data__.set(t,ct),this}function wo(t){return this.__data__.has(t)}function _o(t){var e=this.__data__=new io(t);this.size=e.size}function $o(){this.__data__=new io,this.size=0}function yo(t){var e=this.__data__,o=e["delete"](t);return this.size=e.size,o}function xo(t){return this.__data__.get(t)}function ko(t){return this.__data__.has(t)}function Co(t,e){var o=this.__data__;if(o instanceof io){var n=o.__data__;if(!od||n.length<st-1)return n.push([t,e]),this.size=++o.size,this;o=this.__data__=new uo(n)}return o.set(t,e),this.size=o.size,this}function jo(t,e){var o=_h(t),n=!o&&wh(t),i=!o&&!n&&yh(t),r=!o&&!n&&!i&&Sh(t),s=o||n||i||r,a=s?O(t.length,pu):[],l=a.length;for(var c in t)!e&&!_u.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Lr(c,l))||a.push(c);return a}function So(t){var e=t.length;return e?t[ni(0,e-1)]:it}function To(t,e){return os(Hi(t),Lo(e,0,t.length))}function Eo(t){return os(Hi(t))}function Ao(t,e,o){(o===it||Xa(t[e],o))&&(o!==it||e in t)||Mo(t,e,o)}function zo(t,e,o){var n=t[e];_u.call(t,e)&&Xa(n,o)&&(o!==it||e in t)||Mo(t,e,o)}function Io(t,e){for(var o=t.length;o--;)if(Xa(t[o][0],e))return o;return-1}function Oo(t,e,o,n){return bd(t,function(t,i,r){e(n,t,o(t),r)}),n}function Po(t,e){return t&&Wi(e,Nl(e),t)}function Do(t,e){return t&&Wi(e,Yl(e),t)}function Mo(t,e,o){"__proto__"==e&&Lu?Lu(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function Ro(t,e){for(var o=-1,n=e.length,i=su(n),r=null==t;++o<n;)i[o]=r?it:Hl(t,e[o]);return i}function Lo(t,e,o){return t===t&&(o!==it&&(t=t<=o?t:o),e!==it&&(t=t>=e?t:e)),t}function Bo(t,e,o,n,i,r){var s,a=e&ht,l=e&pt,u=e&ft;if(o&&(s=i?o(t,n,i,r):o(t)),s!==it)return s;if(!ll(t))return t;var d=_h(t);if(d){if(s=Or(t),!a)return Hi(t,s)}else{var h=Ad(t),p=h==Xt||h==Kt;if(yh(t))return Ei(t,a);if(h==te||h==Wt||p&&!i){if(s=l||p?{}:Pr(t),!a)return l?Ni(t,Do(s,t)):Ui(t,Po(s,t))}else{if(!Zo[h])return i?t:{};s=Dr(t,h,Bo,a)}}r||(r=new _o);var f=r.get(t);if(f)return f;r.set(t,s);var m=u?l?yr:$r:l?Yl:Nl,g=d?it:m(t);return c(g||t,function(n,i){g&&(i=n,n=t[i]),zo(s,i,Bo(n,e,o,i,t,r))}),s}function Fo(t){var e=Nl(t);return function(o){return Ho(o,t,e)}}function Ho(t,e,o){var n=o.length;if(null==t)return!n;for(t=du(t);n--;){var i=o[n],r=e[i],s=t[i];if(s===it&&!(i in t)||!r(s))return!1}return!0}function Wo(t,e,o){if("function"!=typeof t)throw new fu(lt);return Od(function(){t.apply(it,o)},e)}function Yo(t,e,o,n){var i=-1,r=p,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;o&&(e=m(e,D(o))),n?(r=f,s=!1):e.length>=st&&(r=R,s=!1,e=new vo(e));t:for(;++i<a;){var u=t[i],d=null==o?u:o(u);if(u=n||0!==u?u:0,s&&d===d){for(var h=c;h--;)if(e[h]===d)continue t;l.push(u)}else r(e,d,n)||l.push(u)}return l}function qo(t,e){var o=!0;return bd(t,function(t,n,i){return o=!!e(t,n,i)}),o}function Vo(t,e,o){for(var n=-1,i=t.length;++n<i;){var r=t[n],s=e(r);if(null!=s&&(a===it?s===s&&!_l(s):o(s,a)))var a=s,l=r}return l}function Go(t,e,o,n){var i=t.length;for(o=jl(o),o<0&&(o=-o>i?0:i+o),n=n===it||n>i?i:jl(n),n<0&&(n+=i),n=o>n?0:Sl(n);o<n;)t[o++]=e;return t}function Jo(t,e){var o=[];return bd(t,function(t,n,i){e(t,n,i)&&o.push(t)}),o}function tn(t,e,o,n,i){var r=-1,s=t.length;for(o||(o=Rr),i||(i=[]);++r<s;){var a=t[r];e>0&&o(a)?e>1?tn(a,e-1,o,n,i):g(i,a):n||(i[i.length]=a)}return i}function en(t,e){return t&&_d(t,e,Nl)}function on(t,e){return t&&$d(t,e,Nl)}function sn(t,e){return h(e,function(e){return rl(t[e])})}function an(t,e){e=Si(e,t);for(var o=0,n=e.length;null!=t&&o<n;)t=t[ns(e[o++])];return o&&o==n?t:it}function cn(t,e,o){var n=e(t);return _h(t)?n:g(n,o(t))}function un(t){return null==t?t===it?ae:Jt:Ru&&Ru in du(t)?Er(t):Kr(t)}function hn(t,e){return t>e}function pn(t,e){return null!=t&&_u.call(t,e)}function _n(t,e){return null!=t&&e in du(t)}function kn(t,e,o){return t>=Ku(e,o)&&t<Xu(e,o)}function Sn(t,e,o){for(var n=o?f:p,i=t[0].length,r=t.length,s=r,a=su(r),l=1/0,c=[];s--;){var u=t[s];s&&e&&(u=m(u,D(e))),l=Ku(u.length,l),a[s]=!o&&(e||i>=120&&u.length>=120)?new vo(s&&u):it}u=t[0];var d=-1,h=a[0];t:for(;++d<i&&c.length<l;){var g=u[d],v=e?e(g):g;if(g=o||0!==g?g:0,!(h?R(h,v):n(c,v,o))){for(s=r;--s;){var b=a[s];if(!(b?R(b,v):n(t[s],v,o)))continue t}h&&h.push(v),c.push(g)}}return c}function Tn(t,e,o,n){return en(t,function(t,i,r){e(n,o(t),i,r)}),n}function En(t,e,o){e=Si(e,t),t=Zr(t,e);var n=null==t?t:t[ns(Cs(e))];return null==n?it:a(n,t,o)}function An(t){return cl(t)&&un(t)==Wt}function zn(t){return cl(t)&&un(t)==ue}function In(t){return cl(t)&&un(t)==qt}function On(t,e,o,n,i){return t===e||(null==t||null==e||!cl(t)&&!cl(e)?t!==t&&e!==e:Pn(t,e,o,n,On,i))}function Pn(t,e,o,n,i,r){var s=_h(t),a=_h(e),l=s?Ut:Ad(t),c=a?Ut:Ad(e);l=l==Wt?te:l,c=c==Wt?te:c;var u=l==te,d=c==te,h=l==c;if(h&&yh(t)){if(!yh(e))return!1;s=!0,u=!1}if(h&&!u)return r||(r=new _o),s||Sh(t)?vr(t,e,o,n,i,r):br(t,e,l,o,n,i,r);if(!(o&mt)){var p=u&&_u.call(t,"__wrapped__"),f=d&&_u.call(e,"__wrapped__");if(p||f){var m=p?t.value():t,g=f?e.value():e;return r||(r=new _o),i(m,g,o,n,r)}}return!!h&&(r||(r=new _o),wr(t,e,o,n,i,r))}function Dn(t){return cl(t)&&Ad(t)==Qt}function Mn(t,e,o,n){var i=o.length,r=i,s=!n;if(null==t)return!r;for(t=du(t);i--;){var a=o[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<r;){a=o[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===it&&!(l in t))return!1}else{var d=new _o;if(n)var h=n(c,u,l,t,e,d);if(!(h===it?On(u,c,mt|gt,n,d):h))return!1}}return!0}function Rn(t){if(!ll(t)||Ur(t))return!1;var e=rl(t)?ju:Xe;return e.test(is(t))}function Ln(t){return cl(t)&&un(t)==ne}function Bn(t){return cl(t)&&Ad(t)==ie}function Fn(t){return cl(t)&&al(t.length)&&!!Qo[un(t)]}function Hn(t){return"function"==typeof t?t:null==t?Pc:"object"==typeof t?_h(t)?Vn(t[0],t[1]):qn(t):Wc(t)}function Wn(t){if(!Nr(t))return Gu(t);var e=[];for(var o in du(t))_u.call(t,o)&&"constructor"!=o&&e.push(o);return e}function Un(t){if(!ll(t))return Xr(t);var e=Nr(t),o=[];for(var n in t)("constructor"!=n||!e&&_u.call(t,n))&&o.push(n);return o}function Nn(t,e){return t<e}function Yn(t,e){var o=-1,n=Ka(t)?su(t.length):[];return bd(t,function(t,i,r){n[++o]=e(t,i,r)}),n}function qn(t){var e=Sr(t);return 1==e.length&&e[0][2]?qr(e[0][0],e[0][1]):function(o){return o===t||Mn(o,t,e)}}function Vn(t,e){return Fr(t)&&Yr(e)?qr(ns(t),e):function(o){var n=Hl(o,t);return n===it&&n===e?Ul(o,t):On(e,n,mt|gt)}}function Gn(t,e,o,n,i){t!==e&&_d(e,function(r,s){if(ll(r))i||(i=new _o),Xn(t,e,s,o,Gn,n,i);else{var a=n?n(t[s],r,s+"",t,e,i):it;a===it&&(a=r),Ao(t,s,a)}},Yl)}function Xn(t,e,o,n,i,r,s){var a=t[o],l=e[o],c=s.get(l);if(c)return void Ao(t,o,c);var u=r?r(a,l,o+"",t,e,s):it,d=u===it;if(d){var h=_h(l),p=!h&&yh(l),f=!h&&!p&&Sh(l);u=l,h||p||f?_h(a)?u=a:Qa(a)?u=Hi(a):p?(d=!1,u=Ei(l,!0)):f?(d=!1,u=Mi(l,!0)):u=[]:vl(l)||wh(l)?(u=a,wh(a)?u=El(a):(!ll(a)||n&&rl(a))&&(u=Pr(l))):d=!1}d&&(s.set(l,u),i(u,l,n,r,s),s["delete"](l)),Ao(t,o,u)}function Kn(t,e){var o=t.length;if(o)return e+=e<0?o:0,Lr(e,o)?t[e]:it}function Qn(t,e,o){var n=-1;e=m(e.length?e:[Pc],D(Cr()));var i=Yn(t,function(t,o,i){var r=m(e,function(e){return e(t)});return{criteria:r,index:++n,value:t}});return z(i,function(t,e){return Li(t,e,o)})}function Zn(t,e){return Jn(t,e,function(e,o){return Ul(t,o)})}function Jn(t,e,o){for(var n=-1,i=e.length,r={};++n<i;){var s=e[n],a=an(t,s);o(a,s)&&ci(r,Si(s,t),a)}return r}function ti(t){return function(e){return an(e,t)}}function ei(t,e,o,n){var i=n?C:k,r=-1,s=e.length,a=t;for(t===e&&(e=Hi(e)),o&&(a=m(t,D(o)));++r<s;)for(var l=0,c=e[r],u=o?o(c):c;(l=i(a,u,l,n))>-1;)a!==t&&Pu.call(a,l,1),Pu.call(t,l,1);return t}function oi(t,e){for(var o=t?e.length:0,n=o-1;o--;){var i=e[o];if(o==n||i!==r){var r=i;Lr(i)?Pu.call(t,i,1):wi(t,i)}}return t}function ni(t,e){return t+Uu(Ju()*(e-t+1))}function ii(t,e,o,n){for(var i=-1,r=Xu(Wu((e-t)/(o||1)),0),s=su(r);r--;)s[n?r:++i]=t,t+=o;return s}function ri(t,e){var o="";if(!t||e<1||e>Dt)return o;do e%2&&(o+=t),e=Uu(e/2),e&&(t+=t);while(e);return o}function si(t,e){return Pd(Qr(t,e,Pc),t+"")}function ai(t){return So(nc(t))}function li(t,e){var o=nc(t);return os(o,Lo(e,0,o.length))}function ci(t,e,o,n){if(!ll(t))return t;e=Si(e,t);for(var i=-1,r=e.length,s=r-1,a=t;null!=a&&++i<r;){var l=ns(e[i]),c=o;if(i!=s){var u=a[l];c=n?n(u,l,a):it,c===it&&(c=ll(u)?u:Lr(e[i+1])?[]:{})}zo(a,l,c),a=a[l]}return t}function ui(t){return os(nc(t))}function di(t,e,o){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),o=o>i?i:o,o<0&&(o+=i),i=e>o?0:o-e>>>0,e>>>=0;for(var r=su(i);++n<i;)r[n]=t[n+e];return r}function hi(t,e){var o;return bd(t,function(t,n,i){return o=e(t,n,i),!o}),!!o}function pi(t,e,o){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e===e&&i<=Ft){for(;n<i;){var r=n+i>>>1,s=t[r];null!==s&&!_l(s)&&(o?s<=e:s<e)?n=r+1:i=r}return i}return fi(t,e,Pc,o)}function fi(t,e,o,n){e=o(e);for(var i=0,r=null==t?0:t.length,s=e!==e,a=null===e,l=_l(e),c=e===it;i<r;){var u=Uu((i+r)/2),d=o(t[u]),h=d!==it,p=null===d,f=d===d,m=_l(d);if(s)var g=n||f;else g=c?f&&(n||h):a?f&&h&&(n||!p):l?f&&h&&!p&&(n||!m):!p&&!m&&(n?d<=e:d<e);g?i=u+1:r=u}return Ku(r,Bt)}function mi(t,e){for(var o=-1,n=t.length,i=0,r=[];++o<n;){var s=t[o],a=e?e(s):s;if(!o||!Xa(a,l)){var l=a;r[i++]=0===s?0:s}}return r}function gi(t){return"number"==typeof t?t:_l(t)?Rt:+t}function vi(t){if("string"==typeof t)return t;if(_h(t))return m(t,vi)+"";if(_l(t))return gd?gd.call(t):"";var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function bi(t,e,o){var n=-1,i=p,r=t.length,s=!0,a=[],l=a;if(o)s=!1,i=f;else if(r>=st){var c=e?null:jd(t);if(c)return X(c);s=!1,i=R,l=new vo}else l=e?[]:a;t:for(;++n<r;){var u=t[n],d=e?e(u):u;if(u=o||0!==u?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue t;e&&l.push(d),a.push(u)}else i(l,d,o)||(l!==a&&l.push(d),a.push(u))}return a}function wi(t,e){return e=Si(e,t),t=Zr(t,e),null==t||delete t[ns(Cs(e))]}function _i(t,e,o,n){return ci(t,e,o(an(t,e)),n)}function $i(t,e,o,n){for(var i=t.length,r=n?i:-1;(n?r--:++r<i)&&e(t[r],r,t););return o?di(t,n?0:r,n?r+1:i):di(t,n?r+1:0,n?i:r)}function yi(t,e){var o=t;return o instanceof i&&(o=o.value()),v(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},o)}function xi(t,e,o){var n=t.length;if(n<2)return n?bi(t[0]):[];for(var i=-1,r=su(n);++i<n;)for(var s=t[i],a=-1;++a<n;)a!=i&&(r[i]=Yo(r[i]||s,t[a],e,o));return bi(tn(r,1),e,o)}function ki(t,e,o){for(var n=-1,i=t.length,r=e.length,s={};++n<i;){var a=n<r?e[n]:it;o(s,t[n],a)}return s}function Ci(t){return Qa(t)?t:[]}function ji(t){return"function"==typeof t?t:Pc}function Si(t,e){return _h(t)?t:Fr(t,e)?[t]:Dd(zl(t))}function Ti(t,e,o){var n=t.length;return o=o===it?n:o,!e&&o>=n?t:di(t,e,o)}function Ei(t,e){if(e)return t.slice();var o=t.length,n=Au?Au(o):new t.constructor(o);return t.copy(n),n}function Ai(t){var e=new t.constructor(t.byteLength);return new Eu(e).set(new Eu(t)),e}function zi(t,e){var o=e?Ai(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}function Ii(t,e,o){var n=e?o(q(t),ht):q(t);return v(n,r,new t.constructor)}function Oi(t){var e=new t.constructor(t.source,qe.exec(t));return e.lastIndex=t.lastIndex,e}function Pi(t,e,o){var n=e?o(X(t),ht):X(t);return v(n,s,new t.constructor)}function Di(t){return md?du(md.call(t)):{}}function Mi(t,e){var o=e?Ai(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Ri(t,e){if(t!==e){var o=t!==it,n=null===t,i=t===t,r=_l(t),s=e!==it,a=null===e,l=e===e,c=_l(e);if(!a&&!c&&!r&&t>e||r&&s&&l&&!a&&!c||n&&s&&l||!o&&l||!i)return 1;if(!n&&!r&&!c&&t<e||c&&o&&i&&!n&&!r||a&&o&&i||!s&&i||!l)return-1}return 0}function Li(t,e,o){for(var n=-1,i=t.criteria,r=e.criteria,s=i.length,a=o.length;++n<s;){var l=Ri(i[n],r[n]);if(l){if(n>=a)return l;var c=o[n];return l*("desc"==c?-1:1)}}return t.index-e.index}function Bi(t,e,o,n){for(var i=-1,r=t.length,s=o.length,a=-1,l=e.length,c=Xu(r-s,0),u=su(l+c),d=!n;++a<l;)u[a]=e[a];for(;++i<s;)(d||i<r)&&(u[o[i]]=t[i]);for(;c--;)u[a++]=t[i++];return u}function Fi(t,e,o,n){for(var i=-1,r=t.length,s=-1,a=o.length,l=-1,c=e.length,u=Xu(r-a,0),d=su(u+c),h=!n;++i<u;)d[i]=t[i];for(var p=i;++l<c;)d[p+l]=e[l];for(;++s<a;)(h||i<r)&&(d[p+o[s]]=t[i++]);return d}function Hi(t,e){var o=-1,n=t.length;for(e||(e=su(n));++o<n;)e[o]=t[o];return e}function Wi(t,e,o,n){var i=!o;o||(o={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=n?n(o[a],t[a],a,o,t):it;l===it&&(l=t[a]),i?Mo(o,a,l):zo(o,a,l)}return o}function Ui(t,e){return Wi(t,Td(t),e)}function Ni(t,e){return Wi(t,Ed(t),e)}function Yi(t,e){return function(o,n){var i=_h(o)?l:Oo,r=e?e():{};return i(o,t,Cr(n,2),r)}}function qi(t){return si(function(e,o){var n=-1,i=o.length,r=i>1?o[i-1]:it,s=i>2?o[2]:it;for(r=t.length>3&&"function"==typeof r?(i--,r):it,s&&Br(o[0],o[1],s)&&(r=i<3?it:r,i=1),e=du(e);++n<i;){var a=o[n];a&&t(e,a,n,r)}return e})}function Vi(t,e){return function(o,n){if(null==o)return o;if(!Ka(o))return t(o,n);for(var i=o.length,r=e?i:-1,s=du(o);(e?r--:++r<i)&&n(s[r],r,s)!==!1;);return o}}function Gi(t){return function(e,o,n){for(var i=-1,r=du(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(o(r[l],l,r)===!1)break}return e}}function Xi(t,e,o){function n(){var e=this&&this!==ln&&this instanceof n?r:t;return e.apply(i?o:this,arguments)}var i=e&vt,r=Zi(t);return n}function Ki(t){return function(e){e=zl(e);var o=U(e)?tt(e):it,n=o?o[0]:e.charAt(0),i=o?Ti(o,1).join(""):e.slice(1);return n[t]()+i}}function Qi(t){return function(e){return v(Ec(cc(e).replace(Uo,"")),t,"")}}function Zi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=vd(t.prototype),n=t.apply(o,e);return ll(n)?n:o}}function Ji(t,e,o){function n(){for(var r=arguments.length,s=su(r),l=r,c=kr(n);l--;)s[l]=arguments[l];var u=r<3&&s[0]!==c&&s[r-1]!==c?[]:G(s,c);if(r-=u.length,r<o)return ur(t,e,or,n.placeholder,it,s,u,it,it,o-r);var d=this&&this!==ln&&this instanceof n?i:t;return a(d,this,s)}var i=Zi(t);return n}function tr(t){return function(e,o,n){var i=du(e);if(!Ka(e)){var r=Cr(o,3);e=Nl(e),o=function(t){return r(i[t],t,i)}}var s=t(e,o,n);return s>-1?i[r?e[s]:s]:it}}function er(t){return _r(function(e){var o=e.length,i=o,r=n.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new fu(lt);if(r&&!a&&"wrapper"==xr(s))var a=new n([],(!0))}for(i=a?i:o;++i<o;){s=e[i];var l=xr(s),c="wrapper"==l?Sd(s):it;a=c&&Wr(c[0])&&c[1]==(kt|_t|yt|Ct)&&!c[4].length&&1==c[9]?a[xr(c[0])].apply(a,c[3]):1==s.length&&Wr(s)?a[l]():a.thru(s)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&_h(n))return a.plant(n).value();for(var i=0,r=o?e[i].apply(this,t):n;++i<o;)r=e[i].call(this,r);return r}})}function or(t,e,o,n,i,r,s,a,l,c){function u(){for(var v=arguments.length,b=su(v),w=v;w--;)b[w]=arguments[w];if(f)var _=kr(u),$=F(b,_);if(n&&(b=Bi(b,n,i,f)),r&&(b=Fi(b,r,s,f)),v-=$,f&&v<c){var y=G(b,_);return ur(t,e,or,u.placeholder,o,b,y,a,l,c-v)}var x=h?o:this,k=p?x[t]:t;return v=b.length,a?b=Jr(b,a):m&&v>1&&b.reverse(),d&&l<v&&(b.length=l),this&&this!==ln&&this instanceof u&&(k=g||Zi(k)),k.apply(x,b)}var d=e&kt,h=e&vt,p=e&bt,f=e&(_t|$t),m=e&jt,g=p?it:Zi(t);return u}function nr(t,e){return function(o,n){return Tn(o,t,e(n),{})}}function ir(t,e){return function(o,n){var i;if(o===it&&n===it)return e;if(o!==it&&(i=o),n!==it){if(i===it)return n;"string"==typeof o||"string"==typeof n?(o=vi(o),n=vi(n)):(o=gi(o),n=gi(n)),i=t(o,n)}return i}}function rr(t){return _r(function(e){return e=m(e,D(Cr())),si(function(o){var n=this;return t(e,function(t){return a(t,n,o)})})})}function sr(t,e){e=e===it?" ":vi(e);var o=e.length;if(o<2)return o?ri(e,t):e;var n=ri(e,Wu(t/J(e)));return U(e)?Ti(tt(n),0,t).join(""):n.slice(0,t)}function ar(t,e,o,n){function i(){for(var e=-1,l=arguments.length,c=-1,u=n.length,d=su(u+l),h=this&&this!==ln&&this instanceof i?s:t;++c<u;)d[c]=n[c];for(;l--;)d[c++]=arguments[++e];return a(h,r?o:this,d)}var r=e&vt,s=Zi(t);return i}function lr(t){return function(e,o,n){return n&&"number"!=typeof n&&Br(e,o,n)&&(o=n=it),e=Cl(e),o===it?(o=e,e=0):o=Cl(o),n=n===it?e<o?1:-1:Cl(n),ii(e,o,n,t)}}function cr(t){return function(e,o){return"string"==typeof e&&"string"==typeof o||(e=Tl(e),o=Tl(o)),t(e,o)}}function ur(t,e,o,n,i,r,s,a,l,c){var u=e&_t,d=u?s:it,h=u?it:s,p=u?r:it,f=u?it:r;
e|=u?yt:xt,e&=~(u?xt:yt),e&wt||(e&=~(vt|bt));var m=[t,e,i,p,d,f,h,a,l,c],g=o.apply(it,m);return Wr(t)&&Id(g,m),g.placeholder=n,ts(g,t,e)}function dr(t){var e=uu[t];return function(t,o){if(t=Tl(t),o=null==o?0:Ku(jl(o),292)){var n=(zl(t)+"e").split("e"),i=e(n[0]+"e"+(+n[1]+o));return n=(zl(i)+"e").split("e"),+(n[0]+"e"+(+n[1]-o))}return e(t)}}function hr(t){return function(e){var o=Ad(e);return o==Qt?q(e):o==ie?K(e):P(e,t(e))}}function pr(t,e,o,n,i,r,s,a){var l=e&bt;if(!l&&"function"!=typeof t)throw new fu(lt);var c=n?n.length:0;if(c||(e&=~(yt|xt),n=i=it),s=s===it?s:Xu(jl(s),0),a=a===it?a:jl(a),c-=i?i.length:0,e&xt){var u=n,d=i;n=i=it}var h=l?it:Sd(t),p=[t,e,o,n,i,u,d,r,s,a];if(h&&Gr(p,h),t=p[0],e=p[1],o=p[2],n=p[3],i=p[4],a=p[9]=p[9]===it?l?0:t.length:Xu(p[9]-c,0),!a&&e&(_t|$t)&&(e&=~(_t|$t)),e&&e!=vt)f=e==_t||e==$t?Ji(t,e,a):e!=yt&&e!=(vt|yt)||i.length?or.apply(it,p):ar(t,e,o,n);else var f=Xi(t,e,o);var m=h?yd:Id;return ts(m(f,p),t,e)}function fr(t,e,o,n){return t===it||Xa(t,vu[o])&&!_u.call(n,o)?e:t}function mr(t,e,o,n,i,r){return ll(t)&&ll(e)&&(r.set(e,t),Gn(t,e,it,mr,r),r["delete"](e)),t}function gr(t){return vl(t)?it:t}function vr(t,e,o,n,i,r){var s=o&mt,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(t);if(c&&r.get(e))return c==e;var u=-1,d=!0,h=o&gt?new vo:it;for(r.set(t,e),r.set(e,t);++u<a;){var p=t[u],f=e[u];if(n)var m=s?n(f,p,u,e,t,r):n(p,f,u,t,e,r);if(m!==it){if(m)continue;d=!1;break}if(h){if(!w(e,function(t,e){if(!R(h,e)&&(p===t||i(p,t,o,n,r)))return h.push(e)})){d=!1;break}}else if(p!==f&&!i(p,f,o,n,r)){d=!1;break}}return r["delete"](t),r["delete"](e),d}function br(t,e,o,n,i,r,s){switch(o){case de:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!r(new Eu(t),new Eu(e)));case Yt:case qt:case Zt:return Xa(+t,+e);case Gt:return t.name==e.name&&t.message==e.message;case ne:case re:return t==e+"";case Qt:var a=q;case ie:var l=n&mt;if(a||(a=X),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;n|=gt,s.set(t,e);var u=vr(a(t),a(e),n,i,r,s);return s["delete"](t),u;case se:if(md)return md.call(t)==md.call(e)}return!1}function wr(t,e,o,n,i,r){var s=o&mt,a=$r(t),l=a.length,c=$r(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:_u.call(e,h)))return!1}var p=r.get(t);if(p&&r.get(e))return p==e;var f=!0;r.set(t,e),r.set(e,t);for(var m=s;++d<l;){h=a[d];var g=t[h],v=e[h];if(n)var b=s?n(v,g,h,e,t,r):n(g,v,h,t,e,r);if(!(b===it?g===v||i(g,v,o,n,r):b)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return r["delete"](t),r["delete"](e),f}function _r(t){return Pd(Qr(t,it,vs),t+"")}function $r(t){return cn(t,Nl,Td)}function yr(t){return cn(t,Yl,Ed)}function xr(t){for(var e=t.name+"",o=ld[e],n=_u.call(ld,e)?o.length:0;n--;){var i=o[n],r=i.func;if(null==r||r==t)return i.name}return e}function kr(t){var o=_u.call(e,"placeholder")?e:t;return o.placeholder}function Cr(){var t=e.iteratee||Dc;return t=t===Dc?Hn:t,arguments.length?t(arguments[0],arguments[1]):t}function jr(t,e){var o=t.__data__;return Hr(e)?o["string"==typeof e?"string":"hash"]:o.map}function Sr(t){for(var e=Nl(t),o=e.length;o--;){var n=e[o],i=t[n];e[o]=[n,i,Yr(i)]}return e}function Tr(t,e){var o=W(t,e);return Rn(o)?o:it}function Er(t){var e=_u.call(t,Ru),o=t[Ru];try{t[Ru]=it;var n=!0}catch(i){}var r=xu.call(t);return n&&(e?t[Ru]=o:delete t[Ru]),r}function Ar(t,e,o){for(var n=-1,i=o.length;++n<i;){var r=o[n],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ku(e,t+s);break;case"takeRight":t=Xu(t,e-s)}}return{start:t,end:e}}function zr(t){var e=t.match(He);return e?e[1].split(We):[]}function Ir(t,e,o){e=Si(e,t);for(var n=-1,i=e.length,r=!1;++n<i;){var s=ns(e[n]);if(!(r=null!=t&&o(t,s)))break;t=t[s]}return r||++n!=i?r:(i=null==t?0:t.length,!!i&&al(i)&&Lr(s,i)&&(_h(t)||wh(t)))}function Or(t){var e=t.length,o=t.constructor(e);return e&&"string"==typeof t[0]&&_u.call(t,"index")&&(o.index=t.index,o.input=t.input),o}function Pr(t){return"function"!=typeof t.constructor||Nr(t)?{}:vd(zu(t))}function Dr(t,e,o,n){var i=t.constructor;switch(e){case ue:return Ai(t);case Yt:case qt:return new i((+t));case de:return zi(t,n);case he:case pe:case fe:case me:case ge:case ve:case be:case we:case _e:return Mi(t,n);case Qt:return Ii(t,n,o);case Zt:case re:return new i(t);case ne:return Oi(t);case ie:return Pi(t,n,o);case se:return Di(t)}}function Mr(t,e){var o=e.length;if(!o)return t;var n=o-1;return e[n]=(o>1?"& ":"")+e[n],e=e.join(o>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function Rr(t){return _h(t)||wh(t)||!!(Du&&t&&t[Du])}function Lr(t,e){return e=null==e?Dt:e,!!e&&("number"==typeof t||Qe.test(t))&&t>-1&&t%1==0&&t<e}function Br(t,e,o){if(!ll(o))return!1;var n=typeof e;return!!("number"==n?Ka(o)&&Lr(e,o.length):"string"==n&&e in o)&&Xa(o[e],t)}function Fr(t,e){if(_h(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!_l(t))||(Ie.test(t)||!ze.test(t)||null!=e&&t in du(e))}function Hr(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Wr(t){var o=xr(t),n=e[o];if("function"!=typeof n||!(o in i.prototype))return!1;if(t===n)return!0;var r=Sd(n);return!!r&&t===r[0]}function Ur(t){return!!yu&&yu in t}function Nr(t){var e=t&&t.constructor,o="function"==typeof e&&e.prototype||vu;return t===o}function Yr(t){return t===t&&!ll(t)}function qr(t,e){return function(o){return null!=o&&(o[t]===e&&(e!==it||t in du(o)))}}function Vr(t){var e=Da(t,function(t){return o.size===ut&&o.clear(),t}),o=e.cache;return e}function Gr(t,e){var o=t[1],n=e[1],i=o|n,r=i<(vt|bt|kt),s=n==kt&&o==_t||n==kt&&o==Ct&&t[7].length<=e[8]||n==(kt|Ct)&&e[7].length<=e[8]&&o==_t;if(!r&&!s)return t;n&vt&&(t[2]=e[2],i|=o&vt?0:wt);var a=e[3];if(a){var l=t[3];t[3]=l?Bi(l,a,e[4]):a,t[4]=l?G(t[3],dt):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?Fi(l,a,e[6]):a,t[6]=l?G(t[5],dt):e[6]),a=e[7],a&&(t[7]=a),n&kt&&(t[8]=null==t[8]?e[8]:Ku(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Xr(t){var e=[];if(null!=t)for(var o in du(t))e.push(o);return e}function Kr(t){return xu.call(t)}function Qr(t,e,o){return e=Xu(e===it?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=Xu(n.length-e,0),s=su(r);++i<r;)s[i]=n[e+i];i=-1;for(var l=su(e+1);++i<e;)l[i]=n[i];return l[e]=o(s),a(t,this,l)}}function Zr(t,e){return e.length<2?t:an(t,di(e,0,-1))}function Jr(t,e){for(var o=t.length,n=Ku(e.length,o),i=Hi(t);n--;){var r=e[n];t[n]=Lr(r,o)?i[r]:it}return t}function ts(t,e,o){var n=e+"";return Pd(t,Mr(n,rs(zr(n),o)))}function es(t){var e=0,o=0;return function(){var n=Qu(),i=At-(n-o);if(o=n,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(it,arguments)}}function os(t,e){var o=-1,n=t.length,i=n-1;for(e=e===it?n:e;++o<e;){var r=ni(o,i),s=t[r];t[r]=t[o],t[o]=s}return t.length=e,t}function ns(t){if("string"==typeof t||_l(t))return t;var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function is(t){if(null!=t){try{return wu.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function rs(t,e){return c(Ht,function(o){var n="_."+o[0];e&o[1]&&!p(t,n)&&t.push(n)}),t.sort()}function ss(t){if(t instanceof i)return t.clone();var e=new n(t.__wrapped__,t.__chain__);return e.__actions__=Hi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function as(t,e,o){e=(o?Br(t,e,o):e===it)?1:Xu(jl(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,r=0,s=su(Wu(n/e));i<n;)s[r++]=di(t,i,i+=e);return s}function ls(t){for(var e=-1,o=null==t?0:t.length,n=0,i=[];++e<o;){var r=t[e];r&&(i[n++]=r)}return i}function cs(){var t=arguments.length;if(!t)return[];for(var e=su(t-1),o=arguments[0],n=t;n--;)e[n-1]=arguments[n];return g(_h(o)?Hi(o):[o],tn(e,1))}function us(t,e,o){var n=null==t?0:t.length;return n?(e=o||e===it?1:jl(e),di(t,e<0?0:e,n)):[]}function ds(t,e,o){var n=null==t?0:t.length;return n?(e=o||e===it?1:jl(e),e=n-e,di(t,0,e<0?0:e)):[]}function hs(t,e){return t&&t.length?$i(t,Cr(e,3),!0,!0):[]}function ps(t,e){return t&&t.length?$i(t,Cr(e,3),!0):[]}function fs(t,e,o,n){var i=null==t?0:t.length;return i?(o&&"number"!=typeof o&&Br(t,e,o)&&(o=0,n=i),Go(t,e,o,n)):[]}function ms(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=null==o?0:jl(o);return i<0&&(i=Xu(n+i,0)),x(t,Cr(e,3),i)}function gs(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return o!==it&&(i=jl(o),i=o<0?Xu(n+i,0):Ku(i,n-1)),x(t,Cr(e,3),i,!0)}function vs(t){var e=null==t?0:t.length;return e?tn(t,1):[]}function bs(t){var e=null==t?0:t.length;return e?tn(t,Pt):[]}function ws(t,e){var o=null==t?0:t.length;return o?(e=e===it?1:jl(e),tn(t,e)):[]}function _s(t){for(var e=-1,o=null==t?0:t.length,n={};++e<o;){var i=t[e];n[i[0]]=i[1]}return n}function $s(t){return t&&t.length?t[0]:it}function ys(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=null==o?0:jl(o);return i<0&&(i=Xu(n+i,0)),k(t,e,i)}function xs(t){var e=null==t?0:t.length;return e?di(t,0,-1):[]}function ks(t,e){return null==t?"":Vu.call(t,e)}function Cs(t){var e=null==t?0:t.length;return e?t[e-1]:it}function js(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=n;return o!==it&&(i=jl(o),i=i<0?Xu(n+i,0):Ku(i,n-1)),e===e?Z(t,e,i):x(t,j,i,!0)}function Ss(t,e){return t&&t.length?Kn(t,jl(e)):it}function Ts(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function Es(t,e,o){return t&&t.length&&e&&e.length?ei(t,e,Cr(o,2)):t}function As(t,e,o){return t&&t.length&&e&&e.length?ei(t,e,it,o):t}function zs(t,e){var o=[];if(!t||!t.length)return o;var n=-1,i=[],r=t.length;for(e=Cr(e,3);++n<r;){var s=t[n];e(s,n,t)&&(o.push(s),i.push(n))}return oi(t,i),o}function Is(t){return null==t?t:td.call(t)}function Os(t,e,o){var n=null==t?0:t.length;return n?(o&&"number"!=typeof o&&Br(t,e,o)?(e=0,o=n):(e=null==e?0:jl(e),o=o===it?n:jl(o)),di(t,e,o)):[]}function Ps(t,e){return pi(t,e)}function Ds(t,e,o){return fi(t,e,Cr(o,2))}function Ms(t,e){var o=null==t?0:t.length;if(o){var n=pi(t,e);if(n<o&&Xa(t[n],e))return n}return-1}function Rs(t,e){return pi(t,e,!0)}function Ls(t,e,o){return fi(t,e,Cr(o,2),!0)}function Bs(t,e){var o=null==t?0:t.length;if(o){var n=pi(t,e,!0)-1;if(Xa(t[n],e))return n}return-1}function Fs(t){return t&&t.length?mi(t):[]}function Hs(t,e){return t&&t.length?mi(t,Cr(e,2)):[]}function Ws(t){var e=null==t?0:t.length;return e?di(t,1,e):[]}function Us(t,e,o){return t&&t.length?(e=o||e===it?1:jl(e),di(t,0,e<0?0:e)):[]}function Ns(t,e,o){var n=null==t?0:t.length;return n?(e=o||e===it?1:jl(e),e=n-e,di(t,e<0?0:e,n)):[]}function Ys(t,e){return t&&t.length?$i(t,Cr(e,3),!1,!0):[]}function qs(t,e){return t&&t.length?$i(t,Cr(e,3)):[]}function Vs(t){return t&&t.length?bi(t):[]}function Gs(t,e){return t&&t.length?bi(t,Cr(e,2)):[]}function Xs(t,e){return e="function"==typeof e?e:it,t&&t.length?bi(t,it,e):[]}function Ks(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Qa(t))return e=Xu(t.length,e),!0}),O(e,function(e){return m(t,T(e))})}function Qs(t,e){if(!t||!t.length)return[];var o=Ks(t);return null==e?o:m(o,function(t){return a(e,it,t)})}function Zs(t,e){return ki(t||[],e||[],zo)}function Js(t,e){return ki(t||[],e||[],ci)}function ta(t){var o=e(t);return o.__chain__=!0,o}function ea(t,e){return e(t),t}function oa(t,e){return e(t)}function na(){return ta(this)}function ia(){return new n(this.value(),this.__chain__)}function ra(){this.__values__===it&&(this.__values__=kl(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function sa(){return this}function aa(t){for(var e,n=this;n instanceof o;){var i=ss(n);i.__index__=0,i.__values__=it,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function la(){var t=this.__wrapped__;if(t instanceof i){var e=t;return this.__actions__.length&&(e=new i(this)),e=e.reverse(),e.__actions__.push({func:oa,args:[Is],thisArg:it}),new n(e,this.__chain__)}return this.thru(Is)}function ca(){return yi(this.__wrapped__,this.__actions__)}function ua(t,e,o){var n=_h(t)?d:qo;return o&&Br(t,e,o)&&(e=it),n(t,Cr(e,3))}function da(t,e){var o=_h(t)?h:Jo;return o(t,Cr(e,3))}function ha(t,e){return tn(ba(t,e),1)}function pa(t,e){return tn(ba(t,e),Pt)}function fa(t,e,o){return o=o===it?1:jl(o),tn(ba(t,e),o)}function ma(t,e){var o=_h(t)?c:bd;return o(t,Cr(e,3))}function ga(t,e){var o=_h(t)?u:wd;return o(t,Cr(e,3))}function va(t,e,o,n){t=Ka(t)?t:nc(t),o=o&&!n?jl(o):0;var i=t.length;return o<0&&(o=Xu(i+o,0)),wl(t)?o<=i&&t.indexOf(e,o)>-1:!!i&&k(t,e,o)>-1}function ba(t,e){var o=_h(t)?m:Yn;return o(t,Cr(e,3))}function wa(t,e,o,n){return null==t?[]:(_h(e)||(e=null==e?[]:[e]),o=n?it:o,_h(o)||(o=null==o?[]:[o]),Qn(t,e,o))}function _a(t,e,o){var n=_h(t)?v:A,i=arguments.length<3;return n(t,Cr(e,4),o,i,bd)}function $a(t,e,o){var n=_h(t)?b:A,i=arguments.length<3;return n(t,Cr(e,4),o,i,wd)}function ya(t,e){var o=_h(t)?h:Jo;return o(t,Ma(Cr(e,3)))}function xa(t){var e=_h(t)?So:ai;return e(t)}function ka(t,e,o){e=(o?Br(t,e,o):e===it)?1:jl(e);var n=_h(t)?To:li;return n(t,e)}function Ca(t){var e=_h(t)?Eo:ui;return e(t)}function ja(t){if(null==t)return 0;if(Ka(t))return wl(t)?J(t):t.length;var e=Ad(t);return e==Qt||e==ie?t.size:Wn(t).length}function Sa(t,e,o){var n=_h(t)?w:hi;return o&&Br(t,e,o)&&(e=it),n(t,Cr(e,3))}function Ta(t,e){if("function"!=typeof e)throw new fu(lt);return t=jl(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ea(t,e,o){return e=o?it:e,e=t&&null==e?t.length:e,pr(t,kt,it,it,it,it,e)}function Aa(t,e){var o;if("function"!=typeof e)throw new fu(lt);return t=jl(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=it),o}}function za(t,e,o){e=o?it:e;var n=pr(t,_t,it,it,it,it,it,e);return n.placeholder=za.placeholder,n}function Ia(t,e,o){e=o?it:e;var n=pr(t,$t,it,it,it,it,it,e);return n.placeholder=Ia.placeholder,n}function Oa(t,e,o){function n(e){var o=h,n=p;return h=p=it,b=e,m=t.apply(n,o)}function i(t){return b=t,g=Od(a,e),w?n(t):m}function r(t){var o=t-v,n=t-b,i=e-o;return _?Ku(i,f-n):i}function s(t){var o=t-v,n=t-b;return v===it||o>=e||o<0||_&&n>=f}function a(){var t=lh();return s(t)?l(t):void(g=Od(a,r(t)))}function l(t){return g=it,$&&h?n(t):(h=p=it,m)}function c(){g!==it&&Cd(g),b=0,h=v=p=g=it}function u(){return g===it?m:l(lh())}function d(){var t=lh(),o=s(t);if(h=arguments,p=this,v=t,o){if(g===it)return i(v);if(_)return g=Od(a,e),n(v)}return g===it&&(g=Od(a,e)),m}var h,p,f,m,g,v,b=0,w=!1,_=!1,$=!0;if("function"!=typeof t)throw new fu(lt);return e=Tl(e)||0,ll(o)&&(w=!!o.leading,_="maxWait"in o,f=_?Xu(Tl(o.maxWait)||0,e):f,$="trailing"in o?!!o.trailing:$),d.cancel=c,d.flush=u,d}function Pa(t){return pr(t,jt)}function Da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new fu(lt);var o=function(){var n=arguments,i=e?e.apply(this,n):n[0],r=o.cache;if(r.has(i))return r.get(i);var s=t.apply(this,n);return o.cache=r.set(i,s)||r,s};return o.cache=new(Da.Cache||uo),o}function Ma(t){if("function"!=typeof t)throw new fu(lt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ra(t){return Aa(2,t)}function La(t,e){if("function"!=typeof t)throw new fu(lt);return e=e===it?e:jl(e),si(t,e)}function Ba(t,e){if("function"!=typeof t)throw new fu(lt);return e=null==e?0:Xu(jl(e),0),si(function(o){var n=o[e],i=Ti(o,0,e);return n&&g(i,n),a(t,this,i)})}function Fa(t,e,o){var n=!0,i=!0;if("function"!=typeof t)throw new fu(lt);return ll(o)&&(n="leading"in o?!!o.leading:n,i="trailing"in o?!!o.trailing:i),Oa(t,e,{leading:n,maxWait:e,trailing:i})}function Ha(t){return Ea(t,1)}function Wa(t,e){return fh(ji(e),t)}function Ua(){if(!arguments.length)return[];var t=arguments[0];return _h(t)?t:[t]}function Na(t){return Bo(t,ft)}function Ya(t,e){return e="function"==typeof e?e:it,Bo(t,ft,e)}function qa(t){return Bo(t,ht|ft)}function Va(t,e){return e="function"==typeof e?e:it,Bo(t,ht|ft,e)}function Ga(t,e){return null==e||Ho(t,e,Nl(e))}function Xa(t,e){return t===e||t!==t&&e!==e}function Ka(t){return null!=t&&al(t.length)&&!rl(t)}function Qa(t){return cl(t)&&Ka(t)}function Za(t){return t===!0||t===!1||cl(t)&&un(t)==Yt}function Ja(t){return cl(t)&&1===t.nodeType&&!vl(t)}function tl(t){if(null==t)return!0;if(Ka(t)&&(_h(t)||"string"==typeof t||"function"==typeof t.splice||yh(t)||Sh(t)||wh(t)))return!t.length;var e=Ad(t);if(e==Qt||e==ie)return!t.size;if(Nr(t))return!Wn(t).length;for(var o in t)if(_u.call(t,o))return!1;return!0}function el(t,e){return On(t,e)}function ol(t,e,o){o="function"==typeof o?o:it;var n=o?o(t,e):it;return n===it?On(t,e,it,o):!!n}function nl(t){if(!cl(t))return!1;var e=un(t);return e==Gt||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!vl(t)}function il(t){return"number"==typeof t&&qu(t)}function rl(t){if(!ll(t))return!1;var e=un(t);return e==Xt||e==Kt||e==Nt||e==oe}function sl(t){return"number"==typeof t&&t==jl(t)}function al(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Dt}function ll(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function cl(t){return null!=t&&"object"==typeof t}function ul(t,e){return t===e||Mn(t,e,Sr(e))}function dl(t,e,o){return o="function"==typeof o?o:it,Mn(t,e,Sr(e),o)}function hl(t){return gl(t)&&t!=+t}function pl(t){if(zd(t))throw new lu(at);return Rn(t)}function fl(t){return null===t}function ml(t){return null==t}function gl(t){return"number"==typeof t||cl(t)&&un(t)==Zt}function vl(t){if(!cl(t)||un(t)!=te)return!1;var e=zu(t);if(null===e)return!0;var o=_u.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&wu.call(o)==ku}function bl(t){return sl(t)&&t>=-Dt&&t<=Dt}function wl(t){return"string"==typeof t||!_h(t)&&cl(t)&&un(t)==re}function _l(t){return"symbol"==typeof t||cl(t)&&un(t)==se}function $l(t){return t===it}function yl(t){return cl(t)&&Ad(t)==le}function xl(t){return cl(t)&&un(t)==ce}function kl(t){if(!t)return[];if(Ka(t))return wl(t)?tt(t):Hi(t);if(Mu&&t[Mu])return Y(t[Mu]());var e=Ad(t),o=e==Qt?q:e==ie?X:nc;return o(t)}function Cl(t){if(!t)return 0===t?t:0;if(t=Tl(t),t===Pt||t===-Pt){var e=t<0?-1:1;return e*Mt}return t===t?t:0}function jl(t){var e=Cl(t),o=e%1;return e===e?o?e-o:e:0}function Sl(t){return t?Lo(jl(t),0,Lt):0}function Tl(t){if("number"==typeof t)return t;if(_l(t))return Rt;if(ll(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ll(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Re,"");var o=Ge.test(t);return o||Ke.test(t)?rn(t.slice(2),o?2:8):Ve.test(t)?Rt:+t}function El(t){return Wi(t,Yl(t))}function Al(t){return t?Lo(jl(t),-Dt,Dt):0===t?t:0}function zl(t){return null==t?"":vi(t)}function Il(t,e){var o=vd(t);return null==e?o:Po(o,e)}function Ol(t,e){return y(t,Cr(e,3),en)}function Pl(t,e){return y(t,Cr(e,3),on)}function Dl(t,e){return null==t?t:_d(t,Cr(e,3),Yl)}function Ml(t,e){return null==t?t:$d(t,Cr(e,3),Yl)}function Rl(t,e){return t&&en(t,Cr(e,3))}function Ll(t,e){return t&&on(t,Cr(e,3))}function Bl(t){return null==t?[]:sn(t,Nl(t))}function Fl(t){return null==t?[]:sn(t,Yl(t))}function Hl(t,e,o){var n=null==t?it:an(t,e);return n===it?o:n}function Wl(t,e){return null!=t&&Ir(t,e,pn)}function Ul(t,e){return null!=t&&Ir(t,e,_n)}function Nl(t){return Ka(t)?jo(t):Wn(t)}function Yl(t){return Ka(t)?jo(t,!0):Un(t)}function ql(t,e){var o={};return e=Cr(e,3),en(t,function(t,n,i){Mo(o,e(t,n,i),t)}),o}function Vl(t,e){var o={};return e=Cr(e,3),en(t,function(t,n,i){Mo(o,n,e(t,n,i))}),o}function Gl(t,e){return Xl(t,Ma(Cr(e)))}function Xl(t,e){if(null==t)return{};var o=m(yr(t),function(t){return[t]});return e=Cr(e),Jn(t,o,function(t,o){return e(t,o[0])})}function Kl(t,e,o){e=Si(e,t);var n=-1,i=e.length;for(i||(i=1,t=it);++n<i;){var r=null==t?it:t[ns(e[n])];r===it&&(n=i,r=o),t=rl(r)?r.call(t):r}return t}function Ql(t,e,o){return null==t?t:ci(t,e,o)}function Zl(t,e,o,n){return n="function"==typeof n?n:it,null==t?t:ci(t,e,o,n)}function Jl(t,e,o){var n=_h(t),i=n||yh(t)||Sh(t);if(e=Cr(e,4),null==o){var r=t&&t.constructor;o=i?n?new r:[]:ll(t)&&rl(r)?vd(zu(t)):{}}return(i?c:en)(t,function(t,n,i){return e(o,t,n,i)}),o}function tc(t,e){return null==t||wi(t,e)}function ec(t,e,o){return null==t?t:_i(t,e,ji(o))}function oc(t,e,o,n){return n="function"==typeof n?n:it,null==t?t:_i(t,e,ji(o),n)}function nc(t){return null==t?[]:M(t,Nl(t))}function ic(t){return null==t?[]:M(t,Yl(t))}function rc(t,e,o){return o===it&&(o=e,e=it),o!==it&&(o=Tl(o),o=o===o?o:0),e!==it&&(e=Tl(e),e=e===e?e:0),Lo(Tl(t),e,o)}function sc(t,e,o){return e=Cl(e),o===it?(o=e,e=0):o=Cl(o),t=Tl(t),kn(t,e,o)}function ac(t,e,o){if(o&&"boolean"!=typeof o&&Br(t,e,o)&&(e=o=it),o===it&&("boolean"==typeof e?(o=e,e=it):"boolean"==typeof t&&(o=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Cl(t),e===it?(e=t,t=0):e=Cl(e)),t>e){var n=t;t=e,e=n}if(o||t%1||e%1){var i=Ju();return Ku(t+i*(e-t+nn("1e-"+((i+"").length-1))),e)}return ni(t,e)}function lc(t){return Jh(zl(t).toLowerCase())}function cc(t){return t=zl(t),t&&t.replace(Ze,$n).replace(No,"")}function uc(t,e,o){t=zl(t),e=vi(e);var n=t.length;o=o===it?n:Lo(jl(o),0,n);var i=o;return o-=e.length,o>=0&&t.slice(o,i)==e}function dc(t){return t=zl(t),t&&Se.test(t)?t.replace(Ce,yn):t}function hc(t){return t=zl(t),t&&Me.test(t)?t.replace(De,"\\$&"):t}function pc(t,e,o){t=zl(t),e=jl(e);var n=e?J(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return sr(Uu(i),o)+t+sr(Wu(i),o)}function fc(t,e,o){t=zl(t),e=jl(e);var n=e?J(t):0;return e&&n<e?t+sr(e-n,o):t}function mc(t,e,o){t=zl(t),e=jl(e);var n=e?J(t):0;return e&&n<e?sr(e-n,o)+t:t}function gc(t,e,o){return o||null==e?e=0:e&&(e=+e),Zu(zl(t).replace(Le,""),e||0)}function vc(t,e,o){return e=(o?Br(t,e,o):e===it)?1:jl(e),ri(zl(t),e)}function bc(){var t=arguments,e=zl(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function wc(t,e,o){return o&&"number"!=typeof o&&Br(t,e,o)&&(e=o=it),(o=o===it?Lt:o>>>0)?(t=zl(t),t&&("string"==typeof e||null!=e&&!Ch(e))&&(e=vi(e),!e&&U(t))?Ti(tt(t),0,o):t.split(e,o)):[]}function _c(t,e,o){return t=zl(t),o=null==o?0:Lo(jl(o),0,t.length),e=vi(e),t.slice(o,o+e.length)==e}function $c(t,o,n){var i=e.templateSettings;n&&Br(t,o,n)&&(o=it),t=zl(t),o=Ih({},o,i,fr);var r,s,a=Ih({},o.imports,i.imports,fr),l=Nl(a),c=M(a,l),u=0,d=o.interpolate||Je,h="__p += '",p=hu((o.escape||Je).source+"|"+d.source+"|"+(d===Ae?Ye:Je).source+"|"+(o.evaluate||Je).source+"|$","g"),f="//# sourceURL="+("sourceURL"in o?o.sourceURL:"lodash.templateSources["+ ++Ko+"]")+"\n";t.replace(p,function(e,o,n,i,a,l){return n||(n=i),h+=t.slice(u,l).replace(to,H),o&&(r=!0,h+="' +\n__e("+o+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),h+="';\n";var m=o.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace($e,""):h).replace(ye,"$1").replace(xe,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=tp(function(){return cu(l,f+"return "+h).apply(it,c)});if(g.source=h,nl(g))throw g;return g}function yc(t){return zl(t).toLowerCase()}function xc(t){return zl(t).toUpperCase()}function kc(t,e,o){if(t=zl(t),t&&(o||e===it))return t.replace(Re,"");if(!t||!(e=vi(e)))return t;var n=tt(t),i=tt(e),r=L(n,i),s=B(n,i)+1;return Ti(n,r,s).join("")}function Cc(t,e,o){if(t=zl(t),t&&(o||e===it))return t.replace(Be,"");if(!t||!(e=vi(e)))return t;var n=tt(t),i=B(n,tt(e))+1;return Ti(n,0,i).join("")}function jc(t,e,o){if(t=zl(t),t&&(o||e===it))return t.replace(Le,"");if(!t||!(e=vi(e)))return t;var n=tt(t),i=L(n,tt(e));return Ti(n,i).join("")}function Sc(t,e){var o=St,n=Tt;if(ll(e)){var i="separator"in e?e.separator:i;o="length"in e?jl(e.length):o,n="omission"in e?vi(e.omission):n}t=zl(t);var r=t.length;if(U(t)){var s=tt(t);r=s.length}if(o>=r)return t;var a=o-J(n);if(a<1)return n;var l=s?Ti(s,0,a).join(""):t.slice(0,a);if(i===it)return l+n;if(s&&(a+=l.length-a),Ch(i)){if(t.slice(a).search(i)){var c,u=l;for(i.global||(i=hu(i.source,zl(qe.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var d=c.index;l=l.slice(0,d===it?a:d)}}else if(t.indexOf(vi(i),a)!=a){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+n}function Tc(t){return t=zl(t),t&&je.test(t)?t.replace(ke,xn):t}function Ec(t,e,o){return t=zl(t),e=o?it:e,e===it?N(t)?nt(t):$(t):t.match(e)||[]}function Ac(t){var e=null==t?0:t.length,o=Cr();return t=e?m(t,function(t){if("function"!=typeof t[1])throw new fu(lt);return[o(t[0]),t[1]]}):[],si(function(o){for(var n=-1;++n<e;){var i=t[n];if(a(i[0],this,o))return a(i[1],this,o)}})}function zc(t){return Fo(Bo(t,ht))}function Ic(t){return function(){return t}}function Oc(t,e){return null==t||t!==t?e:t}function Pc(t){return t}function Dc(t){return Hn("function"==typeof t?t:Bo(t,ht))}function Mc(t){return qn(Bo(t,ht))}function Rc(t,e){return Vn(t,Bo(e,ht))}function Lc(t,e,o){var n=Nl(e),i=sn(e,n);null!=o||ll(e)&&(i.length||!n.length)||(o=e,e=t,t=this,i=sn(e,Nl(e)));var r=!(ll(o)&&"chain"in o&&!o.chain),s=rl(t);return c(i,function(o){var n=e[o];t[o]=n,s&&(t.prototype[o]=function(){var e=this.__chain__;if(r||e){var o=t(this.__wrapped__),i=o.__actions__=Hi(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),o.__chain__=e,o}return n.apply(t,g([this.value()],arguments))})}),t}function Bc(){return ln._===this&&(ln._=Cu),this}function Fc(){}function Hc(t){return t=jl(t),si(function(e){return Kn(e,t)})}function Wc(t){return Fr(t)?T(ns(t)):ti(t)}function Uc(t){return function(e){return null==t?it:an(t,e)}}function Nc(){return[]}function Yc(){return!1}function qc(){return{}}function Vc(){return""}function Gc(){return!0}function Xc(t,e){if(t=jl(t),t<1||t>Dt)return[];var o=Lt,n=Ku(t,Lt);e=Cr(e),t-=Lt;for(var i=O(n,e);++o<t;)e(o);return i}function Kc(t){return _h(t)?m(t,ns):_l(t)?[t]:Hi(Dd(zl(t)))}function Qc(t){var e=++$u;return zl(t)+e}function Zc(t){return t&&t.length?Vo(t,Pc,hn):it}function Jc(t,e){return t&&t.length?Vo(t,Cr(e,2),hn):it}function tu(t){return S(t,Pc)}function eu(t,e){return S(t,Cr(e,2))}function ou(t){return t&&t.length?Vo(t,Pc,Nn):it}function nu(t,e){return t&&t.length?Vo(t,Cr(e,2),Nn):it}function iu(t){return t&&t.length?I(t,Pc):0}function ru(t,e){return t&&t.length?I(t,Cr(e,2)):0}t=null==t?ln:Cn.defaults(ln.Object(),t,Cn.pick(ln,Xo));var su=t.Array,au=t.Date,lu=t.Error,cu=t.Function,uu=t.Math,du=t.Object,hu=t.RegExp,pu=t.String,fu=t.TypeError,mu=su.prototype,gu=cu.prototype,vu=du.prototype,bu=t["__core-js_shared__"],wu=gu.toString,_u=vu.hasOwnProperty,$u=0,yu=function(){var t=/[^.]+$/.exec(bu&&bu.keys&&bu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),xu=vu.toString,ku=wu.call(du),Cu=ln._,ju=hu("^"+wu.call(_u).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Su=dn?t.Buffer:it,Tu=t.Symbol,Eu=t.Uint8Array,Au=Su?Su.allocUnsafe:it,zu=V(du.getPrototypeOf,du),Iu=du.create,Ou=vu.propertyIsEnumerable,Pu=mu.splice,Du=Tu?Tu.isConcatSpreadable:it,Mu=Tu?Tu.iterator:it,Ru=Tu?Tu.toStringTag:it,Lu=function(){try{var t=Tr(du,"defineProperty");return t({},"",{}),t}catch(e){}}(),Bu=t.clearTimeout!==ln.clearTimeout&&t.clearTimeout,Fu=au&&au.now!==ln.Date.now&&au.now,Hu=t.setTimeout!==ln.setTimeout&&t.setTimeout,Wu=uu.ceil,Uu=uu.floor,Nu=du.getOwnPropertySymbols,Yu=Su?Su.isBuffer:it,qu=t.isFinite,Vu=mu.join,Gu=V(du.keys,du),Xu=uu.max,Ku=uu.min,Qu=au.now,Zu=t.parseInt,Ju=uu.random,td=mu.reverse,ed=Tr(t,"DataView"),od=Tr(t,"Map"),nd=Tr(t,"Promise"),id=Tr(t,"Set"),rd=Tr(t,"WeakMap"),sd=Tr(du,"create"),ad=rd&&new rd,ld={},cd=is(ed),ud=is(od),dd=is(nd),hd=is(id),pd=is(rd),fd=Tu?Tu.prototype:it,md=fd?fd.valueOf:it,gd=fd?fd.toString:it,vd=function(){function t(){}return function(e){if(!ll(e))return{};if(Iu)return Iu(e);t.prototype=e;var o=new t;return t.prototype=it,o}}();e.templateSettings={escape:Te,evaluate:Ee,interpolate:Ae,variable:"",imports:{_:e}},e.prototype=o.prototype,e.prototype.constructor=e,n.prototype=vd(o.prototype),n.prototype.constructor=n,i.prototype=vd(o.prototype),i.prototype.constructor=i,et.prototype.clear=ot,et.prototype["delete"]=Ue,et.prototype.get=eo,et.prototype.has=oo,et.prototype.set=no,io.prototype.clear=ro,io.prototype["delete"]=so,io.prototype.get=ao,io.prototype.has=lo,io.prototype.set=co,uo.prototype.clear=ho,uo.prototype["delete"]=po,uo.prototype.get=fo,uo.prototype.has=mo,uo.prototype.set=go,vo.prototype.add=vo.prototype.push=bo,vo.prototype.has=wo,_o.prototype.clear=$o,_o.prototype["delete"]=yo,_o.prototype.get=xo,_o.prototype.has=ko,_o.prototype.set=Co;var bd=Vi(en),wd=Vi(on,!0),_d=Gi(),$d=Gi(!0),yd=ad?function(t,e){return ad.set(t,e),t}:Pc,xd=Lu?function(t,e){return Lu(t,"toString",{configurable:!0,enumerable:!1,value:Ic(e),writable:!0})}:Pc,kd=si,Cd=Bu||function(t){return ln.clearTimeout(t)},jd=id&&1/X(new id([,-0]))[1]==Pt?function(t){return new id(t)}:Fc,Sd=ad?function(t){return ad.get(t)}:Fc,Td=Nu?function(t){return null==t?[]:(t=du(t),h(Nu(t),function(e){return Ou.call(t,e)}))}:Nc,Ed=Nu?function(t){for(var e=[];t;)g(e,Td(t)),t=zu(t);return e}:Nc,Ad=un;(ed&&Ad(new ed(new ArrayBuffer(1)))!=de||od&&Ad(new od)!=Qt||nd&&Ad(nd.resolve())!=ee||id&&Ad(new id)!=ie||rd&&Ad(new rd)!=le)&&(Ad=function(t){var e=un(t),o=e==te?t.constructor:it,n=o?is(o):"";if(n)switch(n){case cd:return de;case ud:return Qt;case dd:return ee;case hd:return ie;case pd:return le}return e});var zd=bu?rl:Yc,Id=es(yd),Od=Hu||function(t,e){return ln.setTimeout(t,e)},Pd=es(xd),Dd=Vr(function(t){var e=[];return Oe.test(t)&&e.push(""),t.replace(Pe,function(t,o,n,i){e.push(n?i.replace(Ne,"$1"):o||t)}),e}),Md=si(function(t,e){return Qa(t)?Yo(t,tn(e,1,Qa,!0)):[]}),Rd=si(function(t,e){var o=Cs(e);return Qa(o)&&(o=it),Qa(t)?Yo(t,tn(e,1,Qa,!0),Cr(o,2)):[]}),Ld=si(function(t,e){var o=Cs(e);return Qa(o)&&(o=it),Qa(t)?Yo(t,tn(e,1,Qa,!0),it,o):[]}),Bd=si(function(t){var e=m(t,Ci);return e.length&&e[0]===t[0]?Sn(e):[]}),Fd=si(function(t){var e=Cs(t),o=m(t,Ci);return e===Cs(o)?e=it:o.pop(),o.length&&o[0]===t[0]?Sn(o,Cr(e,2)):[]}),Hd=si(function(t){var e=Cs(t),o=m(t,Ci);return e="function"==typeof e?e:it,e&&o.pop(),o.length&&o[0]===t[0]?Sn(o,it,e):[]}),Wd=si(Ts),Ud=_r(function(t,e){var o=null==t?0:t.length,n=Ro(t,e);return oi(t,m(e,function(t){return Lr(t,o)?+t:t}).sort(Ri)),n}),Nd=si(function(t){return bi(tn(t,1,Qa,!0))}),Yd=si(function(t){var e=Cs(t);return Qa(e)&&(e=it),bi(tn(t,1,Qa,!0),Cr(e,2))}),qd=si(function(t){var e=Cs(t);return e="function"==typeof e?e:it,bi(tn(t,1,Qa,!0),it,e)}),Vd=si(function(t,e){return Qa(t)?Yo(t,e):[]}),Gd=si(function(t){return xi(h(t,Qa))}),Xd=si(function(t){var e=Cs(t);return Qa(e)&&(e=it),xi(h(t,Qa),Cr(e,2))}),Kd=si(function(t){var e=Cs(t);return e="function"==typeof e?e:it,xi(h(t,Qa),it,e)}),Qd=si(Ks),Zd=si(function(t){var e=t.length,o=e>1?t[e-1]:it;return o="function"==typeof o?(t.pop(),o):it,Qs(t,o)}),Jd=_r(function(t){var e=t.length,o=e?t[0]:0,r=this.__wrapped__,s=function(e){return Ro(e,t)};return!(e>1||this.__actions__.length)&&r instanceof i&&Lr(o)?(r=r.slice(o,+o+(e?1:0)),r.__actions__.push({func:oa,args:[s],thisArg:it}),new n(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(s)}),th=Yi(function(t,e,o){_u.call(t,o)?++t[o]:Mo(t,o,1)}),eh=tr(ms),oh=tr(gs),nh=Yi(function(t,e,o){_u.call(t,o)?t[o].push(e):Mo(t,o,[e])}),ih=si(function(t,e,o){var n=-1,i="function"==typeof e,r=Ka(t)?su(t.length):[];return bd(t,function(t){r[++n]=i?a(e,t,o):En(t,e,o)}),r}),rh=Yi(function(t,e,o){Mo(t,o,e)}),sh=Yi(function(t,e,o){t[o?0:1].push(e)},function(){return[[],[]]}),ah=si(function(t,e){if(null==t)return[];var o=e.length;return o>1&&Br(t,e[0],e[1])?e=[]:o>2&&Br(e[0],e[1],e[2])&&(e=[e[0]]),Qn(t,tn(e,1),[])}),lh=Fu||function(){return ln.Date.now()},ch=si(function(t,e,o){var n=vt;if(o.length){var i=G(o,kr(ch));n|=yt}return pr(t,n,e,o,i)}),uh=si(function(t,e,o){var n=vt|bt;if(o.length){var i=G(o,kr(uh));n|=yt}return pr(e,n,t,o,i)}),dh=si(function(t,e){return Wo(t,1,e);
}),hh=si(function(t,e,o){return Wo(t,Tl(e)||0,o)});Da.Cache=uo;var ph=kd(function(t,e){e=1==e.length&&_h(e[0])?m(e[0],D(Cr())):m(tn(e,1),D(Cr()));var o=e.length;return si(function(n){for(var i=-1,r=Ku(n.length,o);++i<r;)n[i]=e[i].call(this,n[i]);return a(t,this,n)})}),fh=si(function(t,e){var o=G(e,kr(fh));return pr(t,yt,it,e,o)}),mh=si(function(t,e){var o=G(e,kr(mh));return pr(t,xt,it,e,o)}),gh=_r(function(t,e){return pr(t,Ct,it,it,it,e)}),vh=cr(hn),bh=cr(function(t,e){return t>=e}),wh=An(function(){return arguments}())?An:function(t){return cl(t)&&_u.call(t,"callee")&&!Ou.call(t,"callee")},_h=su.isArray,$h=fn?D(fn):zn,yh=Yu||Yc,xh=mn?D(mn):In,kh=gn?D(gn):Dn,Ch=vn?D(vn):Ln,jh=bn?D(bn):Bn,Sh=wn?D(wn):Fn,Th=cr(Nn),Eh=cr(function(t,e){return t<=e}),Ah=qi(function(t,e){if(Nr(e)||Ka(e))return void Wi(e,Nl(e),t);for(var o in e)_u.call(e,o)&&zo(t,o,e[o])}),zh=qi(function(t,e){Wi(e,Yl(e),t)}),Ih=qi(function(t,e,o,n){Wi(e,Yl(e),t,n)}),Oh=qi(function(t,e,o,n){Wi(e,Nl(e),t,n)}),Ph=_r(Ro),Dh=si(function(t){return t.push(it,fr),a(Ih,it,t)}),Mh=si(function(t){return t.push(it,mr),a(Hh,it,t)}),Rh=nr(function(t,e,o){t[e]=o},Ic(Pc)),Lh=nr(function(t,e,o){_u.call(t,e)?t[e].push(o):t[e]=[o]},Cr),Bh=si(En),Fh=qi(function(t,e,o){Gn(t,e,o)}),Hh=qi(function(t,e,o,n){Gn(t,e,o,n)}),Wh=_r(function(t,e){var o={};if(null==t)return o;var n=!1;e=m(e,function(e){return e=Si(e,t),n||(n=e.length>1),e}),Wi(t,yr(t),o),n&&(o=Bo(o,ht|pt|ft,gr));for(var i=e.length;i--;)wi(o,e[i]);return o}),Uh=_r(function(t,e){return null==t?{}:Zn(t,e)}),Nh=hr(Nl),Yh=hr(Yl),qh=Qi(function(t,e,o){return e=e.toLowerCase(),t+(o?lc(e):e)}),Vh=Qi(function(t,e,o){return t+(o?"-":"")+e.toLowerCase()}),Gh=Qi(function(t,e,o){return t+(o?" ":"")+e.toLowerCase()}),Xh=Ki("toLowerCase"),Kh=Qi(function(t,e,o){return t+(o?"_":"")+e.toLowerCase()}),Qh=Qi(function(t,e,o){return t+(o?" ":"")+Jh(e)}),Zh=Qi(function(t,e,o){return t+(o?" ":"")+e.toUpperCase()}),Jh=Ki("toUpperCase"),tp=si(function(t,e){try{return a(t,it,e)}catch(o){return nl(o)?o:new lu(o)}}),ep=_r(function(t,e){return c(e,function(e){e=ns(e),Mo(t,e,ch(t[e],t))}),t}),op=er(),np=er(!0),ip=si(function(t,e){return function(o){return En(o,t,e)}}),rp=si(function(t,e){return function(o){return En(t,o,e)}}),sp=rr(m),ap=rr(d),lp=rr(w),cp=lr(),up=lr(!0),dp=ir(function(t,e){return t+e},0),hp=dr("ceil"),pp=ir(function(t,e){return t/e},1),fp=dr("floor"),mp=ir(function(t,e){return t*e},1),gp=dr("round"),vp=ir(function(t,e){return t-e},0);return e.after=Ta,e.ary=Ea,e.assign=Ah,e.assignIn=zh,e.assignInWith=Ih,e.assignWith=Oh,e.at=Ph,e.before=Aa,e.bind=ch,e.bindAll=ep,e.bindKey=uh,e.castArray=Ua,e.chain=ta,e.chunk=as,e.compact=ls,e.concat=cs,e.cond=Ac,e.conforms=zc,e.constant=Ic,e.countBy=th,e.create=Il,e.curry=za,e.curryRight=Ia,e.debounce=Oa,e.defaults=Dh,e.defaultsDeep=Mh,e.defer=dh,e.delay=hh,e.difference=Md,e.differenceBy=Rd,e.differenceWith=Ld,e.drop=us,e.dropRight=ds,e.dropRightWhile=hs,e.dropWhile=ps,e.fill=fs,e.filter=da,e.flatMap=ha,e.flatMapDeep=pa,e.flatMapDepth=fa,e.flatten=vs,e.flattenDeep=bs,e.flattenDepth=ws,e.flip=Pa,e.flow=op,e.flowRight=np,e.fromPairs=_s,e.functions=Bl,e.functionsIn=Fl,e.groupBy=nh,e.initial=xs,e.intersection=Bd,e.intersectionBy=Fd,e.intersectionWith=Hd,e.invert=Rh,e.invertBy=Lh,e.invokeMap=ih,e.iteratee=Dc,e.keyBy=rh,e.keys=Nl,e.keysIn=Yl,e.map=ba,e.mapKeys=ql,e.mapValues=Vl,e.matches=Mc,e.matchesProperty=Rc,e.memoize=Da,e.merge=Fh,e.mergeWith=Hh,e.method=ip,e.methodOf=rp,e.mixin=Lc,e.negate=Ma,e.nthArg=Hc,e.omit=Wh,e.omitBy=Gl,e.once=Ra,e.orderBy=wa,e.over=sp,e.overArgs=ph,e.overEvery=ap,e.overSome=lp,e.partial=fh,e.partialRight=mh,e.partition=sh,e.pick=Uh,e.pickBy=Xl,e.property=Wc,e.propertyOf=Uc,e.pull=Wd,e.pullAll=Ts,e.pullAllBy=Es,e.pullAllWith=As,e.pullAt=Ud,e.range=cp,e.rangeRight=up,e.rearg=gh,e.reject=ya,e.remove=zs,e.rest=La,e.reverse=Is,e.sampleSize=ka,e.set=Ql,e.setWith=Zl,e.shuffle=Ca,e.slice=Os,e.sortBy=ah,e.sortedUniq=Fs,e.sortedUniqBy=Hs,e.split=wc,e.spread=Ba,e.tail=Ws,e.take=Us,e.takeRight=Ns,e.takeRightWhile=Ys,e.takeWhile=qs,e.tap=ea,e.throttle=Fa,e.thru=oa,e.toArray=kl,e.toPairs=Nh,e.toPairsIn=Yh,e.toPath=Kc,e.toPlainObject=El,e.transform=Jl,e.unary=Ha,e.union=Nd,e.unionBy=Yd,e.unionWith=qd,e.uniq=Vs,e.uniqBy=Gs,e.uniqWith=Xs,e.unset=tc,e.unzip=Ks,e.unzipWith=Qs,e.update=ec,e.updateWith=oc,e.values=nc,e.valuesIn=ic,e.without=Vd,e.words=Ec,e.wrap=Wa,e.xor=Gd,e.xorBy=Xd,e.xorWith=Kd,e.zip=Qd,e.zipObject=Zs,e.zipObjectDeep=Js,e.zipWith=Zd,e.entries=Nh,e.entriesIn=Yh,e.extend=zh,e.extendWith=Ih,Lc(e,e),e.add=dp,e.attempt=tp,e.camelCase=qh,e.capitalize=lc,e.ceil=hp,e.clamp=rc,e.clone=Na,e.cloneDeep=qa,e.cloneDeepWith=Va,e.cloneWith=Ya,e.conformsTo=Ga,e.deburr=cc,e.defaultTo=Oc,e.divide=pp,e.endsWith=uc,e.eq=Xa,e.escape=dc,e.escapeRegExp=hc,e.every=ua,e.find=eh,e.findIndex=ms,e.findKey=Ol,e.findLast=oh,e.findLastIndex=gs,e.findLastKey=Pl,e.floor=fp,e.forEach=ma,e.forEachRight=ga,e.forIn=Dl,e.forInRight=Ml,e.forOwn=Rl,e.forOwnRight=Ll,e.get=Hl,e.gt=vh,e.gte=bh,e.has=Wl,e.hasIn=Ul,e.head=$s,e.identity=Pc,e.includes=va,e.indexOf=ys,e.inRange=sc,e.invoke=Bh,e.isArguments=wh,e.isArray=_h,e.isArrayBuffer=$h,e.isArrayLike=Ka,e.isArrayLikeObject=Qa,e.isBoolean=Za,e.isBuffer=yh,e.isDate=xh,e.isElement=Ja,e.isEmpty=tl,e.isEqual=el,e.isEqualWith=ol,e.isError=nl,e.isFinite=il,e.isFunction=rl,e.isInteger=sl,e.isLength=al,e.isMap=kh,e.isMatch=ul,e.isMatchWith=dl,e.isNaN=hl,e.isNative=pl,e.isNil=ml,e.isNull=fl,e.isNumber=gl,e.isObject=ll,e.isObjectLike=cl,e.isPlainObject=vl,e.isRegExp=Ch,e.isSafeInteger=bl,e.isSet=jh,e.isString=wl,e.isSymbol=_l,e.isTypedArray=Sh,e.isUndefined=$l,e.isWeakMap=yl,e.isWeakSet=xl,e.join=ks,e.kebabCase=Vh,e.last=Cs,e.lastIndexOf=js,e.lowerCase=Gh,e.lowerFirst=Xh,e.lt=Th,e.lte=Eh,e.max=Zc,e.maxBy=Jc,e.mean=tu,e.meanBy=eu,e.min=ou,e.minBy=nu,e.stubArray=Nc,e.stubFalse=Yc,e.stubObject=qc,e.stubString=Vc,e.stubTrue=Gc,e.multiply=mp,e.nth=Ss,e.noConflict=Bc,e.noop=Fc,e.now=lh,e.pad=pc,e.padEnd=fc,e.padStart=mc,e.parseInt=gc,e.random=ac,e.reduce=_a,e.reduceRight=$a,e.repeat=vc,e.replace=bc,e.result=Kl,e.round=gp,e.runInContext=jn,e.sample=xa,e.size=ja,e.snakeCase=Kh,e.some=Sa,e.sortedIndex=Ps,e.sortedIndexBy=Ds,e.sortedIndexOf=Ms,e.sortedLastIndex=Rs,e.sortedLastIndexBy=Ls,e.sortedLastIndexOf=Bs,e.startCase=Qh,e.startsWith=_c,e.subtract=vp,e.sum=iu,e.sumBy=ru,e.template=$c,e.times=Xc,e.toFinite=Cl,e.toInteger=jl,e.toLength=Sl,e.toLower=yc,e.toNumber=Tl,e.toSafeInteger=Al,e.toString=zl,e.toUpper=xc,e.trim=kc,e.trimEnd=Cc,e.trimStart=jc,e.truncate=Sc,e.unescape=Tc,e.uniqueId=Qc,e.upperCase=Zh,e.upperFirst=Jh,e.each=ma,e.eachRight=ga,e.first=$s,Lc(e,function(){var t={};return en(e,function(o,n){_u.call(e.prototype,n)||(t[n]=o)}),t}(),{chain:!1}),e.VERSION=rt,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),c(["drop","take"],function(t,e){i.prototype[t]=function(o){o=o===it?1:Xu(jl(o),0);var n=this.__filtered__&&!e?new i(this):this.clone();return n.__filtered__?n.__takeCount__=Ku(o,n.__takeCount__):n.__views__.push({size:Ku(o,Lt),type:t+(n.__dir__<0?"Right":"")}),n},i.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var o=e+1,n=o==zt||o==Ot;i.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Cr(t,3),type:o}),e.__filtered__=e.__filtered__||n,e}}),c(["head","last"],function(t,e){var o="take"+(e?"Right":"");i.prototype[t]=function(){return this[o](1).value()[0]}}),c(["initial","tail"],function(t,e){var o="drop"+(e?"":"Right");i.prototype[t]=function(){return this.__filtered__?new i(this):this[o](1)}}),i.prototype.compact=function(){return this.filter(Pc)},i.prototype.find=function(t){return this.filter(t).head()},i.prototype.findLast=function(t){return this.reverse().find(t)},i.prototype.invokeMap=si(function(t,e){return"function"==typeof t?new i(this):this.map(function(o){return En(o,t,e)})}),i.prototype.reject=function(t){return this.filter(Ma(Cr(t)))},i.prototype.slice=function(t,e){t=jl(t);var o=this;return o.__filtered__&&(t>0||e<0)?new i(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==it&&(e=jl(e),o=e<0?o.dropRight(-e):o.take(e-t)),o)},i.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},i.prototype.toArray=function(){return this.take(Lt)},en(i.prototype,function(t,o){var r=/^(?:filter|find|map|reject)|While$/.test(o),s=/^(?:head|last)$/.test(o),a=e[s?"take"+("last"==o?"Right":""):o],l=s||/^find/.test(o);a&&(e.prototype[o]=function(){var o=this.__wrapped__,c=s?[1]:arguments,u=o instanceof i,d=c[0],h=u||_h(o),p=function(t){var o=a.apply(e,g([t],c));return s&&f?o[0]:o};h&&r&&"function"==typeof d&&1!=d.length&&(u=h=!1);var f=this.__chain__,m=!!this.__actions__.length,v=l&&!f,b=u&&!m;if(!l&&h){o=b?o:new i(this);var w=t.apply(o,c);return w.__actions__.push({func:oa,args:[p],thisArg:it}),new n(w,f)}return v&&b?t.apply(this,c):(w=this.thru(p),v?s?w.value()[0]:w.value():w)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var o=mu[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return o.apply(_h(e)?e:[],t)}return this[n](function(e){return o.apply(_h(e)?e:[],t)})}}),en(i.prototype,function(t,o){var n=e[o];if(n){var i=n.name+"",r=ld[i]||(ld[i]=[]);r.push({name:o,func:n})}}),ld[or(it,bt).name]=[{name:"wrapper",func:it}],i.prototype.clone=_,i.prototype.reverse=E,i.prototype.value=Q,e.prototype.at=Jd,e.prototype.chain=na,e.prototype.commit=ia,e.prototype.next=ra,e.prototype.plant=aa,e.prototype.reverse=la,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=ca,e.prototype.first=e.prototype.head,Mu&&(e.prototype[Mu]=sa),e},Cn=kn();ln._=Cn,n=function(){return Cn}.call(e,o,e,i),!(n!==it&&(i.exports=n))}).call(this)}).call(e,function(){return this}(),o(8)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e,o,n,i,r){var s={x:0,y:0,width:o,height:n},a=t/e,l=o/n,c=void 0;return a>l?(c=n/e,s.width=t*c,s.x=(o-s.width)*i):(c=o/t,s.height=e*c,s.y=(n-s.height)*r),s}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(7);e["default"]=function(){return{_listeners:null,addEventListener:function(t,e){null==this._listeners&&(this._listeners=[]),this._listeners.push({event:t,callback:e})},dispatchEvent:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=this._listeners&&this._listeners.filter(function(e){return e.event==t}).forEach(function(t){return t.callback.call(e,(0,n.assign)({target:e,currentTarget:e},o))})},removeEventListener:function(t,e){null!=this._listeners&&(this._listeners=this._listeners.filter(function(o){return o.event!=t||o.callback!=e}))}}}},,function(t,e){t.exports="precision mediump float;\n\n/*\nMESSY CODE AHEAD\n(sorry, experimenting)\n*/\n\nuniform float u_time;\nvarying vec2 v_position;\nuniform sampler2D u_image;\nuniform sampler2D u_image2;\nuniform sampler2D u_mask;\nuniform sampler2D u_depth;\nuniform sampler2D u_noise;\nuniform sampler2D u_content;\nuniform int u_contentLoaded;\nuniform vec2 u_contentSize;\nuniform vec2 u_contentPos;\nuniform int u_noiseSize;\nuniform vec2 u_noiseR;\nuniform vec2 u_noiseG;\nuniform vec2 u_noiseB;\nuniform vec2 u_parallax;\nuniform float u_distort;\nuniform vec2 u_resolution;\nuniform float u_scroll;\n\n\nvec4 blend(vec4 bg,vec4 fg){\n  vec3 bgm=bg.rgb*bg.a;\n  vec3 fgm=fg.rgb*fg.a;\n  float ia=1.0-fg.a;\n  float a=(fg.a + bg.a * ia);\n  vec3 rgb;\n  if(a!=0.0){\n    rgb=(fgm + bgm * ia) / a;\n  }else{\n    rgb=vec3(0.0,0.0,0.0);\n  }\n  return vec4(rgb,a);\n}\n\nvec2 pos(){\n  return vec2(0.0,0.0);\n}\n\nfloat wave(float x,float freq, float speed){\n  return sin(x*freq+((u_time*(3.1415/2.0))*speed));\n}\n\nvec2 turbulence(vec2 pos,float mask){\n\n  vec2 intensity=vec2(0.0025,0.0016);\n  vec2 v=mask*intensity;\n\n  vec2 vwave=vec2(\n    wave(pos.x,25.0,-0.73),\n    wave(pos.y,40.0,0.5)\n  );\n\n  return pos+vwave*v;\n}\n/* vec2 depth(vec2 pos){\n  vec2 intensity=vec2(0.0085,0.004);\n  float vdepth=texture2D(u_depth,pos).r;\n  float d=0.5-pow(vdepth,1.0);\n  vec2 parallax=u_parallax;\n  return pos+(intensity*parallax*d);\n} */\n\nfloat getNoise(vec2 offset){\n  float noisePixel=(1.0/float(u_noiseSize))*1.0;\n  return texture2D(u_noise,(gl_FragCoord.xy+offset)*noisePixel).r;\n}\n\nvec2 getContentPos(vec2 pos){\n  vec2 pixelPos=pos*u_resolution;\n  return (pixelPos-u_contentPos)/u_contentSize;\n}\n\nvoid main(){\n  vec2 pos=v_position.xy;\n\n  /*float mask=texture2D(u_mask,pos).r;\n  vec2 turbulenced=turbulence(pos,mask);\n  vec2 diff=abs(turbulenced-pos);\n  vec2 depthed=depth(turbulenced);\n  gl_FragColor=texture2D(u_image,depthed);*/\n\n  pos-=vec2(0.0,u_scroll*0.001);\n  float mask=texture2D(u_mask,pos).r;\n  vec2 turbulenced=turbulence(pos,mask);\n  vec2 diff=abs(turbulenced-pos);\n  //vec2 depthed=depth(turbulenced);\n  vec4 c=texture2D(u_image,turbulenced);\n  //gl_FragColor=c;\n\n  /* if(u_contentLoaded==1){\n    vec2 contentPos=getContentPos(turbulenced);\n    if(contentPos.x>=0.0 && contentPos.x<=1.0 && contentPos.y>=0.0 && contentPos.y<=1.0){\n      vec4 content=texture2D(u_content,contentPos);\n\n      c=blend(c,content);\n    }\n  } */\n  // vec4 c2=vec4(vec3(0.0),1.0);\n  // c+=texture2D(u_image,pos+getNoise(u_noiseR)*0.005);\n  // c+=texture2D(u_image,pos+getNoise(u_noiseG)*0.005);\n  // c+=texture2D(u_image,pos+getNoise(u_noiseB)*0.005);\n  // c/=4.0;\n\n  // c+=vec4(vec3(u_distort),1.0);\n  float noise=0.1;\n  // c*=(1.0-noise)+(mod(u_time*3535.546+pos.x*3423.66+pos.y*653.39,10.0)/10.0)*noise;\n  gl_FragColor=vec4(c);\n}\n"}]);var CompareBlock=function(){var t=this,e=($(".compare"),$(".compare-goods .compare-list__column").length),o=$(".compare-list__column").width(),n=($(".compare-fixed"),$(".compare-change__prev")),i=$(".compare-change__next"),r=$(".compare-list").css("left"),s=parseInt(r,10)||0,a=Math.floor($(".compare-list").outerWidth()/o),l=a;t.showPrevItem=function(){return s+o>0?(n.prop("disabled",!0),void i.prop("disabled",!1)):(l--,$(".compare-list").animate({left:s+o},150),void i.prop("disabled",!1))},t.showNextItem=function(){l++,$(".compare-list").animate({left:s-o},150)},t.currentPosition=function(){setTimeout(function(){return r=$(".compare-list").css("left"),s=parseInt(r,10)||0,s<0?n.prop("disabled",!1):0===s&&n.prop("disabled",!0),e-l<1?void i.prop("disabled",!0):s},220)},t.block_check=function(){$(".compare-change__button").css("top",$(".compare-list__column").outerHeight()/2+"px"),a>=e&&$(".compare-change").hide()},t.item_number=function(){$(".compare-change__number").html(l+1-a+"-"+l+" из "+e)},i.click(function(){t.showNextItem(),t.currentPosition(),t.item_number()}),n.click(function(){t.showPrevItem(),t.currentPosition(),t.item_number()}),t.fixHeader=function(){var t=$(".header-desktop");if($(window).width()<960)var t=$(".compare__head");var e=$(".compare")[0].getBoundingClientRect().top-t.outerHeight()+1,o=$(".compare")[0].getBoundingClientRect().bottom-$(".compare-row:last-child").outerHeight()-$(".compare__fixed").outerHeight()-t.outerHeight()+1;$(".compare-list__column").outerHeight();e<=0?o<=0?($(".compare__fixed").addClass("compare__fixed_abs"),$(".compare__fixed").css({bottom:$(".compare-row:last-child").outerHeight(),top:"auto"}),$(".compare-change__prev").css("left","0"),$(".compare-change__next").css("right","0")):($(".compare__fake").outerHeight($(".compare__fixed").outerHeight()),$(".compare__fixed").removeClass("compare__fixed_abs"),$(".compare__fixed").css({bottom:"auto",top:t.outerHeight()}),$(".compare__fixed").addClass("compare__fixed_fix"),$(".prod-card__pict").addClass("prod-card__pict_fix"),$(".prod-card__rate").addClass("prod-card__rate_fix"),$(".prod-card__hide").hide(),$(".compare-change__button").css("top",$(".compare-list__column").outerHeight()/2+"px"),$(".compare-change__prev").css("left","20px"),$(".compare-change__next").css("right","20px")):($(".compare__fake").outerHeight(0),$(".compare__fixed").removeClass("compare__fixed_fix"),$(".prod-card__pict").removeClass("prod-card__pict_fix"),$(".prod-card__rate").removeClass("prod-card__rate_fix"),$(".prod-card__hide").show(),$(".compare-change__button").css("top",$(".compare-list__column").outerHeight()/2+"px"),$(".compare-change__prev").css("left","0"),$(".compare-change__next").css("right","0"))},$(window).on("scroll","",function(){t.fixHeader()})};$(function(){if($(".compare").length>0){var t=new CompareBlock;t.block_check(),t.currentPosition(),t.item_number()}$(".js-select-change-page").change(function(){location.href=$(this).find("option:selected").val()}),$(".js-compare-clear").click(function(){$.ajax({url:"/compare/ajax/update-list.php",data:{action:"clear",GROUP_KEY:$(this).data("group")},type:"GET",success:function(){location.reload()}})})});var $btnShowDiff=$(".js-compare-difference"),$btnShowAll=$(".js-compare-all"),$compareRow=$(".js-compare-row");$btnShowDiff.on("click",function(t){t.preventDefault(),$(this).addClass("active"),$btnShowAll.removeClass("active"),$('[data-difference="0"]').slideUp(),$compareRow.each(function(){0===$(this).find('[data-difference="1"]').length&&$(this).slideUp()})}),$btnShowAll.on("click",function(t){t.preventDefault(),$(this).addClass("active"),$btnShowDiff.removeClass("active"),$('[data-difference="0"]').slideDown(),$compareRow.each(function(){0===$(this).find('[data-difference="1"]').length&&$(this).slideDown()})}),$(document).on("click",".js-btn-like",function(){$(this).hasClass("is-liked")?$(this).removeClass("is-liked"):$(this).addClass("is-liked")}),$(document).on("click",".js-btn-сompare",function(){$(this).hasClass("is-compared")?$(this).removeClass("is-compared"):$(this).addClass("is-compared")}),$(function(){$(".sumoselect_region").SumoSelect({floatWidth:10,placeholder:"Выберите город",captionFormat:"{0} выбрано",captionFormatAllSelected:"Все города выбраны",forceCustomRendering:!0})}),$(function(){$(".service-select .options").mCustomScrollbar({theme:"minimal-dark",scrollInertia:0}),$(".js-city-select").change(function(){$('form#js-filter-dealers input[name="'+$(this).attr("name")+'"]').val($(this).find("option:selected").val())})}),function(){for(var t=document.getElementsByTagName("script"),e="",o=0;o<t.length;o++)t[o].src&&t[o].src.match(/html5lightbox\.js/i)&&(e=t[o].src.substr(0,t[o].src.lastIndexOf("/")+1));var n=!1;if("undefined"==typeof jQuery)n=!0;else{var i=jQuery.fn.jquery.split(".");(i[0]<1||1==i[0]&&i[1]<6)&&(n=!0)}if(n){var r=document.getElementsByTagName("head")[0],s=document.createElement("script");s.setAttribute("type","text/javascript"),s.readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadystatechange=null,loadHtml5LightBox(e))}:s.onload=function(){loadHtml5LightBox(e)},s.setAttribute("src",e+"jquery.js"),r.appendChild(s)}else loadHtml5LightBox(e)}(),$(function(){$("form#js-filter-dealers").submit(function(t){t.preventDefault(),$.ajax({url:"/ajax/dealers-get.php",data:{FILTER:$("form#js-filter-dealers").serializeArray()},dataType:"json",success:function(t){$("#js-for-load-dealers").html(t.page)}})}),$("form#js-filter-dealers button[type=reset]").click(function(){setTimeout(function(t){$("form#js-filter-dealers").submit()},100)})}),$(function(){$("form#js-filter-dealers-from-product-card").submit(function(t){t.preventDefault(),$.ajax({method:"post",url:"/ajax/dealers-get.php",data:{FILTER:$("form#js-filter-dealers-from-product-card").serializeArray()},dataType:"json",success:function(t){$("#js-for-load-dealers").html(t.page)}})}),$("form#js-filter-dealers button[type=reset]").click(function(){setTimeout(function(t){$("form#js-filter-dealers").submit()},100)})}),$(function(){$(".dealer-popup__section").length&&($(".page").addClass("page_notransform"),$(document).on("click",".js-dealer-popup_show",function(){$(this).parents(".row-item").find(".dealer-popup").show(),$(this).parents(".row-item").find(".dealer-popup").addClass("is-active"),$(".dealer-popup.is-active .dealer-popup__inner").transition({x:0},600,"easeOutQuad")}).on("click",".js-dealer-popup_hide",function(){$(".dealer-popup.is-active .dealer-popup__inner").transition({x:"100%",duration:600,easing:"easeInQuad",complete:function(){$(".dealer-popup").hide()}}),$(".dealer-popup").removeClass("is-active")}))}),$(function(){function t(){$.ajax({url:"/object/ajax/object-get.php",data:e($(".object__paging>.paging>li.is-active>a").data("pagen-value")),type:"GET",dataType:"json",success:function(t){console.log(t),$("#js-for-more-objects").html(t.page),$(".js-dotdotdot").dotdotdot({ellipsis:"... ",watch:!0}),$("html,body").animate({scrollTop:$(".object__another").offset().top+"px"},{duration:1e3})}})}$("#js-for-more-objects").children().removeClass("hidden");var e=function(t){var e={};return e[$("#pagen-key-info").data("pagen-key")]=t||1,$(".js-objecttag-filter.active").data("type")&&(e.type=$(".js-objecttag-filter.active").data("type")),e};$("body").on("click",".object__paging>.paging>li>a",function(e){e.preventDefault(),$(".object__paging>.paging>li").removeClass("is-active"),$(this).parent().addClass("is-active");var o=$(this).attr("href"),n=o.substr(o.indexOf("?"));history.pushState(null,null,n),t()}),$("body").on("click","#js-for-more-objects .js-load-cat-prod",function(){var t=$(this),o=$("#js-for-more-objects");t.addClass("loading"),$.ajax({type:"GET",url:"/object/ajax/object-get-more.php",data:e(Number($(".object__paging>.paging>li.is-active>a").data("pagen-value"))+1),dataType:"json",cache:!1,error:function(){t.removeClass("loading")},success:function(e){o.children(".another-object-list").append(e.page),$(".js-dotdotdot").dotdotdot({ellipsis:"... ",watch:!0}),$(".object__paging").html(e.nav),setTimeout(function(){o.addClass("has-added"),o.find(".just-loaded").removeClass("just-loaded"),t.removeClass("loading")},1e3)}})}),$("body").on("click",".js-objecttag-filter",function(e){return e.preventDefault(),!$(this).hasClass("active")&&($(".js-objecttag-filter").removeClass("active"),$(this).addClass("active"),$(".js-tags").parent().hasClass("is-active")&&$(".js-tags").parent().removeClass("is-active"),$(".js-tags").text($(this).text()),void t())})}),$(function(){$("body").on("click",".js-btn-сompare, .js-update-compare",function(){var t=$(this),e=t.data("action"),o=t.data("code"),n=t.data("group");$.ajax({url:"/compare/ajax/update-list.php",data:{action:e,CODE:o,GROUP_KEY:n},type:"GET",dataType:"json",success:function(o){1==t.data("reload")&&location.reload(),parseInt(o.count)>0?$(".compare-link").removeAttr("disabled"):$(".compare-link").attr("disabled",!0),$(".js-compare-count").text(o.count),"add"==e?t.data("action","remove"):t.data("action","add")}})}),$(document).on("click",".js-stash-sort",function(){$("#js-for-load-cat-prod").fadeOut();var t=$(this),e=$(this).attr("data-order-key"),o=$(this).attr("data-order-value");$.ajax({method:"POST",url:"/wishlist/ajax/sort-wishlist.php",dataType:"json",data:{sort:"Y",name:e,order:o},success:function(e){console.log(e),$(".sorting__by-item").removeClass("is-active"),$("#js-for-load-cat-prod").replaceWith(e.html),t.parent().addClass("is-active"),"desc"==e.sort?(t.children(".sorting__icon").removeClass("icon-za"),t.children(".sorting__icon").addClass("icon-az"),t.attr("data-order-value","desc")):(t.children(".sorting__icon").removeClass("icon-az"),t.children(".sorting__icon").addClass("icon-za"),t.attr("data-order-value","asc")),$("#js-for-load-cat-prod").fadeIn()}})}).on("click",".wishlist-filter__reset-btn",function(){$.ajax({method:"POST",url:"/wishlist/ajax/clear-wishlist.php",success:function(){location.reload()}})}).on("click",".prod-card__top-btn_like",function(){var t=$(this),e=$(this).attr("data-code"),o=$(this).attr("data-action");$.ajax({method:"POST",url:"/wishlist/ajax/add-to-wishlist.php",dataType:"json",data:{code:e,action:o},success:function(e){t.attr("data-action",e.action.trim()),$("#wishlist-count-head").empty(),$("#wishlist-count-head").append(e.count),window.location.href.indexOf("/wishlist")>=0&&location.reload()}})}).on("click","#catalog-detail-to-wishlist",function(){var t=$(this),e=$(this).attr("data-code"),o=$(this).attr("data-action");$.ajax({method:"POST",url:"/wishlist/ajax/add-to-wishlist.php",dataType:"json",data:{code:e,action:o},success:function(e){console.log(t.children().next()),t.attr("data-action",e.action.trim()),$("#wishlist-count-head").empty(),$("#wishlist-count-head").append(e.count),"remove"==e.action.trim()?($("#catalog-detail-stash-button-1").empty(),$("#catalog-detail-stash-button-1").append("Отложено")):($("#catalog-detail-stash-button-1").empty(),$("#catalog-detail-stash-button-1").append("Отложить"))}})}),$("#catalog-detail-to-compare").on("click",function(){$.ajax({url:"/compare/ajax/update-list.php",method:"get",data:{action:$(this).attr("data-action"),CODE:$(this).attr("data-code"),GROUP_KEY:$(this).attr("data-group")},dataType:"json",success:function(t){$(".js-compare-count").text(t.count),"add"==$("#catalog-detail-to-compare").attr("data-action")?($(".compare-link").removeAttr("disabled"),$("#catalog-detail-to-compare").attr("data-action","remove")):$("#catalog-detail-to-compare").attr("data-action","add")}})})}),$(function(){var t=[];$(".js-search-city").autocomplete({source:t,open:function(t,e){$(".city-select__search").addClass("city-select__search_open"),$(this).parent().find(".icon-search").addClass("icon-close")},close:function(t,e){$(".city-select__search").removeClass("city-select__search_open"),$(this).parent().find(".icon-search").removeClass("icon-close")},select:function(t,e){location.href="?CHANGE_CITY_ID="+e.item.id}}),$(document).on("click",".js-correct-popup",function(){$(".header__geolocation-popup").is(":visible")?$(".header__geolocation-popup").fadeOut(300):$(".header__geolocation-popup").fadeIn(300)}),$(document).on("click",".js-geo-correct",function(){$(".header__geolocation-popup").fadeOut(300)}),$(document).on("click",".js-geo-choose",function(){$(this).parent().hide(),jQuery.fancybox.open({href:"#geo-check",closeBtn:!1,padding:0})}),$(document).on("click",".js-change-city-close",function(){$.fancybox.close()}),$(window).width()<=global.tabletLgSize&&$(".city-select__list").mCustomScrollbar({theme:"minimal-dark"})});var headerDesktop=$("#header-desktop"),mobileDesktop=$(".header-mobile");$(document).ready(function(){headerScrollHandler(),headerToWhite()});var headerTimer;$(window).resize(function(t){clearTimeout(headerTimer),headerTimer=setTimeout(function(){headerScrollHandler(),headerToWhite()},250)}),function(){function t(){A.keyboardSupport&&p("keydown",r)}function e(){if(!P&&document.body){P=!0;var e=document.body,o=document.documentElement,n=window.innerHeight,i=e.scrollHeight;if(D=document.compatMode.indexOf("CSS")>=0?o:e,k=e,t(),top!=self)I=!0;else if(ot&&i>n&&(e.offsetHeight<=n||o.offsetHeight<=n)){var r=document.createElement("div");r.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+D.scrollHeight+"px",document.body.appendChild(r);var s;j=function(){s||(s=setTimeout(function(){z||(r.style.height="0",r.style.height=D.scrollHeight+"px",s=null)},500))},setTimeout(j,10),p("resize",j);var a={attributes:!0,childList:!0,characterData:!1};if(C=new G(j),C.observe(e,a),D.offsetHeight<=n){var l=document.createElement("div");l.style.clear="both",e.appendChild(l)}}A.fixedBackground||z||(e.style.backgroundAttachment="scroll",o.style.backgroundAttachment="scroll")}}function o(){C&&C.disconnect(),f(q,i),f("mousedown",s),f("keydown",r),f("resize",j),f("load",e)}function n(t,e,o){if(g(e,o),1!=A.accelerationMax){var n=Date.now(),i=n-W;if(i<A.accelerationDelta){var r=(1+50/i)/2;r>1&&(r=Math.min(r,A.accelerationMax),e*=r,o*=r)}W=Date.now()}if(F.push({x:e,y:o,lastX:e<0?.99:-.99,lastY:o<0?.99:-.99,start:Date.now()}),!H){var s=t===document.body,a=function(n){for(var i=Date.now(),r=0,l=0,c=0;c<F.length;c++){var u=F[c],d=i-u.start,h=d>=A.animationTime,p=h?1:d/A.animationTime;A.pulseAlgorithm&&(p=y(p));var f=u.x*p-u.lastX>>0,m=u.y*p-u.lastY>>0;r+=f,l+=m,u.lastX+=f,u.lastY+=m,h&&(F.splice(c,1),c--)}s?window.scrollBy(r,l):(r&&(t.scrollLeft+=r),l&&(t.scrollTop+=l)),e||o||(F=[]),F.length?V(a,t,1e3/A.frameRate+1):H=!1};V(a,t,0),H=!0}}function i(t){P||e();var o=t.target;if(t.defaultPrevented||t.ctrlKey)return!0;if(m(k,"embed")||m(o,"embed")&&/\.pdf/i.test(o.src)||m(k,"object")||o.shadowRoot)return!0;var i=-t.wheelDeltaX||t.deltaX||0,r=-t.wheelDeltaY||t.deltaY||0;R&&(t.wheelDeltaX&&b(t.wheelDeltaX,120)&&(i=-120*(t.wheelDeltaX/Math.abs(t.wheelDeltaX))),t.wheelDeltaY&&b(t.wheelDeltaY,120)&&(r=-120*(t.wheelDeltaY/Math.abs(t.wheelDeltaY)))),i||r||(r=-t.wheelDelta||0),1===t.deltaMode&&(i*=40,r*=40);var s=c(o);return s?!!v(r)||(Math.abs(i)>1.2&&(i*=A.stepSize/120),Math.abs(r)>1.2&&(r*=A.stepSize/120),n(s,i,r),t.preventDefault(),void a()):!I||!Z||(Object.defineProperty(t,"target",{value:window.frameElement}),parent.wheel(t))}function r(t){var e=t.target,o=t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.keyCode!==L.spacebar;document.body.contains(k)||(k=document.activeElement);var i=/^(textarea|select|embed|object)$/i,r=/^(button|submit|radio|checkbox|file|color|image)$/i;if(t.defaultPrevented||i.test(e.nodeName)||m(e,"input")&&!r.test(e.type)||m(k,"video")||_(t)||e.isContentEditable||o)return!0;if((m(e,"button")||m(e,"input")&&r.test(e.type))&&t.keyCode===L.spacebar)return!0;if(m(e,"input")&&"radio"==e.type&&B[t.keyCode])return!0;var s,l=0,u=0,d=c(k);if(!d)return!I||!Z||parent.keydown(t);var h=d.clientHeight;switch(d==document.body&&(h=window.innerHeight),t.keyCode){case L.up:u=-A.arrowScroll;break;case L.down:u=A.arrowScroll;break;case L.spacebar:s=t.shiftKey?1:-1,u=-s*h*.9;break;case L.pageup:u=.9*-h;break;case L.pagedown:u=.9*h;break;case L.home:u=-d.scrollTop;break;case L.end:var p=d.scrollHeight-d.scrollTop,f=p-h;u=f>0?f+10:0;break;case L.left:l=-A.arrowScroll;break;case L.right:l=A.arrowScroll;break;default:return!0}n(d,l,u),t.preventDefault(),a()}function s(t){k=t.target}function a(){clearTimeout(S),S=setInterval(function(){N={}},1e3)}function l(t,e){for(var o=t.length;o--;)N[U(t[o])]=e;return e}function c(t){var e=[],o=document.body,n=D.scrollHeight;do{var i=N[U(t)];if(i)return l(e,i);if(e.push(t),n===t.scrollHeight){var r=d(D)&&d(o),s=r||h(D);if(I&&u(D)||!I&&s)return l(e,X())}else if(u(t)&&h(t))return l(e,t)}while(t=t.parentElement)}function u(t){return t.clientHeight+10<t.scrollHeight}function d(t){var e=getComputedStyle(t,"").getPropertyValue("overflow-y");return"hidden"!==e}function h(t){var e=getComputedStyle(t,"").getPropertyValue("overflow-y");return"scroll"===e||"auto"===e}function p(t,e){window.addEventListener(t,e,!1)}function f(t,e){window.removeEventListener(t,e,!1)}function m(t,e){return(t.nodeName||"").toLowerCase()===e.toLowerCase()}function g(t,e){t=t>0?1:-1,e=e>0?1:-1,O.x===t&&O.y===e||(O.x=t,O.y=e,F=[],W=0)}function v(t){if(t)return M.length||(M=[t,t,t]),t=Math.abs(t),M.push(t),M.shift(),clearTimeout(T),T=setTimeout(function(){try{localStorage.SS_deltaBuffer=M.join(",")}catch(t){}},1e3),!w(120)&&!w(100)}function b(t,e){return Math.floor(t/e)==t/e}function w(t){return b(M[0],t)&&b(M[1],t)&&b(M[2],t)}function _(t){var e=t.target,o=!1;if(document.URL.indexOf("www.youtube.com/watch")!=-1)do if(o=e.classList&&e.classList.contains("html5-video-controls"))break;while(e=e.parentNode);return o}function $(t){var e,o,n;return t*=A.pulseScale,t<1?e=t-(1-Math.exp(-t)):(o=Math.exp(-1),t-=1,n=1-Math.exp(-t),e=o+n*(1-o)),e*A.pulseNormalize}function y(t){return t>=1?1:t<=0?0:(1==A.pulseNormalize&&(A.pulseNormalize/=$(1)),$(t))}function x(t){for(var e in t)E.hasOwnProperty(e)&&(A[e]=t[e])}var k,C,j,S,T,E={frameRate:100,animationTime:500,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,
keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},A=E,z=!1,I=!1,O={x:0,y:0},P=!1,D=document.documentElement,M=[],R=/^Mac/.test(navigator.platform),L={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},B={37:1,38:1,39:1,40:1},F=[],H=!1,W=Date.now(),U=function(){var t=0;return function(e){return e.uniqueID||(e.uniqueID=t++)}}(),N={};if(window.localStorage&&localStorage.SS_deltaBuffer)try{M=localStorage.SS_deltaBuffer.split(",")}catch(Y){}var q,V=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t,e,o){window.setTimeout(t,o||1e3/60)}}(),G=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,X=function(){var t;return function(){if(!t){var e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e);var o=document.body.scrollTop;document.documentElement.scrollTop;window.scrollBy(0,3),t=document.body.scrollTop!=o?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return t}}(),K=window.navigator.userAgent,Q=/Edge/.test(K),Z=/chrome/i.test(K)&&!Q,J=/safari/i.test(K)&&!Q,tt=/mobile/i.test(K),et=/Windows NT 6.1/i.test(K)&&/rv:11/i.test(K),ot=J&&(/Version\/8/i.test(K)||/Version\/9/i.test(K)),nt=(Z||J||et)&&!tt;"onwheel"in document.createElement("div")?q="wheel":"onmousewheel"in document.createElement("div")&&(q="mousewheel"),q&&nt&&(p(q,i),p("mousedown",s),p("load",e)),x.destroy=o,window.SmoothScrollOptions&&x(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return x}):"object"==typeof exports?module.exports=x:window.SmoothScroll=x}(),showHideRecoveryBlock(),showPassword(),openClosePopup();var resizeTimer;$(window).resize(function(t){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){},250)})}),$(document).on("click",".dealer-info-btn",function(t){t.preventDefault();var e=parseInt($(this).data("id"));return!(isNaN(e)||e<=0)&&void $.ajax({type:"POST",url:document.location.href,data:{action:"ajaxLoadDealer",id:e},success:function(t){$("#shop-info").html(t),jQuery.fancybox.open({href:"#dealer-popup",closeBtn:!1,padding:0,autoHeight:!0})},error:function(){}})});